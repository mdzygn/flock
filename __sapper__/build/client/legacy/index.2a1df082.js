import{_ as n,a as t,b as r,c as e,i as a,s as c,d as o,S as i,a9 as s,y as u,z as f,A as l,j as v,B as $,g as h,J as d,F as p,Z as m,K as y,G as g,$ as R,bd as I,L as j,D as E,l as D,I as N,a0 as S,t as V,h as b,M as w,Q as A,ab as O,a4 as P,as as C,be as x,a5 as L,bf as T,a6 as _,a7 as B,R as k,aP as M,aq as G,T as F,P as H,bg as q,ac as z,ad as J,bh as K,af as Q,ag as W,ah as X,f as Z,aj as U,a1 as Y,O as nn}from"./client.e229b9da.js";import{S as tn}from"./Proxy.828d0d07.js";import"./Hotspot.5c809319.js";import"./ContentPanel.9936b39d.js";import{C as rn}from"./ContentLoader.a887c96e.js";function en(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var a,c=t(n);if(e){var o=t(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return r(this,a)}}function an(n){var t;return{c:function(){t=u("div"),this.h()},l:function(n){t=f(n,"DIV",{class:!0}),l(t).forEach(v),this.h()},h:function(){$(t,"class","unseenIcon svelte-7jfayp")},m:function(n,r){h(n,t,r)},d:function(n){n&&v(t)}}}function cn(n){var t,r,e,a,c,o,i,A,O,P,C,x,L,T,_,B,k=new s({props:{user:n[4],useThumb:!0}}),M=!n[2]&&an();return{c:function(){t=u("div"),d(k.$$.fragment),r=p(),e=u("div"),a=u("div"),c=u("div"),o=m(n[5]),i=p(),A=u("div"),P=u("span"),C=m(n[3]),x=p(),L=u("div"),M&&M.c(),this.h()},l:function(s){t=f(s,"DIV",{class:!0});var u=l(t);y(k.$$.fragment,u),r=g(u),e=f(u,"DIV",{class:!0});var $=l(e);a=f($,"DIV",{class:!0});var h=l(a);c=f(h,"DIV",{class:!0});var d=l(c);o=R(d,n[5]),d.forEach(v),i=g(h),A=f(h,"DIV",{class:!0});var p=l(A);P=f(p,"SPAN",{class:!0});var m=l(P);C=R(m,n[3]),m.forEach(v),p.forEach(v),h.forEach(v),$.forEach(v),x=g(u),L=f(u,"DIV",{class:!0});var I=l(L);M&&M.l(I),I.forEach(v),u.forEach(v),this.h()},h:function(){$(c,"class","title svelte-7jfayp"),O=new I(P),$(P,"class","dateString svelte-7jfayp"),$(A,"class","message svelte-7jfayp"),$(a,"class","detailInnerContent svelte-7jfayp"),$(e,"class","detailContent svelte-7jfayp"),$(L,"class","info svelte-7jfayp"),$(t,"class","conversationListItem svelte-7jfayp")},m:function(s,u){h(s,t,u),j(k,t,null),E(t,r),E(t,e),E(e,a),E(a,c),E(c,o),E(a,i),E(a,A),O.m(n[1],A),E(A,P),E(P,C),E(t,x),E(t,L),M&&M.m(L,null),T=!0,_||(B=D(t,"click",n[6]),_=!0)},p:function(n,t){var r=N(t,1)[0],e={};16&r&&(e.user=n[4]),k.$set(e),(!T||32&r)&&S(o,n[5]),(!T||2&r)&&O.p(n[1]),(!T||8&r)&&S(C,n[3]),n[2]?M&&(M.d(1),M=null):M||((M=an()).c(),M.m(L,null))},i:function(n){T||(V(k.$$.fragment,n),T=!0)},o:function(n){b(k.$$.fragment,n),T=!1},d:function(n){n&&v(t),w(k),M&&M.d(),_=!1,B()}}}function on(n,t,r){var e,a,c,o=k,i=function(){return o(),o=P(D,function(n){return r(8,e=n)}),D},s=k;A(n,O,function(n){return r(13,a=n)}),n.$$.on_destroy.push(function(){return o()}),n.$$.on_destroy.push(function(){return s()});var u,f,l,v,$,h,d,p,m,y,g,R,I,j,E,D=t.conversation;return i(),n.$set=function(n){"conversation"in n&&i(r(0,D=n.conversation))},n.$$.update=function(){256&n.$$.dirty&&r(7,u=e&&e.title||""),256&n.$$.dirty&&r(9,f=e&&e.lastSenderId||null),256&n.$$.dirty&&r(10,l=e&&e.lastMessageText||""),1024&n.$$.dirty&&r(11,v=l&&C(l,{disallowLinks:!0,collapseBreaks:!0})),10752&n.$$.dirty&&r(12,$=v&&(f===a?"you: "+v:v)),4096&n.$$.dirty&&r(14,h=$&&x($,G.CONVERSATION_MAX_PREVIEW_LENGTH)),16384&n.$$.dirty&&r(1,d=h||"(image)"),256&n.$$.dirty&&(p=e&&e.id||null),256&n.$$.dirty&&(e&&e.projectId||null),256&n.$$.dirty&&r(2,m=!e||e.viewed),256&n.$$.dirty&&r(17,y=e&&e.lastMessageAt||null),131072&n.$$.dirty&&r(3,g=y&&" - "+L(y)||""),256&n.$$.dirty&&r(18,R=e&&T(e)||null),393216&n.$$.dirty&&(r(4,I=R&&y&&_(R,y)||B(null)),s(),s=P(I,function(n){return r(20,c=n)})),1310720&n.$$.dirty&&r(19,j=c&&c.name||R&&R.name||""),524416&n.$$.dirty&&r(5,E=u||j||"")},[D,d,m,g,I,E,function(){p&&M(p)}]}var sn=function(t){n(s,i);var r=en(s);function s(n){var t;return e(this,s),t=r.call(this),a(o(t),n,on,cn,c,{conversation:0}),t}return s}();function un(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var a,c=t(n);if(e){var o=t(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return r(this,a)}}function fn(n,t,r){var e=n.slice();return e[9]=t[r],e}function ln(n){var t,r,e,a,c,o,i,s,d,y,I,j,N,S,V=Y.CONVERSATIONS.NO_CONVERSATIONS+"";return{c:function(){t=u("div"),r=m(V),e=u("br"),a=u("br"),c=p(),o=u("a"),i=m("Discover"),s=m(" inspiring projects to get involved with"),d=u("br"),y=m("or create a "),I=u("a"),j=m("New Project"),this.h()},l:function(n){t=f(n,"DIV",{class:!0});var u=l(t);r=R(u,V),e=f(u,"BR",{}),a=f(u,"BR",{}),c=g(u),o=f(u,"A",{href:!0});var $=l(o);i=R($,"Discover"),$.forEach(v),s=R(u," inspiring projects to get involved with"),d=f(u,"BR",{}),y=R(u,"or create a "),I=f(u,"A",{href:!0});var h=l(I);j=R(h,"New Project"),h.forEach(v),u.forEach(v),this.h()},h:function(){$(o,"href","discover"),$(I,"href","/projects/new"),$(t,"class","noConversations svelte-pui8gu")},m:function(u,f){h(u,t,f),E(t,r),E(t,e),E(t,a),E(t,c),E(t,o),E(o,i),E(t,s),E(t,d),E(t,y),E(t,I),E(I,j),N||(S=D(I,"click",n[8]),N=!0)},p:k,i:k,o:k,d:function(n){n&&v(t),N=!1,S()}}}function vn(n){for(var t,r,e=n[3],a=[],c=0;c<e.length;c+=1)a[c]=hn(fn(n,e,c));var o=function(n){return b(a[n],1,1,function(){a[n]=null})};return{c:function(){for(var n=0;n<a.length;n+=1)a[n].c();t=Z()},l:function(n){for(var r=0;r<a.length;r+=1)a[r].l(n);t=Z()},m:function(n,e){for(var c=0;c<a.length;c+=1)a[c].m(n,e);h(n,t,e),r=!0},p:function(n,r){if(8&r){var c;for(e=n[3],c=0;c<e.length;c+=1){var i=fn(n,e,c);a[c]?(a[c].p(i,r),V(a[c],1)):(a[c]=hn(i),a[c].c(),V(a[c],1),a[c].m(t.parentNode,t))}for(F(),c=e.length;c<a.length;c+=1)o(c);H()}},i:function(n){if(!r){for(var t=0;t<e.length;t+=1)V(a[t]);r=!0}},o:function(n){a=a.filter(Boolean);for(var t=0;t<a.length;t+=1)b(a[t]);r=!1},d:function(n){U(a,n),n&&v(t)}}}function $n(n){var t,r=new rn({props:{label:Y.LOADING.CONVERSATIONS}});return{c:function(){d(r.$$.fragment)},l:function(n){y(r.$$.fragment,n)},m:function(n,e){j(r,n,e),t=!0},p:k,i:function(n){t||(V(r.$$.fragment,n),t=!0)},o:function(n){b(r.$$.fragment,n),t=!1},d:function(n){w(r,n)}}}function hn(n){var t,r=new sn({props:{conversation:n[9]}});return{c:function(){d(r.$$.fragment)},l:function(n){y(r.$$.fragment,n)},m:function(n,e){j(r,n,e),t=!0},p:function(n,t){var e={};8&t&&(e.conversation=n[9]),r.$set(e)},i:function(n){t||(V(r.$$.fragment,n),t=!0)},o:function(n){b(r.$$.fragment,n),t=!1},d:function(n){w(r,n)}}}function dn(n){var t,r,e,a,c,o,i=[$n,vn,ln],s=[];function d(n,t){return 116&t&&(r=!(!n[2]&&Q(n[5],n[4],n[6]))),r?0:n[3]&&n[3].length?1:2}return e=d(n,-1),a=s[e]=i[e](n),{c:function(){t=u("div"),a.c(),this.h()},l:function(n){t=f(n,"DIV",{class:!0});var r=l(t);a.l(r),r.forEach(v),this.h()},h:function(){$(t,"class",c="conversationList "+n[0]+" svelte-pui8gu")},m:function(n,r){h(n,t,r),s[e].m(t,null),o=!0},p:function(n,r){var u=N(r,1)[0],f=e;(e=d(n,u))===f?s[e].p(n,u):(F(),b(s[f],1,1,function(){s[f]=null}),H(),(a=s[e])||(a=s[e]=i[e](n)).c(),V(a,1),a.m(t,null)),(!o||1&u&&c!==(c="conversationList "+n[0]+" svelte-pui8gu"))&&$(t,"class",c)},i:function(n){o||(V(a),o=!0)},o:function(n){b(a),o=!1},d:function(n){n&&v(t),s[e].d()}}}function pn(n,t,r){var e,a,c,o,i,s=k,u=function(){return s(),s=P(f,function(n){return r(3,a=n)}),f};A(n,q,function(n){return r(7,e=n)}),A(n,O,function(n){return r(4,c=n)}),A(n,z,function(n){return r(5,o=n)}),A(n,J,function(n){return r(6,i=n)}),n.$$.on_destroy.push(function(){return s()});var f=B(null);u();var l,v=t.className,$=void 0===v?"":v;return n.$set=function(n){"className"in n&&r(0,$=n.className)},n.$$.update=function(){136&n.$$.dirty&&r(2,l=e&&!a),16&n.$$.dirty&&u(r(1,f=K({userId:c})))},[$,f,l,a,c,o,i,e,function(n){return W(),X(n)}]}var mn=function(t){n(s,i);var r=un(s);function s(n){var t;return e(this,s),t=r.call(this),a(o(t),n,pn,dn,c,{className:0}),t}return s}();function yn(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var a,c=t(n);if(e){var o=t(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return r(this,a)}}function gn(n){var t,r=new mn({});return{c:function(){d(r.$$.fragment)},l:function(n){y(r.$$.fragment,n)},m:function(n,e){j(r,n,e),t=!0},i:function(n){t||(V(r.$$.fragment,n),t=!0)},o:function(n){b(r.$$.fragment,n),t=!1},d:function(n){w(r,n)}}}function Rn(n){var t,r,e,a=new tn({props:{id:"messages",$$slots:{default:[gn]},$$scope:{ctx:n}}});return{c:function(){t=p(),r=u("div"),d(a.$$.fragment),this.h()},l:function(n){nn('[data-svelte="svelte-1y4v7mn"]',document.head).forEach(v),t=g(n),r=f(n,"DIV",{class:!0});var e=l(r);y(a.$$.fragment,e),e.forEach(v),this.h()},h:function(){document.title="Flock",$(r,"class","content")},m:function(n,c){h(n,t,c),h(n,r,c),j(a,r,null),e=!0},p:function(n,t){var r=N(t,1)[0],e={};1&r&&(e.$$scope={dirty:r,ctx:n}),a.$set(e)},i:function(n){e||(V(a.$$.fragment,n),e=!0)},o:function(n){b(a.$$.fragment,n),e=!1},d:function(n){n&&v(t),n&&v(r),w(a)}}}export default(function(t){n(s,i);var r=yn(s);function s(n){var t;return e(this,s),t=r.call(this),a(o(t),n,null,Rn,c,{}),t}return s}());
