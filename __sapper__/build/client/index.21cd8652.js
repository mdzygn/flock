import{S as t,i as e,s as n,C as s,D as l,E as a,K as r,t as o,c,F as i,q as $,e as m,r as d,u,d as f,v as h,b as p,x as g,R as v,T as A,z as y,A as I,B as w,L as D,I as b,J as E,ad as P,a4 as T,a3 as C,ae as H,Y as L,aF as N,af as V,aR as S,ah as M,ai as R,aj as B,ak as j,m as O,ag as k,W as F,am as W,b7 as x,V as z,ap as Y,$ as K,an as G,cw as Q,b3 as U,aq as Z,aa as q,ar as J,as as _,at as X,cx as tt,l as et,G as nt,U as st,a1 as lt,H as at,aW as rt,aw as ot,cy as ct,o as it,g as $t,a7 as mt,ax as dt,cz as ut,ay as ft,n as ht,aL as pt,aM as gt,aD as vt,cm as At,cl as yt,a5 as It,aC as wt,cA as Dt,cB as bt,cC as Et,a9 as Pt,ab as Tt}from"./client.d8a7aea0.js";import{S as Ct}from"./Proxy.1a60db9b.js";import"./Hotspot.7d4b9a0f.js";import{C as Ht}from"./ContentLoader.e231dcc7.js";import{P as Lt,N as Nt}from"./postPlaceholder.197421a6.js";import"./Counter.f4ae5349.js";import{P as Vt}from"./PostItem.47660ec4.js";import"./post_like_selected.c79724df.js";import"./SearchBar.61edfa8a.js";import"./next_arrow.b1598f96.js";import{F as St,c as Mt,A as Rt,a as Bt,b as jt,L as Ot,S as kt}from"./ActionBar.5cece9fe.js";import"./send.53c7ac4a.js";import"./ImageSelectionBox.21abe828.js";import"./save.71e29683.js";import{E as Ft}from"./EditPost.cefb8b41.js";const Wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA2CAYAAACbZ/oUAAADaklEQVRoQ+2Zi43UMBCG/6uA6wCoAKgAqACoAKgAqADoACoAOoAKgA6ggrsODioAfVIGzXrt2PHjiLIZabUrbWzP53naOdOJydmJ8WoH3rrFdwvvFt7YDuwu3WDQc0kvJD2Q9FnS+4a5hg3tZeG7kr5KAtoE6CfDNK+cuAdwDNbUuSfpR6VuQ4a1AoewvyX9knRz0vahpG9DNK+ctAU4Bkv8vpN0f9LnraQ3lboNGVYLnILFfbHopoDnYLHKpoBzsJsCLoENgS0OSWS4++X0wQu+DwnSzKSlMVwKy3IfJT0thKFWA/9pyu6Fw+ofKwFeAosmPA+IlaZS7RjDZn0pHVDzXA54KWxKB+ahC+Ob0sV3akNwe0oZVu8uc8C9YFNK35L0WNIzSXciDxHzr3o3Ling0bAhH+u9TMQ+bg44ia9ZYsC43oU7CNAu4obX0ROzNuCvAzLc/HkPa8eAiR9b8DphPSPuTov6KABnM5qOnTFgrMuCCK7Ewv9LiG/Wv+EUwMWxdpXEgP+4mW5PjULV5J0GsfmULJ/YqqFzwGs5zxLbWNo3NFXQMWDf/BMvxM1aJOziFkPHgImbD46QeGHitUgIvejMnarD3sqArh2auzPiPCspYGIGaJ8o1gZNX2D60ZSQYLPNyVxrORKaubPKZczFHDQkVrIwEHdos5I7PNRC0ypyzUNJ4bcdHlLKYC07L6P4z8INoQPketgk64U5YCZaCh0mvdymp/63szLHRSyZEp/EeI5SmvSeEuCl0CgatoS10DbO3mTErnxD157N2qXAS6B9hucah97crnhi4Lg9H9zTvlNnZdweoDAj+/5/NoEtAS6F7nFraRcFqbMyaxCv3tX5bRuVjOWlwCXQPYC9J2B5wGP3ZFgWiyPeysBTpo6kBjgH3RvYlMbdgQrBcXMrR1eOMHoOqAWeg8Ya9uZhxPHSXuf4poi4BdrfmnAnhi4H0gKcgvYLjHyZ5l3Y1qSEWYWIunUr8Bw0tyW4YWtHNVfS7OW7vyDwzx+5dQ9ggw7Pq9mup7U4T+PJ6DQfsZvPo5DqBewTC1a1VyqdmLLTxLpBBh3FcW/grGYDH4hBk8Fx63+yJWCgcG/Koo/pA8atAQMdnqA2Dww09ZcPPffBNfMWLTybJnbggVl0FVPvFl6FGQYqcXIW/gs1ftA35nDwRwAAAABJRU5ErkJggg==";function xt(t){let e;const n=new F({props:{className:"optionsButton",icon:W,onClick:t[26]}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:r,i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function zt(t){let e;const n=new F({props:{className:"followButton",onClick:t[27],icon:t[6]?St:Mt}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};64&e[0]&&(s.icon=t[6]?St:Mt),n.$set(s)},i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Yt(t){let e,n,s,l,a,r,o;return{c(){e=$("div"),n=$("div"),s=y(),l=$("div"),a=v(t[10]),this.h()},l(r){e=d(r,"DIV",{class:!0});var o=u(e);n=d(o,"DIV",{class:!0}),u(n).forEach(f),s=I(o),l=d(o,"DIV",{class:!0});var c=u(l);a=A(c,t[10]),c.forEach(f),o.forEach(f),this.h()},h(){h(n,"class","userName svelte-hc3tm4"),w(n,"button",t[8]),h(l,"class","username svelte-hc3tm4"),w(l,"button",t[8]),h(e,"class","info svelte-hc3tm4")},m(c,i){p(c,e,i),g(e,n),n.innerHTML=t[9],g(e,s),g(e,l),g(l,a),r||(o=et(e,"click",function(){nt(t[8]?t[23]:null)&&(t[8]?t[23]:null).apply(this,arguments)}),r=!0)},p(e,s){t=e,512&s[0]&&(n.innerHTML=t[9]),256&s[0]&&w(n,"button",t[8]),1024&s[0]&&st(a,t[10]),256&s[0]&&w(l,"button",t[8])},d(t){t&&f(e),r=!1,o()}}}function Kt(t){let e,n,s,l,a,r,o,c=t[15]&&Gt(t);return{c(){e=$("div"),n=$("div"),s=v(t[11]),l=y(),a=$("div"),o=m(),c&&c.c(),this.h()},l(r){e=d(r,"DIV",{class:!0});var i=u(e);n=d(i,"DIV",{class:!0});var $=u(n);s=A($,t[11]),$.forEach(f),l=I(i),a=d(i,"DIV",{class:!0});var h=u(a);o=m(),c&&c.l(h),h.forEach(f),i.forEach(f),this.h()},h(){h(n,"class","projectTitle svelte-hc3tm4"),r=new x(o),h(a,"class","date svelte-hc3tm4"),h(e,"class","info svelte-hc3tm4")},m(i,$){p(i,e,$),g(e,n),g(n,s),g(e,l),g(e,a),r.m(t[20],a),g(a,o),c&&c.m(a,null)},p(t,e){2048&e[0]&&st(s,t[11]),1048576&e[0]&&r.p(t[20]),t[15]?c?c.p(t,e):((c=Gt(t)).c(),c.m(a,null)):c&&(c.d(1),c=null)},d(t){t&&f(e),c&&c.d()}}}function Gt(t){let e,n,s=z.POST.EDITED+"";return{c(){e=$("span"),n=v(s),this.h()},l(t){e=d(t,"SPAN",{class:!0,title:!0});var l=u(e);n=A(l,s),l.forEach(f),this.h()},h(){h(e,"class","edited svelte-hc3tm4"),h(e,"title",t[16])},m(t,s){p(t,e,s),g(e,n)},p(t,n){65536&n[0]&&h(e,"title",t[16])},d(t){t&&f(e)}}}function Qt(t){let e;const n=new lt({props:{user:t[1],onClick:t[8]?t[23]:null,useThumb:!0}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};2&e[0]&&(s.user=t[1]),256&e[0]&&(s.onClick=t[8]?t[23]:null),n.$set(s)},i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Ut(t){let e,n;return{c(){e=$("img"),this.h()},l(t){e=d(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"class","projectThumb svelte-hc3tm4"),e.src!==(n=t[12])&&h(e,"src",n),h(e,"alt",t[11])},m(t,n){p(t,e,n)},p(t,s){4096&s[0]&&e.src!==(n=t[12])&&h(e,"src",n),2048&s[0]&&h(e,"alt",t[11])},i:r,o:r,d(t){t&&f(e)}}}function Zt(t){let e,n,s,l=t[15]&&qt(t);return{c(){e=$("div"),s=m(),l&&l.c(),this.h()},l(t){e=d(t,"DIV",{class:!0});var n=u(e);s=m(),l&&l.l(n),n.forEach(f),this.h()},h(){n=new x(s),h(e,"class","date svelte-hc3tm4")},m(a,r){p(a,e,r),n.m(t[20],e),g(e,s),l&&l.m(e,null)},p(t,s){1048576&s[0]&&n.p(t[20]),t[15]?l?l.p(t,s):((l=qt(t)).c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&f(e),l&&l.d()}}}function qt(t){let e,n,s=z.POST.EDITED+"";return{c(){e=$("span"),n=v(s),this.h()},l(t){e=d(t,"SPAN",{class:!0,title:!0});var l=u(e);n=A(l,s),l.forEach(f),this.h()},h(){h(e,"class","edited svelte-hc3tm4"),h(e,"title",t[16])},m(t,s){p(t,e,s),g(e,n)},p(t,n){65536&n[0]&&h(e,"title",t[16])},d(t){t&&f(e)}}}function Jt(t){let e;return{c(){e=$("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),u(e).forEach(f),this.h()},h(){h(e,"class","title svelte-hc3tm4")},m(n,s){p(n,e,s),e.innerHTML=t[21]},p(t,n){2097152&n[0]&&(e.innerHTML=t[21])},d(t){t&&f(e)}}}function _t(t){let e;return{c(){e=$("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),u(e).forEach(f),this.h()},h(){h(e,"class","message svelte-hc3tm4")},m(n,s){p(n,e,s),e.innerHTML=t[22]},p(t,n){4194304&n[0]&&(e.innerHTML=t[22])},d(t){t&&f(e)}}}function Xt(t){let e,n;return{c(){e=$("img"),this.h()},l(t){e=d(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"class","postImage svelte-hc3tm4"),e.src!==(n=t[2])&&h(e,"src",n),h(e,"alt","post")},m(t,n){p(t,e,n)},p(t,s){4&s[0]&&e.src!==(n=t[2])&&h(e,"src",n)},d(t){t&&f(e)}}}function te(t){let e;const n=new Rt({props:{targetItemId:t[7],targetItem:t[5],$$slots:{default:[le],buttonRight:[se],buttonMiddle:[ne],buttonLeft:[ee]},$$scope:{ctx:t}}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};128&e[0]&&(s.targetItemId=t[7]),32&e[0]&&(s.targetItem=t[5]),160&e[0]|32&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ee(t){let e,n;const r=new Bt({props:{label:"like",icon:jt,selectedIcon:Ot,targetItem:t[5],targetItemId:t[7],action:Y,targetItemProperty:"liked",countProperty:"likeCount"}});return{c(){e=$("div"),s(r.$$.fragment),this.h()},l(t){e=d(t,"DIV",{slot:!0});var n=u(e);l(r.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonLeft")},m(t,s){p(t,e,s),a(r,e,null),n=!0},p(t,e){const n={};32&e[0]&&(n.targetItem=t[5]),128&e[0]&&(n.targetItemId=t[7]),r.$set(n)},i(t){n||(o(r.$$.fragment,t),n=!0)},o(t){c(r.$$.fragment,t),n=!1},d(t){t&&f(e),i(r)}}}function ne(t){let e,n;const m=new Bt({props:{label:"share",icon:kt,action:t[25]}});return{c(){e=$("div"),s(m.$$.fragment),this.h()},l(t){e=d(t,"DIV",{slot:!0});var n=u(e);l(m.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonMiddle")},m(t,s){p(t,e,s),a(m,e,null),n=!0},p:r,i(t){n||(o(m.$$.fragment,t),n=!0)},o(t){c(m.$$.fragment,t),n=!1},d(t){t&&f(e),i(m)}}}function se(t){let e,n;const m=new Bt({props:{label:"reply",icon:Wt,action:t[24]}});return{c(){e=$("div"),s(m.$$.fragment),this.h()},l(t){e=d(t,"DIV",{slot:!0});var n=u(e);l(m.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonRight")},m(t,s){p(t,e,s),a(m,e,null),n=!0},p:r,i(t){n||(o(m.$$.fragment,t),n=!0)},o(t){c(m.$$.fragment,t),n=!1},d(t){t&&f(e),i(m)}}}function le(t){let e,n;return{c(){e=y(),n=y()},l(t){e=I(t),n=I(t)},m(t,s){p(t,e,s),p(t,n,s)},p:r,i:r,o:r,d(t){t&&f(e),t&&f(n)}}}function ae(t){let e,n,s,l,a,r,i,m,v,A,E,P,T,C=(t[13]||t[14])&&xt(t),H=t[14]&&zt(t);function L(t,e){return t[4]?Kt:Yt}let N=L(t),V=N(t);const S=[Ut,Qt],M=[];function R(t,e){return t[4]?0:1}a=R(t),r=M[a]=S[a](t);let B=!t[4]&&Zt(t),j=t[17]&&Jt(t),O=t[18]&&_t(t),k=t[19]&&Xt(t),F=!t[3]&&te(t);return{c(){e=$("div"),C&&C.c(),n=y(),H&&H.c(),s=y(),V.c(),l=y(),r.c(),i=y(),m=$("div"),B&&B.c(),v=y(),j&&j.c(),A=y(),O&&O.c(),E=y(),k&&k.c(),P=y(),F&&F.c(),this.h()},l(t){e=d(t,"DIV",{class:!0});var a=u(e);C&&C.l(a),n=I(a),H&&H.l(a),s=I(a),V.l(a),l=I(a),r.l(a),i=I(a),m=d(a,"DIV",{class:!0});var o=u(m);B&&B.l(o),v=I(o),j&&j.l(o),A=I(o),O&&O.l(o),o.forEach(f),E=I(a),k&&k.l(a),P=I(a),F&&F.l(a),a.forEach(f),this.h()},h(){h(m,"class","postContent svelte-hc3tm4"),h(e,"class","threadPost svelte-hc3tm4"),w(e,"isProjectPost",t[4])},m(t,r){p(t,e,r),C&&C.m(e,null),g(e,n),H&&H.m(e,null),g(e,s),V.m(e,null),g(e,l),M[a].m(e,null),g(e,i),g(e,m),B&&B.m(m,null),g(m,v),j&&j.m(m,null),g(m,A),O&&O.m(m,null),g(e,E),k&&k.m(e,null),g(e,P),F&&F.m(e,null),T=!0},p(t,$){t[13]||t[14]?C?(C.p(t,$),24576&$[0]&&o(C,1)):((C=xt(t)).c(),o(C,1),C.m(e,n)):C&&(D(),c(C,1,1,()=>{C=null}),b()),t[14]?H?(H.p(t,$),16384&$[0]&&o(H,1)):((H=zt(t)).c(),o(H,1),H.m(e,s)):H&&(D(),c(H,1,1,()=>{H=null}),b()),N===(N=L(t))&&V?V.p(t,$):(V.d(1),(V=N(t))&&(V.c(),V.m(e,l)));let d=a;(a=R(t))===d?M[a].p(t,$):(D(),c(M[d],1,1,()=>{M[d]=null}),b(),(r=M[a])||(r=M[a]=S[a](t)).c(),o(r,1),r.m(e,i)),t[4]?B&&(B.d(1),B=null):B?B.p(t,$):((B=Zt(t)).c(),B.m(m,v)),t[17]?j?j.p(t,$):((j=Jt(t)).c(),j.m(m,A)):j&&(j.d(1),j=null),t[18]?O?O.p(t,$):((O=_t(t)).c(),O.m(m,null)):O&&(O.d(1),O=null),t[19]?k?k.p(t,$):((k=Xt(t)).c(),k.m(e,P)):k&&(k.d(1),k=null),t[3]?F&&(D(),c(F,1,1,()=>{F=null}),b()):F?(F.p(t,$),8&$[0]&&o(F,1)):((F=te(t)).c(),o(F,1),F.m(e,null)),16&$[0]&&w(e,"isProjectPost",t[4])},i(t){T||(o(C),o(H),o(r),o(F),T=!0)},o(t){c(C),c(H),c(r),c(F),T=!1},d(t){t&&f(e),C&&C.d(),H&&H.d(),V.d(),M[a].d(),B&&B.d(),j&&j.d(),O&&O.d(),k&&k.d(),F&&F.d()}}}function re(t,e,n){let s,l,a,o,c,i,$=r,m=()=>($(),$=L(f,t=>n(5,a=t)),f),d=r,u=()=>(d(),d=L(h,t=>n(32,o=t)),h);E(t,P,t=>n(28,s=t)),E(t,T,t=>n(30,l=t)),E(t,C,t=>n(33,c=t)),E(t,H,t=>n(35,i=t)),t.$$.on_destroy.push(()=>$()),t.$$.on_destroy.push(()=>d());let{post:f}=e;m();let h=K([]);u();let p,g,v,A,y,I,w,D,b,F,W,x,z,Y,et,nt,st,lt,at,rt,ot,ct,it=Lt;return t.$set=(t=>{"post"in t&&m(n(0,f=t.post))}),t.$$.update=(()=>{268435456&t.$$.dirty[0]&&n(3,p=s&&s.archived||!1),1342177280&t.$$.dirty[0]&&n(29,g=l&&s&&N(s)),32&t.$$.dirty[0]&&n(4,v=a&&"projectPost"===a.type||!1),32&t.$$.dirty[0]&&n(6,A=a&&a.following||!1),32&t.$$.dirty[0]&&n(31,y=a&&a.userId||null),32&t.$$.dirty[0]&&n(7,I=a&&a.id||null),1&t.$$.dirty[1]&&u(n(1,h=V(y))),2&t.$$.dirty[1]&&n(8,w=o&&o.name||!1),2&t.$$.dirty[1]&&n(9,D=o&&o.name||"&nbsp;"),2&t.$$.dirty[1]&&n(10,b=o&&o.username&&"@"+o.username||""),268435456&t.$$.dirty[0]&&n(11,F=s&&s.title||""),268435472&t.$$.dirty[0]&&n(12,W=v&&s&&S(s,!0)||null),32&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(13,x=a&&a.userId&&a.userId===c||!1),536879104&t.$$.dirty[0]&&n(14,z=!x&&!g),32&t.$$.dirty[0]&&n(15,Y=a&&a.edited&&M(a.createdAt,a.editedAt)>R.SHOW_EDITED_MIN_TIME||!1),32800&t.$$.dirty[0]&&n(16,et=Y&&a.editedAt&&B(a.editedAt)||""),32&t.$$.dirty[0]&&n(17,nt=a&&a.title||""),32&t.$$.dirty[0]&&n(18,st=a&&a.message||""),32&t.$$.dirty[0]&&n(19,lt=a&&a.image||""),32&t.$$.dirty[0]&&n(34,at=a&&a.createdAt||""),8&t.$$.dirty[1]&&n(20,rt=at&&B(at,"ddd d MMM")+" at "+B(at,"h:mmtt")||"&nbsp;"),131072&t.$$.dirty[0]&&n(21,ot=j(nt)),262144&t.$$.dirty[0]&&n(22,ct=j(st)),524288&t.$$.dirty[0]&&(async()=>{await O(),n(2,it=Lt),await O(),setTimeout(()=>{n(2,it=k(lt))},0)})()}),[f,h,it,p,v,a,A,I,w,D,b,F,W,x,z,Y,et,nt,st,lt,rt,ot,ct,function(){w&&G(y)},function(){Q()},function(){U(I)},function(){const t=Z(I);if(t){const e=q(t);J(H,i=e),_(X.THREAD_POST_OPTIONS)}},function(){tt(I,A)}]}class oe extends t{constructor(t){super(),e(this,t,re,ae,n,{post:0},[-1,-1])}}function ce(t,e,n){const s=t.slice();return s[29]=e[n],s}function ie(t){let e,n,r,m,v,A;const w=new oe({props:{post:At}});let E=t[10],P=[];for(let e=0;e<E.length;e+=1)P[e]=ge(ce(t,E,e));const T=t=>c(P[t],1,1,()=>{P[t]=null});let C=null;E.length||(C=de(t));let H=!t[0]&&t[10]&&t[10].length>=we&&ve(t);return{c(){e=$("div"),s(w.$$.fragment),n=y(),r=$("div"),m=$("div");for(let t=0;t<P.length;t+=1)P[t].c();C&&C.c(),v=y(),H&&H.c(),this.h()},l(t){e=d(t,"DIV",{class:!0});var s=u(e);l(w.$$.fragment,s),n=I(s),r=d(s,"DIV",{class:!0});var a=u(r);m=d(a,"DIV",{class:!0});var o=u(m);for(let t=0;t<P.length;t+=1)P[t].l(o);C&&C.l(o),o.forEach(f),v=I(a),H&&H.l(a),a.forEach(f),s.forEach(f),this.h()},h(){h(m,"class","postsContainer svelte-1gwl1di"),h(r,"class","contentContainer svelte-1gwl1di"),h(e,"class","scrollContent")},m(t,s){p(t,e,s),a(w,e,null),g(e,n),g(e,r),g(r,m);for(let t=0;t<P.length;t+=1)P[t].m(m,null);C&&C.m(m,null),g(r,v),H&&H.m(r,null),A=!0},p(t,e){if(5697&e[0]){let n;for(E=t[10],n=0;n<E.length;n+=1){const s=ce(t,E,n);P[n]?(P[n].p(s,e),o(P[n],1)):(P[n]=ge(s),P[n].c(),o(P[n],1),P[n].m(m,null))}for(D(),n=E.length;n<P.length;n+=1)T(n);b(),!E.length&&C?C.p(t,e):E.length?C&&(C.d(1),C=null):((C=de(t)).c(),C.m(m,null))}!t[0]&&t[10]&&t[10].length>=we?H?(H.p(t,e),1025&e[0]&&o(H,1)):((H=ve(t)).c(),o(H,1),H.m(r,null)):H&&(D(),c(H,1,1,()=>{H=null}),b())},i(t){if(!A){o(w.$$.fragment,t);for(let t=0;t<E.length;t+=1)o(P[t]);o(H),A=!0}},o(t){c(w.$$.fragment,t),P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)c(P[t]);c(H),A=!1},d(t){t&&f(e),i(w),Tt(P,t),C&&C.d(),H&&H.d()}}}function $e(t){let e;const n=new Ht({props:{label:z.THREAD.NOT_FOUND}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:r,i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function me(t){let e;const n=new Ht({props:{label:z.LOADING.THREAD}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:r,i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function de(t){let e,n,s,l;const a=[fe,ue],r=[];function i(t,e){return t[9]?0:t[0]?-1:1}return~(e=i(t))&&(n=r[e]=a[e](t)),{c(){n&&n.c(),s=m()},l(t){n&&n.l(t),s=m()},m(t,n){~e&&r[e].m(t,n),p(t,s,n),l=!0},p(t,l){let $=e;(e=i(t))===$?~e&&r[e].p(t,l):(n&&(D(),c(r[$],1,1,()=>{r[$]=null}),b()),~e?((n=r[e])||(n=r[e]=a[e](t)).c(),o(n,1),n.m(s.parentNode,s)):n=null)},i(t){l||(o(n),l=!0)},o(t){c(n),l=!1},d(t){~e&&r[e].d(t),t&&f(s)}}}function ue(t){let e;const n=new Ht({props:{$$slots:{default:[pe]},$$scope:{ctx:t}}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};64&e[0]|2&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function fe(t){let e;const n=new Ht({props:{label:z.LOADING.THREAD_ITEMS}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:r,i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function he(t){let e,n,s,l,a,o;return{c(){e=v("be the first to "),n=$("a"),s=v("Leave a Reply"),this.h()},l(t){e=A(t,"be the first to "),n=d(t,"A",{href:!0});var l=u(n);s=A(l,"Leave a Reply"),l.forEach(f),this.h()},h(){h(n,"href",l=location.href)},m(l,r){p(l,e,r),p(l,n,r),g(n,s),a||(o=et(n,"click",t[26]),a=!0)},p:r,d(t){t&&f(e),t&&f(n),a=!1,o()}}}function pe(t){let e,n,s,l,a=z.THREAD.NO_POSTS+"",r=!t[6]&&he(t);return{c(){e=v(a),n=$("br"),s=y(),r&&r.c(),l=y()},l(t){e=A(t,a),n=d(t,"BR",{}),s=I(t),r&&r.l(t),l=I(t)},m(t,a){p(t,e,a),p(t,n,a),p(t,s,a),r&&r.m(t,a),p(t,l,a)},p(t,e){t[6]?r&&(r.d(1),r=null):r?r.p(t,e):((r=he(t)).c(),r.m(l.parentNode,l))},d(t){t&&f(e),t&&f(n),t&&f(s),r&&r.d(t),t&&f(l)}}}function ge(t){let e;const n=new Vt({props:{post:t[29],type:"threadPost"}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};1024&e[0]&&(s.post=t[29]),n.$set(s)},i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ve(t){let e;const n=new Nt({props:{onClick:t[12],icon:Wt,label:z.THREAD.REPLY}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:r,i(t){e||(o(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Ae(t){let e,n,s,l;const a=[me,$e,ie],r=[];function i(t,e){return t[7]?0:t[8]&&t[8].id?2:1}return e=i(t),n=r[e]=a[e](t),{c(){n.c(),s=m()},l(t){n.l(t),s=m()},m(t,n){r[e].m(t,n),p(t,s,n),l=!0},p(t,l){let $=e;(e=i(t))===$?r[e].p(t,l):(D(),c(r[$],1,1,()=>{r[$]=null}),b(),(n=r[e])||(n=r[e]=a[e](t)).c(),o(n,1),n.m(s.parentNode,s))},i(t){l||(o(n),l=!0)},o(t){c(n),l=!1},d(t){r[e].d(t),t&&f(s)}}}function ye(t){let e,n;function r(e){t[28].call(null,e)}let $={inlineComponent:!0};void 0!==t[4]&&($.element=t[4]);const m=new Ft({props:$});return ht.push(()=>pt(m,"element",r)),m.$on("hide",t[13]),m.$on("resize",t[14]),{c(){s(m.$$.fragment)},l(t){l(m.$$.fragment,t)},m(t,e){a(m,t,e),n=!0},p(t,n){const s={};!e&&16&n[0]&&(e=!0,s.element=t[4],gt(()=>e=!1)),m.$set(s)},i(t){n||(o(m.$$.fragment,t),n=!0)},o(t){c(m.$$.fragment,t),n=!1},d(t){i(m,t)}}}function Ie(t){let e,n,r,m,v,A;function E(e){t[27].call(null,e)}document.title=e=t[5]+"Flock";let P={id:"thread",anchorToBottom:t[11],bottomOffset:t[3],disabledMinHeight:t[0],$$slots:{default:[Ae]},$$scope:{ctx:t}};void 0!==t[2]&&(P.scrollRegion=t[2]);const T=new Ct({props:P});ht.push(()=>pt(T,"scrollRegion",E));let C=t[0]&&ye(t);return{c(){n=y(),r=$("div"),s(T.$$.fragment),v=y(),C&&C.c(),this.h()},l(t){at('[data-svelte="svelte-pjz2s7"]',document.head).forEach(f),n=I(t),r=d(t,"DIV",{class:!0});var e=u(r);l(T.$$.fragment,e),v=I(e),C&&C.l(e),e.forEach(f),this.h()},h(){h(r,"class","content svelte-1gwl1di"),w(r,"showAddPost",t[0])},m(t,e){p(t,n,e),p(t,r,e),a(T,r,null),g(r,v),C&&C.m(r,null),A=!0},p(t,n){(!A||32&n[0])&&e!==(e=t[5]+"Flock")&&(document.title=e);const s={};2048&n[0]&&(s.anchorToBottom=t[11]),8&n[0]&&(s.bottomOffset=t[3]),1&n[0]&&(s.disabledMinHeight=t[0]),1985&n[0]|2&n[1]&&(s.$$scope={dirty:n,ctx:t}),!m&&4&n[0]&&(m=!0,s.scrollRegion=t[2],gt(()=>m=!1)),T.$set(s),t[0]?C?(C.p(t,n),1&n[0]&&o(C,1)):((C=ye(t)).c(),o(C,1),C.m(r,null)):C&&(D(),c(C,1,1,()=>{C=null}),b()),1&n[0]&&w(r,"showAddPost",t[0])},i(t){A||(o(T.$$.fragment,t),o(C),A=!0)},o(t){c(T.$$.fragment,t),c(C),A=!1},d(t){t&&f(n),t&&f(r),i(T),C&&C.d()}}}const we=3;function De(t,e,n){let s,l,a,o,c,i,$,m,d,u,f=r,h=()=>(f(),f=L(g,t=>n(10,d=t)),g);E(t,P,t=>n(17,s=t)),E(t,vt,t=>n(18,l=t)),E(t,At,t=>n(8,a=t)),E(t,yt,t=>n(19,o=t)),E(t,T,t=>n(20,c=t)),E(t,C,t=>n(21,i=t)),E(t,It,t=>n(22,$=t)),E(t,wt,t=>n(23,m=t)),E(t,Dt,t=>n(11,u=t)),t.$$.on_destroy.push(()=>f());let p=!1;rt.on("newThreadPost",A),ot(),ct();let g=K([]);function v(){Q()}function A(){n(0,p=!0)}h();let y,I,w=null,D=0,b=null;async function H(){await O(),n(3,D=p&&b&&b.offsetHeight||0),0!==D&&N()}async function N(){w&&(await O(),"undefined"!=typeof window&&(window.setTimeout(()=>{w&&w.scrollTo(0,w.scrollHeight)},250),window.setTimeout(()=>{w&&w.scrollTo(0,w.scrollHeight)},500)),w&&w.scrollTo(0,w.scrollHeight))}it(()=>{y=bt({postId:o}),I=bt({threadId:o},R.REPLY_VIEWED_DELAY)}),$t(()=>{Et(y),Et(I)});let V,S,M,B;return t.$$.update=(()=>{131072&t.$$.dirty[0]&&n(5,V=s&&s.title&&s.title+" - "||""),131072&t.$$.dirty[0]&&n(6,S=s&&s.archived||!1),16646400&t.$$.dirty[0]&&n(7,M=l&&(!a||a.id!==o)||!mt(c,i,$)||!s&&m),263168&t.$$.dirty[0]&&n(9,B=l&&(!d||!d.length)),3588&t.$$.dirty[0]&&u&&w&&!B&&d&&(async()=>{await O(),N()})(),524288&t.$$.dirty[0]&&h(n(1,g=dt({threadId:o,type:"threadPost"}))),256&t.$$.dirty[0]&&ut(a),1024&t.$$.dirty[0]&&ft(d),1&t.$$.dirty[0]&&H()}),[p,g,w,D,b,V,S,M,a,B,d,u,v,function(){n(0,p=!1)},H,y,I,s,l,o,c,i,$,m,A,N,t=>(v(),Pt(t)),function(t){n(2,w=t)},function(t){n(4,b=t)}]}export default class extends t{constructor(t){super(),e(this,t,De,Ie,n,{},[-1,-1])}}
