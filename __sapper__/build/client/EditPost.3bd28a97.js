import{S as e,i as t,s as n,q as s,z as a,R as l,r as i,u as c,A as o,T as r,d as u,v as d,B as m,b as $,x as f,aw as h,l as p,t as E,C as g,D as I,E as T,K as v,c as b,F as N,L as y,I as D,V as _,ac as A,e as w,J as C,aV as R,aW as x,aX as P,aY as V,aZ as S,a_ as H,a$ as L,aC as M,Y as W,b0 as O,b1 as j,o as F,m as B,b2 as G,aa as k,b3 as U,b4 as Y,U as z,b5 as J,b6 as K,b7 as X,W as q,aQ as Q,n as Z,aM as ee,aL as te,b8 as ne,b9 as se,ba as ae,aU as le,ad as ie,bb as ce,bc as oe,ax as re}from"./client.9f5af520.js";import"./Proxy.ba10d480.js";import{S as ue}from"./index.d0938ad8.js";import{I as de,U as me}from"./ImageSelectionBox.b6a2e2d1.js";import{N as $e}from"./next_arrow.b1598f96.js";import{A as fe,S as he}from"./add_small.fcdad09e.js";import{S as pe}from"./send.53c7ac4a.js";function Ee(e){let t,n,g,I,T,v,N,w,C,R,x,P,V,S,H,L,M,W,O,j,F,B,G,k,U=z.NEW_THREAD.MESSAGE+"",Y=e[4]&&ge(e),J=e[22]&&Ie(e),K=e[26]&&ve(e);const X=[He,Se,Ve],q=[];function Q(e,t){return e[9]?0:e[16]?2:1}H=Q(e),L=q[H]=X[H](e);const Z=[We,Me],ee=[];function te(e,t){return e[16]?1:0}return O=te(e),j=ee[O]=Z[O](e),{c(){t=s("div"),n=s("div"),Y&&Y.c(),g=a(),I=s("div"),T=l(e[27]),v=a(),J&&J.c(),N=a(),w=s("div"),C=s("div"),R=l(U),x=a(),P=s("textarea"),V=a(),K&&K.c(),S=a(),L.c(),M=a(),W=s("div"),j.c(),this.h()},l(s){t=i(s,"DIV",{class:!0});var a=c(t);n=i(a,"DIV",{class:!0});var l=c(n);Y&&Y.l(l),g=o(l),I=i(l,"DIV",{class:!0});var d=c(I);T=r(d,e[27]),d.forEach(u),v=o(l),J&&J.l(l),N=o(l),w=i(l,"DIV",{class:!0});var m=c(w);C=i(m,"DIV",{class:!0});var $=c(C);R=r($,U),$.forEach(u),x=o(m),P=i(m,"TEXTAREA",{class:!0}),c(P).forEach(u),m.forEach(u),V=o(l),K&&K.l(l),S=o(l),L.l(l),M=o(l),W=i(l,"DIV",{class:!0});var f=c(W);j.l(f),f.forEach(u),l.forEach(u),a.forEach(u),this.h()},h(){d(I,"class","pageTitle svelte-1wbn29u"),d(C,"class","label svelte-1wbn29u"),d(P,"class","svelte-1wbn29u"),d(w,"class","field messageField svelte-1wbn29u"),d(W,"class","actions svelte-1wbn29u"),d(n,"class","panelContent svelte-1wbn29u"),m(n,"showImage",e[28]),d(t,"class",F="editPostContent "+e[8]+" svelte-1wbn29u"),m(t,"isProjectPost",e[25]),m(t,"hidden",!e[6]),m(t,"showChannelSelect",e[9]),m(t,"inlineComponent",e[4]),m(t,"useLibrary",e[24])},m(s,a){$(s,t,a),f(t,n),Y&&Y.m(n,null),f(n,g),f(n,I),f(I,T),f(n,v),J&&J.m(n,null),f(n,N),f(n,w),f(w,C),f(C,R),f(w,x),f(w,P),h(P,e[2]),e[65](P),f(n,V),K&&K.m(n,null),f(n,S),q[H].m(n,null),f(n,M),f(n,W),ee[O].m(W,null),e[72](t),B=!0,G||(k=[p(P,"input",e[64]),p(P,"keypress",e[66])],G=!0)},p(e,s){e[4]?Y?(Y.p(e,s),16&s[0]&&E(Y,1)):((Y=ge(e)).c(),E(Y,1),Y.m(n,g)):Y&&(y(),b(Y,1,1,()=>{Y=null}),D()),(!B||134217728&s[0])&&_(T,e[27]),e[22]?J?J.p(e,s):((J=Ie(e)).c(),J.m(n,N)):J&&(J.d(1),J=null),4&s[0]&&h(P,e[2]),e[26]?K?(K.p(e,s),67108864&s[0]&&E(K,1)):((K=ve(e)).c(),E(K,1),K.m(n,S)):K&&(y(),b(K,1,1,()=>{K=null}),D());let a=H;(H=Q(e))===a?q[H].p(e,s):(y(),b(q[a],1,1,()=>{q[a]=null}),D(),(L=q[H])||(L=q[H]=X[H](e)).c(),E(L,1),L.m(n,M));let l=O;(O=te(e))===l?ee[O].p(e,s):(y(),b(ee[l],1,1,()=>{ee[l]=null}),D(),(j=ee[O])||(j=ee[O]=Z[O](e)).c(),E(j,1),j.m(W,null)),268435456&s[0]&&m(n,"showImage",e[28]),(!B||256&s[0]&&F!==(F="editPostContent "+e[8]+" svelte-1wbn29u"))&&d(t,"class",F),33554688&s[0]&&m(t,"isProjectPost",e[25]),320&s[0]&&m(t,"hidden",!e[6]),768&s[0]&&m(t,"showChannelSelect",e[9]),272&s[0]&&m(t,"inlineComponent",e[4]),16777472&s[0]&&m(t,"useLibrary",e[24])},i(e){B||(E(Y),E(K),E(L),E(j),B=!0)},o(e){b(Y),b(K),b(L),b(j),B=!1},d(n){n&&u(t),Y&&Y.d(),J&&J.d(),e[65](null),K&&K.d(),q[H].d(),ee[O].d(),e[72](null),G=!1,A(k)}}}function ge(e){let t;const n=new q({props:{className:"collapsePanel",icon:Q,onClick:e[35]}});return{c(){g(n.$$.fragment)},l(e){I(n.$$.fragment,e)},m(e,s){T(n,e,s),t=!0},p:v,i(e){t||(E(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){N(n,e)}}}function Ie(e){let t,n,m,E,g,I,T,v=z.NEW_THREAD.TITLE+"",b=!e[16]&&Te();return{c(){t=s("div"),n=s("div"),m=l(v),b&&b.c(),E=a(),g=s("textarea"),this.h()},l(e){t=i(e,"DIV",{class:!0});var s=c(t);n=i(s,"DIV",{class:!0});var a=c(n);m=r(a,v),b&&b.l(a),a.forEach(u),E=o(s),g=i(s,"TEXTAREA",{class:!0}),c(g).forEach(u),s.forEach(u),this.h()},h(){d(n,"class","label svelte-1wbn29u"),d(g,"class","titleField svelte-1wbn29u"),d(t,"class","field svelte-1wbn29u")},m(s,a){$(s,t,a),f(t,n),f(n,m),b&&b.m(n,null),f(t,E),f(t,g),h(g,e[11]),e[62](g),I||(T=[p(g,"input",e[61]),p(g,"keypress",e[63])],I=!0)},p(e,t){e[16]?b&&(b.d(1),b=null):b?b.p(e,t):((b=Te()).c(),b.m(n,null)),2048&t[0]&&h(g,e[11])},d(n){n&&u(t),b&&b.d(),e[62](null),I=!1,A(T)}}}function Te(e){let t,n=z.NEW_THREAD.TITLE_TIP+"";return{c(){t=s("span"),this.h()},l(e){t=i(e,"SPAN",{class:!0}),c(t).forEach(u),this.h()},h(){d(t,"class","tip svelte-1wbn29u")},m(e,s){$(e,t,s),t.innerHTML=n},p:v,d(e){e&&u(t)}}}function ve(e){let t,n,s,a;const l=[ye,Ne,be],i=[];function c(e,t){return e[4]?0:e[12]||e[14]?1:2}return t=c(e),n=i[t]=l[t](e),{c(){n.c(),s=w()},l(e){n.l(e),s=w()},m(e,n){i[t].m(e,n),$(e,s,n),a=!0},p(e,a){let o=t;(t=c(e))===o?i[t].p(e,a):(y(),b(i[o],1,1,()=>{i[o]=null}),D(),(n=i[t])||(n=i[t]=l[t](e)).c(),E(n,1),n.m(s.parentNode,s))},i(e){a||(E(n),a=!0)},o(e){b(n),a=!1},d(e){i[t].d(e),e&&u(s)}}}function be(e){let t,n;const a=new q({props:{className:"addImage",icon:fe,onClick:e[33],title:z.NEW_THREAD.ADD_IMAGE,$$slots:{default:[De]},$$scope:{ctx:e}}});return{c(){t=s("div"),g(a.$$.fragment),this.h()},l(e){t=i(e,"DIV",{class:!0});var n=c(t);I(a.$$.fragment,n),n.forEach(u),this.h()},h(){d(t,"class","imageField svelte-1wbn29u")},m(e,s){$(e,t,s),T(a,t,null),n=!0},p(e,t){const n={};2048&t[2]&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){n||(E(a.$$.fragment,e),n=!0)},o(e){b(a.$$.fragment,e),n=!1},d(e){e&&u(t),N(a)}}}function Ne(e){let t,n,l,r,m,f;const h=new q({props:{className:"addImage removeImage",icon:Q,onClick:e[34],title:z.NEW_THREAD.REMOVE_IMAGE,$$slots:{default:[_e]},$$scope:{ctx:e}}});function p(t){e[69].call(null,t)}function v(t){e[70].call(null,t)}let y={containMode:!0,imageType:e[23],useLibrary:e[24],uploadType:"post",itemId:e[19]};void 0!==e[12]&&(y.image=e[12]),void 0!==e[15]&&(y.fileIsUploading=e[15]);const D=new de({props:y});return Z.push(()=>ee(D,"image",p)),Z.push(()=>ee(D,"fileIsUploading",v)),D.$on("resize",e[36]),{c(){t=s("div"),g(h.$$.fragment),n=a(),l=s("div"),g(D.$$.fragment),this.h()},l(e){t=i(e,"DIV",{class:!0});var s=c(t);I(h.$$.fragment,s),s.forEach(u),n=o(e),l=i(e,"DIV",{class:!0});var a=c(l);I(D.$$.fragment,a),a.forEach(u),this.h()},h(){d(t,"class","imageField svelte-1wbn29u"),d(l,"class","field headerImageField svelte-1wbn29u")},m(e,s){$(e,t,s),T(h,t,null),$(e,n,s),$(e,l,s),T(D,l,null),f=!0},p(e,t){const n={};2048&t[2]&&(n.$$scope={dirty:t,ctx:e}),h.$set(n);const s={};8388608&t[0]&&(s.imageType=e[23]),16777216&t[0]&&(s.useLibrary=e[24]),524288&t[0]&&(s.itemId=e[19]),!r&&4096&t[0]&&(r=!0,s.image=e[12],te(()=>r=!1)),!m&&32768&t[0]&&(m=!0,s.fileIsUploading=e[15],te(()=>m=!1)),D.$set(s)},i(e){f||(E(h.$$.fragment,e),E(D.$$.fragment,e),f=!0)},o(e){b(h.$$.fragment,e),b(D.$$.fragment,e),f=!1},d(e){e&&u(t),N(h),e&&u(n),e&&u(l),N(D)}}}function ye(e){let t,n,s,a;const l=[we,Ae],i=[];function c(e,t){return e[12]||e[14]?0:1}return t=c(e),n=i[t]=l[t](e),{c(){n.c(),s=w()},l(e){n.l(e),s=w()},m(e,n){i[t].m(e,n),$(e,s,n),a=!0},p(e,a){let o=t;(t=c(e))===o?i[t].p(e,a):(y(),b(i[o],1,1,()=>{i[o]=null}),D(),(n=i[t])||(n=i[t]=l[t](e)).c(),E(n,1),n.m(s.parentNode,s))},i(e){a||(E(n),a=!0)},o(e){b(n),a=!1},d(e){i[t].d(e),e&&u(s)}}}function De(e){let t,n=z.NEW_THREAD.ADD_IMAGE+"";return{c(){t=l(n)},l(e){t=r(e,n)},m(e,n){$(e,t,n)},p:v,d(e){e&&u(t)}}}function _e(e){let t,n=z.NEW_THREAD.REMOVE_IMAGE+"";return{c(){t=l(n)},l(e){t=r(e,n)},m(e,n){$(e,t,n)},p:v,d(e){e&&u(t)}}}function Ae(e){let t,n;const a=new q({props:{className:"addImage",icon:me,onClick:e[33],title:z.NEW_THREAD.ADD_IMAGE}});return{c(){t=s("div"),g(a.$$.fragment),this.h()},l(e){t=i(e,"DIV",{class:!0});var n=c(t);I(a.$$.fragment,n),n.forEach(u),this.h()},h(){d(t,"class","imageField svelte-1wbn29u")},m(e,s){$(e,t,s),T(a,t,null),n=!0},p:v,i(e){n||(E(a.$$.fragment,e),n=!0)},o(e){b(a.$$.fragment,e),n=!1},d(e){e&&u(t),N(a)}}}function we(e){let t,n,l,r,m,f,h,p=e[9]&&Ce(e);function v(t){e[67].call(null,t)}function _(t){e[68].call(null,t)}let A={containMode:!0,imageType:e[23],useLibrary:e[24],uploadType:"post",itemId:e[19]};void 0!==e[12]&&(A.image=e[12]),void 0!==e[15]&&(A.fileIsUploading=e[15]);const C=new de({props:A});Z.push(()=>ee(C,"image",v)),Z.push(()=>ee(C,"fileIsUploading",_)),C.$on("resize",e[36]);let R=!e[9]&&xe(e);return{c(){p&&p.c(),t=a(),n=s("div"),g(C.$$.fragment),m=a(),R&&R.c(),f=w(),this.h()},l(e){p&&p.l(e),t=o(e),n=i(e,"DIV",{class:!0});var s=c(n);I(C.$$.fragment,s),s.forEach(u),m=o(e),R&&R.l(e),f=w(),this.h()},h(){d(n,"class","field headerImageField svelte-1wbn29u")},m(e,s){p&&p.m(e,s),$(e,t,s),$(e,n,s),T(C,n,null),$(e,m,s),R&&R.m(e,s),$(e,f,s),h=!0},p(e,n){e[9]?p?(p.p(e,n),512&n[0]&&E(p,1)):((p=Ce(e)).c(),E(p,1),p.m(t.parentNode,t)):p&&(y(),b(p,1,1,()=>{p=null}),D());const s={};8388608&n[0]&&(s.imageType=e[23]),16777216&n[0]&&(s.useLibrary=e[24]),524288&n[0]&&(s.itemId=e[19]),!l&&4096&n[0]&&(l=!0,s.image=e[12],te(()=>l=!1)),!r&&32768&n[0]&&(r=!0,s.fileIsUploading=e[15],te(()=>r=!1)),C.$set(s),e[9]?R&&(y(),b(R,1,1,()=>{R=null}),D()):R?(R.p(e,n),512&n[0]&&E(R,1)):((R=xe(e)).c(),E(R,1),R.m(f.parentNode,f))},i(e){h||(E(p),E(C.$$.fragment,e),E(R),h=!0)},o(e){b(p),b(C.$$.fragment,e),b(R),h=!1},d(e){p&&p.d(e),e&&u(t),e&&u(n),N(C),e&&u(m),R&&R.d(e),e&&u(f)}}}function Ce(e){let t,n;const a=new q({props:{className:"addImage removeImage",icon:Q,onClick:e[34],title:z.NEW_THREAD.REMOVE_IMAGE,$$slots:{default:[Re]},$$scope:{ctx:e}}});return{c(){t=s("div"),g(a.$$.fragment),this.h()},l(e){t=i(e,"DIV",{class:!0});var n=c(t);I(a.$$.fragment,n),n.forEach(u),this.h()},h(){d(t,"class","imageField removeImageField svelte-1wbn29u")},m(e,s){$(e,t,s),T(a,t,null),n=!0},p(e,t){const n={};2048&t[2]&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){n||(E(a.$$.fragment,e),n=!0)},o(e){b(a.$$.fragment,e),n=!1},d(e){e&&u(t),N(a)}}}function Re(e){let t,n=z.NEW_THREAD.REMOVE_IMAGE+"";return{c(){t=l(n)},l(e){t=r(e,n)},m(e,n){$(e,t,n)},p:v,d(e){e&&u(t)}}}function xe(e){let t,n;const a=new q({props:{className:"addImage removeImage",icon:Q,onClick:e[34],title:z.NEW_THREAD.REMOVE_IMAGE,$$slots:{default:[Pe]},$$scope:{ctx:e}}});return{c(){t=s("div"),g(a.$$.fragment),this.h()},l(e){t=i(e,"DIV",{class:!0});var n=c(t);I(a.$$.fragment,n),n.forEach(u),this.h()},h(){d(t,"class","imageField removeImageField svelte-1wbn29u")},m(e,s){$(e,t,s),T(a,t,null),n=!0},p(e,t){const n={};2048&t[2]&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){n||(E(a.$$.fragment,e),n=!0)},o(e){b(a.$$.fragment,e),n=!1},d(e){e&&u(t),N(a)}}}function Pe(e){let t,n=z.NEW_THREAD.REMOVE_IMAGE+"";return{c(){t=l(n)},l(e){t=r(e,n)},m(e,n){$(e,t,n)},p:v,d(e){e&&u(t)}}}function Ve(e){let t,n,l,r=z.NEW_THREAD.EDITING_NOTE+"",m=e[17]&&Le(e);return{c(){t=s("div"),l=a(),m&&m.c(),this.h()},l(e){t=i(e,"DIV",{class:!0});var n=c(t);l=o(n),m&&m.l(n),n.forEach(u),this.h()},h(){n=new re(l),d(t,"class","fieldNote svelte-1wbn29u")},m(e,s){$(e,t,s),n.m(r,t),f(t,l),m&&m.m(t,null)},p(e,n){e[17]?m?m.p(e,n):((m=Le(e)).c(),m.m(t,null)):m&&(m.d(1),m=null)},i:v,o:v,d(e){e&&u(t),m&&m.d()}}}function Se(e){let t,n=z.NEW_THREAD.EDIT_NOTE+"";return{c(){t=s("div"),this.h()},l(e){t=i(e,"DIV",{class:!0}),c(t).forEach(u),this.h()},h(){d(t,"class","fieldNote svelte-1wbn29u")},m(e,s){$(e,t,s),t.innerHTML=n},p:v,i:v,o:v,d(e){e&&u(t)}}}function He(e){let t,n,m,h,p,v,y,D=z.NEW_THREAD.CHANNEL_SELECT+"";function _(t){e[71].call(null,t)}let A={items:e[18]};void 0!==e[1]&&(A.selectedValueString=e[1]);const w=new ue({props:A});return Z.push(()=>ee(w,"selectedValueString",_)),w.$on("select",e[37]),{c(){t=s("div"),n=s("div"),m=l(D),h=a(),p=s("div"),g(w.$$.fragment),this.h()},l(e){t=i(e,"DIV",{class:!0});var s=c(t);n=i(s,"DIV",{class:!0});var a=c(n);m=r(a,D),a.forEach(u),h=o(s),p=i(s,"DIV",{class:!0});var l=c(p);I(w.$$.fragment,l),l.forEach(u),s.forEach(u),this.h()},h(){d(n,"class","channelSelectLabel svelte-1wbn29u"),d(p,"class","channelSelectBoxContainer svelte-1wbn29u"),d(t,"class","channelSelectContainer svelte-1wbn29u")},m(e,s){$(e,t,s),f(t,n),f(n,m),f(t,h),f(t,p),T(w,p,null),y=!0},p(e,t){const n={};262144&t[0]&&(n.items=e[18]),!v&&2&t[0]&&(v=!0,n.selectedValueString=e[1],te(()=>v=!1)),w.$set(n)},i(e){y||(E(w.$$.fragment,e),y=!0)},o(e){b(w.$$.fragment,e),y=!1},d(e){e&&u(t),N(w)}}}function Le(e){let t,n,a,o,m,h,E,g=z.NEW_THREAD.REST_ACTION+"",I=z.NEW_THREAD.REST_NOTE+"";return{c(){t=s("div"),n=s("a"),a=l(g),m=l(I),this.h()},l(e){t=i(e,"DIV",{});var s=c(t);n=i(s,"A",{href:!0});var l=c(n);a=r(l,g),l.forEach(u),m=r(s,I),s.forEach(u),this.h()},h(){d(n,"href",o=location.href)},m(s,l){$(s,t,l),f(t,n),f(n,a),f(t,m),h||(E=p(n,"click",e[31]),h=!0)},p:v,d(e){e&&u(t),h=!1,E()}}}function Me(e){let t;const n=new q({props:{className:"nextButton "+(e[7]?"smallNextButton":""),disabled:!e[20],onClick:e[30],icon:he,$$slots:{default:[Oe]},$$scope:{ctx:e}}});return{c(){g(n.$$.fragment)},l(e){I(n.$$.fragment,e)},m(e,s){T(n,e,s),t=!0},p(e,t){const s={};128&t[0]&&(s.className="nextButton "+(e[7]?"smallNextButton":"")),1048576&t[0]&&(s.disabled=!e[20]),2048&t[2]&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){t||(E(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){N(n,e)}}}function We(e){let t,n,s,a;const l=[Fe,je],i=[];function c(e,t){return e[4]?0:1}return t=c(e),n=i[t]=l[t](e),{c(){n.c(),s=w()},l(e){n.l(e),s=w()},m(e,n){i[t].m(e,n),$(e,s,n),a=!0},p(e,a){let o=t;(t=c(e))===o?i[t].p(e,a):(y(),b(i[o],1,1,()=>{i[o]=null}),D(),(n=i[t])||(n=i[t]=l[t](e)).c(),E(n,1),n.m(s.parentNode,s))},i(e){a||(E(n),a=!0)},o(e){b(n),a=!1},d(e){i[t].d(e),e&&u(s)}}}function Oe(e){let t,n=z.EDIT_THREAD.CONFIRM+"";return{c(){t=l(n)},l(e){t=r(e,n)},m(e,n){$(e,t,n)},p:v,d(e){e&&u(t)}}}function je(e){let t;const n=new q({props:{className:"nextButton "+(e[7]?"smallNextButton":""),disabled:!e[20],onClick:e[29],icon:$e,$$slots:{default:[Be]},$$scope:{ctx:e}}});return{c(){g(n.$$.fragment)},l(e){I(n.$$.fragment,e)},m(e,s){T(n,e,s),t=!0},p(e,t){const s={};128&t[0]&&(s.className="nextButton "+(e[7]?"smallNextButton":"")),1048576&t[0]&&(s.disabled=!e[20]),2048&t[2]&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){t||(E(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){N(n,e)}}}function Fe(e){let t;const n=new q({props:{className:"nextButton "+(e[7]?"smallNextButton":""),disabled:!e[20],onClick:e[29],icon:pe,$$slots:{default:[Ge]},$$scope:{ctx:e}}});return{c(){g(n.$$.fragment)},l(e){I(n.$$.fragment,e)},m(e,s){T(n,e,s),t=!0},p(e,t){const s={};128&t[0]&&(s.className="nextButton "+(e[7]?"smallNextButton":"")),1048576&t[0]&&(s.disabled=!e[20]),32&t[0]|2048&t[2]&&(s.$$scope={dirty:t,ctx:e}),n.$set(s)},i(e){t||(E(n.$$.fragment,e),t=!0)},o(e){b(n.$$.fragment,e),t=!1},d(e){N(n,e)}}}function Be(e){let t,n=z.NEW_THREAD.CONFIRM+"";return{c(){t=l(n)},l(e){t=r(e,n)},m(e,n){$(e,t,n)},p:v,d(e){e&&u(t)}}}function Ge(e){let t,n=(e[5]||z.REPLY_THREAD.CONFIRM)+"";return{c(){t=l(n)},l(e){t=r(e,n)},m(e,n){$(e,t,n)},p(e,s){32&s[0]&&n!==(n=(e[5]||z.REPLY_THREAD.CONFIRM)+"")&&_(t,n)},d(e){e&&u(t)}}}function ke(e){let t,n,s=(!e[16]||e[21])&&Ee(e);return{c(){s&&s.c(),t=w()},l(e){s&&s.l(e),t=w()},m(e,a){s&&s.m(e,a),$(e,t,a),n=!0},p(e,n){!e[16]||e[21]?s?(s.p(e,n),2162688&n[0]&&E(s,1)):((s=Ee(e)).c(),E(s,1),s.m(t.parentNode,t)):s&&(y(),b(s,1,1,()=>{s=null}),D())},i(e){n||(E(s),n=!0)},o(e){b(s),n=!1},d(e){s&&s.d(e),e&&u(t)}}}function Ue(e,t,n){let s,a,l,i,c,o,r,u,d=v,m=()=>(d(),d=W(y,e=>n(47,s=e)),y);C(e,R,e=>n(49,a=e)),C(e,x,e=>n(50,l=e)),C(e,P,e=>n(51,i=e)),C(e,V,e=>n(21,c=e)),C(e,S,e=>n(53,o=e)),C(e,H,e=>n(55,r=e)),C(e,L,e=>n(56,u=e)),e.$$.on_destroy.push(()=>d());const $=M();let{inlineComponent:f=!1}=t,{element:h=null}=t,{submitLabel:p=null}=t,{shown:E=!0}=t,{smallNextButton:g=!1}=t,{className:I=""}=t,{targetPostType:T=null}=t,{targetChannelId:b=null}=t,{showChannelSelect:N=!1}=t,{channels:y=null}=t;m();let D,{onChannelSelected:_=null}=t,A="",{message:w=""}=t,q=null,{messageField:Q}=t,ee="",te="",re=null,ue=!1,de=!1,me=O();j();let $e=!1,fe=!1,he=!1;function pe(){he||(n(45,he=!0),n(16,fe=l&&!!l.match(/posts\/.+\/edit/)||!1),n(46,Ee=!1))}let Ee=!1;async function ge(){if(xe&&!u){const e=J(Re,xe,fe);e&&(await B(),Pe&&n(11,A=e.title||""),n(2,w=e.message||""),n(12,q=e.image||null),e.itemId&&n(43,me=e.itemId))}return null}function Ie(){if(!fe&&Re){const e={id:me,message:Y(w),image:q,type:Re};switch(Re){case"thread":e.title=Y(A),e.channelId=Ae,e.projectId=!b&&a&&a.projectId||r;break;case"threadPost":e.threadId=i,e.channelId=Ae,e.projectId=!b&&a&&a.projectId||r;break;case"projectPost":e.projectId=r,ne("projectPosts")}let t=se(e);t&&t.then(e=>{e&&(e.success||e.addedPost||e.duplicateKey)&&K(Re,xe,fe)}),Te(),ye(),$("submit")}}function Te(){n(2,w=""),n(14,ue=!1),n(12,q=null),n(43,me=O()),f&&$("submit")}function ve(){if(fe){const e={message:Y(w)};switch(c.type){case"thread":e.title=Y(A)}q!==re&&(e.image=q);const t=ae(e);t&&t.then(e=>{e&&(e.success||e.addedPost||e.duplicateKey)&&K(Re,xe,fe)}),ye(),$("submit")}}F(async()=>{n(44,$e=!0),await B(),Pe?D&&D.focus():Q&&Q.focus(),x.subscribe(pe)});let be=!1;function Ne(){Ce&&(fe?ve():Ie())}function ye(){f&&$("hide")}function De(){f&&$("resize")}let _e,Ae,we,Ce,Re,xe,Pe,Ve,Se,He,Le,Me,We;return e.$set=(e=>{"inlineComponent"in e&&n(4,f=e.inlineComponent),"element"in e&&n(0,h=e.element),"submitLabel"in e&&n(5,p=e.submitLabel),"shown"in e&&n(6,E=e.shown),"smallNextButton"in e&&n(7,g=e.smallNextButton),"className"in e&&n(8,I=e.className),"targetPostType"in e&&n(38,T=e.targetPostType),"targetChannelId"in e&&n(1,b=e.targetChannelId),"showChannelSelect"in e&&n(9,N=e.showChannelSelect),"channels"in e&&m(n(10,y=e.channels)),"onChannelSelected"in e&&n(39,_=e.onChannelSelected),"message"in e&&n(2,w=e.message),"messageField"in e&&n(3,Q=e.messageField)}),e.$$.update=(()=>{if(1024&e.$$.dirty[0]|65536&e.$$.dirty[1]&&n(18,_e=y&&s?s.map(e=>{if(G(e,ie)){const t=k(e);return{label:""+t.title,value:t.id,description:t.description||U(t)}}return null}).filter(e=>e):[]),2&e.$$.dirty[0]|262144&e.$$.dirty[1]&&n(48,Ae=b||a&&a.id),65536&e.$$.dirty[0]|1052672&e.$$.dirty[1]&&n(19,we=fe?i:me),2162688&e.$$.dirty[0]|4194432&e.$$.dirty[1]&&n(52,Re=T||(fe&&c?c.type:o)),2162688&e.$$.dirty[0]|20054016&e.$$.dirty[1]&&n(54,xe=(fe?c&&c.id:"thread"===Re?Ae:"projectPost"===Re?r:i)||null),2168836&e.$$.dirty[0]|8445952&e.$$.dirty[1]&&!Ee&&he&&$e&&(fe?c&&(n(11,A=c&&c.title||""),n(2,w=c&&c.message||""),n(12,q=c&&c.image||""),n(2,w=ce(w)),n(40,ee=A),n(41,te=w),n(42,re=q),ge(),n(46,Ee=!0)):xe&&(ge(),n(46,Ee=!0))),38916&e.$$.dirty[0]|2097152&e.$$.dirty[1]&&n(20,Ce=(Y(A)||Y(w)||q&&"thread"!==Re)&&!de),2048&e.$$.dirty[0]&&n(22,Pe=Y(A)),2097152&e.$$.dirty[1]&&n(23,Ve="thread"===Re?"image/jpeg":null),2097152&e.$$.dirty[1]&&n(25,Le="projectPost"===Re),33554432&e.$$.dirty[0]&&n(24,Se=!!Le),65552&e.$$.dirty[0]|2097152&e.$$.dirty[1]&&n(27,Me="projectPost"===Re?fe?z.EDIT_PROJECT_POST.PAGE_TITLE:z.NEW_PROJECT_POST.PAGE_TITLE:"thread"===Re?fe?z.EDIT_THREAD.PAGE_TITLE:z.NEW_THREAD.PAGE_TITLE:f?z.REPLY_THREAD.PAGE_TITLE:fe?z.EDIT_THREAD_POST.PAGE_TITLE:z.NEW_THREAD_POST.PAGE_TITLE),67129344&e.$$.dirty[0]&&n(28,We=He&&(q||ue)),268435456&e.$$.dirty[0]&&De(),2168836&e.$$.dirty[0]|10518016&e.$$.dirty[1]&&xe&&he&&$e){const e={title:A,message:w,image:q};fe||(e.itemId=me);const t=J(Re,xe,fe);fe?c&&(!t&&oe(A,ee)&&oe(w,te)&&q===re||(oe(A,ee)&&oe(w,te)&&q===re?K(Re,xe,fe):X(Re,xe,fe,e))):(t||A||w||q)&&(A||w||q?X(Re,xe,fe,e):K(Re,xe,fe))}if(2168836&e.$$.dirty[0]|10513920&e.$$.dirty[1]&&fe&&xe&&he&&$e){const e=J(Re,xe,fe);n(17,be=!(!e||!c)&&(!oe(A,ee)||!oe(w,te)||q!==re))}}),n(26,He=!0),[h,b,w,Q,f,p,E,g,I,N,y,A,q,D,ue,de,fe,be,_e,we,Ce,c,Pe,Ve,Se,Le,He,Me,We,Ie,ve,function(){fe&&be&&xe&&(n(11,A=ee),n(2,w=te),n(12,q=re),K(Re,xe,fe))},Ne,function(){n(14,ue=!0)},function(){n(14,ue=!1),n(12,q=null)},ye,De,function(){_&&_(b)},T,_,ee,te,re,me,$e,he,Ee,s,Ae,a,l,i,Re,o,xe,r,u,$,pe,ge,Te,function(){A=this.value,n(11,A),n(46,Ee),n(45,he),n(44,$e),n(16,fe),n(21,c),n(2,w),n(12,q),n(54,xe),n(52,Re),n(48,Ae),n(55,r),n(51,i),n(38,T),n(53,o),n(1,b),n(49,a)},function(e){Z[e?"unshift":"push"](()=>{n(13,D=e)})},e=>le(e,{target:Q,action:Ne,actionOnCtrl:!0}),function(){w=this.value,n(2,w),n(46,Ee),n(45,he),n(44,$e),n(16,fe),n(21,c),n(11,A),n(12,q),n(54,xe),n(52,Re),n(48,Ae),n(55,r),n(51,i),n(38,T),n(53,o),n(1,b),n(49,a)},function(e){Z[e?"unshift":"push"](()=>{n(3,Q=e)})},e=>le(e,{action:Ne,actionOnCtrl:!0}),function(e){n(12,q=e),n(46,Ee),n(45,he),n(44,$e),n(16,fe),n(21,c),n(2,w),n(11,A),n(54,xe),n(52,Re),n(48,Ae),n(55,r),n(51,i),n(38,T),n(53,o),n(1,b),n(49,a)},function(e){n(15,de=e)},function(e){n(12,q=e),n(46,Ee),n(45,he),n(44,$e),n(16,fe),n(21,c),n(2,w),n(11,A),n(54,xe),n(52,Re),n(48,Ae),n(55,r),n(51,i),n(38,T),n(53,o),n(1,b),n(49,a)},function(e){n(15,de=e)},function(e){n(1,b=e)},function(e){Z[e?"unshift":"push"](()=>{n(0,h=e)})}]}class Ye extends e{constructor(e){super(),t(this,e,Ue,ke,n,{inlineComponent:4,element:0,submitLabel:5,shown:6,smallNextButton:7,className:8,targetPostType:38,targetChannelId:1,showChannelSelect:9,channels:10,onChannelSelected:39,message:2,messageField:3},[-1,-1,-1])}}export{Ye as E};
