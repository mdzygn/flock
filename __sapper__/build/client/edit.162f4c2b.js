import{S as a,i as s,s as e,q as t,R as l,z as r,C as c,H as n,r as o,u as i,T as f,d as u,A as $,D as p,x as I,b as m,E as d,t as v,c as E,F as h,J as g,Y as x,bk as L,cg as D,W as T,a1 as _,n as O,aM as P,v as b,aK as R,l as y,aL as F,aN as A,ac as C,K as S,a4 as N,a3 as k,$ as V,c3 as H,ch as U,ci as w,N as M,ai as B,ar as j,bB as z,V as K}from"./client.2c27e6e9.js";import{S as W}from"./Proxy.f1034817.js";import"./Hotspot.7b84e31e.js";import"./SearchBar.c6972521.js";import"./LimitedTextfield.33cb3b4f.js";import{U as X,I as G,a as q,E as Y}from"./ImageSelectionBox.330f5f13.js";import{S as J}from"./save.71e29683.js";import{C as Q}from"./cancel.feaa218b.js";function Z(a){let s,e=K.EDIT_PROFILE.CONFIRM+"";return{c(){s=l(e)},l(a){s=f(a,e)},m(a,e){m(a,s,e)},p:S,d(a){a&&u(s)}}}function aa(a){let s,e=K.EDIT_PROFILE.UPLOAD_PROFILE_IMAGE+"";return{c(){s=l(e)},l(a){s=f(a,e)},m(a,e){m(a,s,e)},p:S,d(a){a&&u(s)}}}function sa(a){let s,e=K.EDIT_PROFILE.CANCEL+"";return{c(){s=l(e)},l(a){s=f(a,e)},m(a,e){m(a,s,e)},p:S,d(a){a&&u(s)}}}function ea(a){let s,e=K.EDIT_PROFILE.CONFIRM+"";return{c(){s=l(e)},l(a){s=f(a,e)},m(a,e){m(a,s,e)},p:S,d(a){a&&u(s)}}}function ta(a){let s,e,n,g,x,L,D,S,N,k,V,H,U,w,M,B,j,z,W,q,Y,ta,la,ra,ca,na,oa,ia,fa,ua,$a,pa,Ia,ma,da,va,Ea,ha,ga,xa,La,Da,Ta,_a,Oa,Pa,ba=K.EDIT_PROFILE.NAME+"",Ra=K.EDIT_PROFILE.BIO+"",ya=K.EDIT_PROFILE.BIO_TIP+"",Fa=K.EDIT_PROFILE.COVER_IMAGE+"",Aa=K.EDIT_PROFILE.SKILLS+"",Ca=K.EDIT_PROFILE.SKILLS_TIP+"",Sa=K.EDIT_PROFILE.LOCATION+"",Na=K.EDIT_PROFILE.LOCATION_TIP+"";const ka=new T({props:{className:"saveButton",onClick:a[12],icon:J,disabled:!a[10],$$slots:{default:[Z]},$$scope:{ctx:a}}}),Va=new _({props:{user:a[0],onClick:a[13]}}),Ha=new T({props:{className:"uploadAvatarButton",onClick:a[15],icon:X,$$slots:{default:[aa]},$$scope:{ctx:a}}});function Ua(s){a[27].call(null,s)}function wa(s){a[28].call(null,s)}let Ma={uploadType:"userCover",itemId:a[11]};void 0!==a[3]&&(Ma.image=a[3]),void 0!==a[6]&&(Ma.fileIsUploading=a[6]);const Ba=new G({props:Ma});O.push(()=>P(Ba,"image",Ua)),O.push(()=>P(Ba,"fileIsUploading",wa));const ja=new T({props:{className:"cancelButton",onClick:a[14],icon:Q,$$slots:{default:[sa]},$$scope:{ctx:a}}}),za=new T({props:{className:"saveButton",onClick:a[12],icon:J,disabled:!a[10],$$slots:{default:[ea]},$$scope:{ctx:a}}});return{c(){s=t("div"),e=t("div"),n=t("div"),g=t("div"),c(ka.$$.fragment),x=r(),c(Va.$$.fragment),L=r(),c(Ha.$$.fragment),D=r(),S=t("div"),N=t("div"),k=l(ba),V=r(),H=t("input"),U=r(),w=t("div"),M=t("div"),B=l(Ra),j=t("span"),z=r(),W=t("textarea"),q=r(),Y=t("div"),ta=t("div"),la=l(Fa),ra=r(),c(Ba.$$.fragment),oa=r(),ia=t("div"),fa=t("div"),ua=l(Aa),$a=t("span"),pa=r(),Ia=t("textarea"),ma=r(),da=t("div"),va=t("div"),Ea=l(Sa),ha=t("span"),ga=r(),xa=t("input"),La=r(),Da=t("div"),c(ja.$$.fragment),Ta=r(),c(za.$$.fragment),this.h()},l(a){s=o(a,"DIV",{class:!0});var t=i(s);e=o(t,"DIV",{class:!0});var l=i(e);n=o(l,"DIV",{class:!0});var r=i(n);g=o(r,"DIV",{class:!0});var c=i(g);p(ka.$$.fragment,c),c.forEach(u),x=$(r),p(Va.$$.fragment,r),L=$(r),p(Ha.$$.fragment,r),D=$(r),S=o(r,"DIV",{class:!0});var I=i(S);N=o(I,"DIV",{class:!0});var m=i(N);k=f(m,ba),m.forEach(u),V=$(I),H=o(I,"INPUT",{type:!0,autocapitalize:!0,class:!0}),I.forEach(u),U=$(r),w=o(r,"DIV",{class:!0});var d=i(w);M=o(d,"DIV",{class:!0});var v=i(M);B=f(v,Ra),j=o(v,"SPAN",{class:!0}),i(j).forEach(u),v.forEach(u),z=$(d),W=o(d,"TEXTAREA",{class:!0}),i(W).forEach(u),d.forEach(u),q=$(r),Y=o(r,"DIV",{class:!0});var E=i(Y);ta=o(E,"DIV",{class:!0});var h=i(ta);la=f(h,Fa),h.forEach(u),ra=$(E),p(Ba.$$.fragment,E),E.forEach(u),oa=$(r),ia=o(r,"DIV",{class:!0});var T=i(ia);fa=o(T,"DIV",{class:!0});var _=i(fa);ua=f(_,Aa),$a=o(_,"SPAN",{class:!0}),i($a).forEach(u),_.forEach(u),pa=$(T),Ia=o(T,"TEXTAREA",{}),i(Ia).forEach(u),T.forEach(u),ma=$(r),da=o(r,"DIV",{class:!0});var O=i(da);va=o(O,"DIV",{class:!0});var P=i(va);Ea=f(P,Sa),ha=o(P,"SPAN",{class:!0}),i(ha).forEach(u),P.forEach(u),ga=$(O),xa=o(O,"INPUT",{type:!0,autocapitalize:!0,class:!0}),O.forEach(u),r.forEach(u),La=$(l),Da=o(l,"DIV",{class:!0});var b=i(Da);p(ja.$$.fragment,b),Ta=$(b),p(za.$$.fragment,b),b.forEach(u),l.forEach(u),t.forEach(u),this.h()},h(){b(g,"class","actions topActions svelte-12rfx78"),b(N,"class","label svelte-12rfx78"),b(H,"type","text"),b(H,"autocapitalize","words"),b(H,"class","svelte-12rfx78"),b(S,"class","field svelte-12rfx78"),b(j,"class","tip svelte-12rfx78"),b(M,"class","label svelte-12rfx78"),b(W,"class","svelte-12rfx78"),b(w,"class","field bioField svelte-12rfx78"),b(ta,"class","label headerImageLabel svelte-12rfx78"),b(Y,"class","field headerImageField svelte-12rfx78"),b($a,"class","tip svelte-12rfx78"),b(fa,"class","label labelDetails svelte-12rfx78"),b(ia,"class","field skillsField svelte-12rfx78"),b(ha,"class","tip svelte-12rfx78"),b(va,"class","label labelDetails svelte-12rfx78"),b(xa,"type","text"),b(xa,"autocapitalize","sentences"),b(xa,"class","svelte-12rfx78"),b(da,"class","field svelte-12rfx78"),b(n,"class","mainProfileDetails svelte-12rfx78"),b(Da,"class","actions svelte-12rfx78"),b(e,"class","panelContent svelte-12rfx78"),b(s,"class","content svelte-12rfx78")},m(t,l){m(t,s,l),I(s,e),I(e,n),I(n,g),d(ka,g,null),I(n,x),d(Va,n,null),I(n,L),d(Ha,n,null),I(n,D),I(n,S),I(S,N),I(N,k),I(S,V),I(S,H),R(H,a[1]),I(n,U),I(n,w),I(w,M),I(M,B),I(M,j),j.innerHTML=ya,I(w,z),I(w,W),R(W,a[2]),a[26](W),I(n,q),I(n,Y),I(Y,ta),I(ta,la),I(Y,ra),d(Ba,Y,null),I(n,oa),I(n,ia),I(ia,fa),I(fa,ua),I(fa,$a),$a.innerHTML=Ca,I(ia,pa),I(ia,Ia),R(Ia,a[4]),a[30](Ia),I(n,ma),I(n,da),I(da,va),I(va,Ea),I(va,ha),ha.innerHTML=Na,I(da,ga),I(da,xa),R(xa,a[5]),a[33](xa),I(e,La),I(e,Da),d(ja,Da,null),I(Da,Ta),d(za,Da,null),_a=!0,Oa||(Pa=[y(H,"input",a[22]),y(H,"keypress",a[23]),y(H,"keyup",a[24]),y(W,"input",a[25]),y(W,"keypress",F),y(Ia,"input",a[29]),y(Ia,"keyup",a[31]),y(xa,"input",a[32]),y(xa,"keypress",F),y(xa,"keyup",a[34])],Oa=!0)},p(a,s){const e={};1024&s[0]&&(e.disabled=!a[10]),16&s[1]&&(e.$$scope={dirty:s,ctx:a}),ka.$set(e);const t={};1&s[0]&&(t.user=a[0]),Va.$set(t);const l={};16&s[1]&&(l.$$scope={dirty:s,ctx:a}),Ha.$set(l),2&s[0]&&H.value!==a[1]&&R(H,a[1]),4&s[0]&&R(W,a[2]);const r={};2048&s[0]&&(r.itemId=a[11]),!ca&&8&s[0]&&(ca=!0,r.image=a[3],A(()=>ca=!1)),!na&&64&s[0]&&(na=!0,r.fileIsUploading=a[6],A(()=>na=!1)),Ba.$set(r),16&s[0]&&R(Ia,a[4]),32&s[0]&&xa.value!==a[5]&&R(xa,a[5]);const c={};16&s[1]&&(c.$$scope={dirty:s,ctx:a}),ja.$set(c);const n={};1024&s[0]&&(n.disabled=!a[10]),16&s[1]&&(n.$$scope={dirty:s,ctx:a}),za.$set(n)},i(a){_a||(v(ka.$$.fragment,a),v(Va.$$.fragment,a),v(Ha.$$.fragment,a),v(Ba.$$.fragment,a),v(ja.$$.fragment,a),v(za.$$.fragment,a),_a=!0)},o(a){E(ka.$$.fragment,a),E(Va.$$.fragment,a),E(Ha.$$.fragment,a),E(Ba.$$.fragment,a),E(ja.$$.fragment,a),E(za.$$.fragment,a),_a=!1},d(e){e&&u(s),h(ka),h(Va),h(Ha),a[26](null),h(Ba),a[30](null),a[33](null),h(ja),h(za),Oa=!1,C(Pa)}}}function la(a){let s,e,g,x;const L=new W({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}});return{c(){s=t("style"),e=l("body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),g=r(),c(L.$$.fragment),this.h()},l(a){const t=n('[data-svelte="svelte-1ja50yt"]',document.head);s=o(t,"STYLE",{});var l=i(s);e=f(l,"body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),l.forEach(u),t.forEach(u),g=$(a),p(L.$$.fragment,a),this.h()},h(){document.title="Flock"},m(a,t){I(document.head,s),I(s,e),m(a,g,t),d(L,a,t),x=!0},p(a,s){const e={};4095&s[0]|16&s[1]&&(e.$$scope={dirty:s,ctx:a}),L.$set(e)},i(a){x||(v(L.$$.fragment,a),x=!0)},o(a){E(L.$$.fragment,a),x=!1},d(a){u(s),a&&u(g),h(L,a)}}}function ra(a,s,e){let t,l,r,c=S,n=()=>(c(),c=x(o,a=>e(19,l=a)),o);g(a,N,a=>e(17,t=a)),g(a,k,a=>e(11,r=a)),a.$$.on_destroy.push(()=>c());let o=V(null);n();let i,f,u,$,p,I=t&&t.name||"",m=t&&t.bio&&H(t.bio)||"",d=t&&t.coverImage||"",v=t&&t.skills||"",E=t&&t.location||"";function h(){w(o)}function T(){q.uploadImage({uploadType:"userProfile",itemId:r,imageSettings:{maxWidth:B.PROFILE_UPLOAD_MAX_WIDTH,maxHeight:B.PROFILE_UPLOAD_MAX_HEIGHT},thumbSettings:{maxWidth:B.PROFILE_UPLOAD_THUMB_MAX_WIDTH,maxHeight:B.PROFILE_UPLOAD_THUMB_MAX_HEIGHT},onUploading:()=>{j(o,l.avatarImageRawSrc=Y,l),o.set(l),e(16,i=!0)},onImageLoaded:a=>{j(o,l.avatarImageRawSrc=URL.createObjectURL(a),l),o.set(l)},onComplete:a=>{j(o,l.avatarImageRawSrc=null,l),j(o,l.avatarImage=a,l),e(16,i=!1)},onError:a=>{j(o,l.avatarImageRawSrc=null,l),j(o,l.avatarImage=null,l),o.set(l),e(16,i=!1),console.error("Could not request profile image upload")}})}let _,P;return a.$$.update=(()=>{65602&a.$$.dirty[0]&&e(10,P=!(!L(I)||i||f))}),n(e(0,o=D(N))),_=void 0<B.PROFILE_DESCRIPTION_CHARS_LOW,[o,I,m,d,v,E,f,u,$,p,P,r,function(){if(P){const a={name:L(I),bio:L(m),avatarImage:l.avatarImage||null,coverImage:d,skills:v,location:E,style:l.style};U(a)}},function(){l.avatarImage?T():h()},function(){M("profile/"+r)},T,i,t,_,l,void 0,h,function(){I=this.value,e(1,I)},a=>F(a,{target:u}),a=>z(a,{capitalizeFirstKeypress:!0}),function(){m=this.value,e(2,m)},function(a){O[a?"unshift":"push"](()=>{e(7,u=a)})},function(a){e(3,d=a)},function(a){e(6,f=a)},function(){v=this.value,e(4,v)},function(a){O[a?"unshift":"push"](()=>{e(8,$=a)})},a=>z(a,{keepLowerCase:!0}),function(){E=this.value,e(5,E)},function(a){O[a?"unshift":"push"](()=>{e(9,p=a)})},a=>z(a,{capitalizeFirstKeypress:!0})]}export default class extends a{constructor(a){super(),s(this,a,ra,la,e,{},[-1,-1])}}
