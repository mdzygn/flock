import{S as t,i as e,s as n,C as s,D as l,E as a,K as o,t as r,c,F as i,q as $,e as d,r as u,u as m,d as f,v as h,b as p,x as g,R as A,T as v,z as y,A as D,B as w,L as I,I as E,J as b,ad as P,a4 as T,a3 as H,ae as C,Y as L,bl as N,af as M,bo as S,ah as R,ai as V,aj as O,al as j,m as F,ag as B,W as k,an as x,ax as W,U as z,aq as Y,$ as K,ao as _,cJ as G,bE as Z,ar as Q,aa as U,as as J,at as q,au as X,cK as tt,l as et,G as nt,V as st,a1 as lt,H as at,aZ as ot,b1 as rt,cL as ct,o as it,g as $t,a7 as dt,be as ut,bf as mt,cM as ft,n as ht,aM as pt,aL as gt,bj as At,aY as vt,aX as yt,a5 as Dt,bi as wt,cN as It,a9 as Et,cO as bt,bv as Pt,cP as Tt,ab as Ht}from"./client.9f5af520.js";import{S as Ct}from"./Proxy.ba10d480.js";import"./Hotspot.9232cf5f.js";import{C as Lt}from"./ContentLoader.8a90430e.js";import{a as Nt,A as Mt,P as St,N as Rt}from"./AddPost.816ec651.js";import"./Counter.88c5a585.js";import"./post_like_selected.c79724df.js";import"./comment_small.d9789f17.js";import"./index.d0938ad8.js";import"./ImageSelectionBox.b6a2e2d1.js";import"./SearchBar.6bcadeac.js";import"./next_arrow.b1598f96.js";import"./add_small.fcdad09e.js";import"./send.53c7ac4a.js";import{E as Vt}from"./EditPost.3bd28a97.js";import{F as Ot,a as jt,A as Ft,b as Bt,L as kt,c as xt,S as Wt}from"./ActionBar.f8ee0e10.js";const zt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA2CAYAAACbZ/oUAAADaklEQVRoQ+2Zi43UMBCG/6uA6wCoAKgAqACoAKgAqADoACoAOoAKgA6ggrsODioAfVIGzXrt2PHjiLIZabUrbWzP53naOdOJydmJ8WoH3rrFdwvvFt7YDuwu3WDQc0kvJD2Q9FnS+4a5hg3tZeG7kr5KAtoE6CfDNK+cuAdwDNbUuSfpR6VuQ4a1AoewvyX9knRz0vahpG9DNK+ctAU4Bkv8vpN0f9LnraQ3lboNGVYLnILFfbHopoDnYLHKpoBzsJsCLoENgS0OSWS4++X0wQu+DwnSzKSlMVwKy3IfJT0thKFWA/9pyu6Fw+ofKwFeAosmPA+IlaZS7RjDZn0pHVDzXA54KWxKB+ahC+Ob0sV3akNwe0oZVu8uc8C9YFNK35L0WNIzSXciDxHzr3o3Ling0bAhH+u9TMQ+bg44ia9ZYsC43oU7CNAu4obX0ROzNuCvAzLc/HkPa8eAiR9b8DphPSPuTov6KABnM5qOnTFgrMuCCK7Ewv9LiG/Wv+EUwMWxdpXEgP+4mW5PjULV5J0GsfmULJ/YqqFzwGs5zxLbWNo3NFXQMWDf/BMvxM1aJOziFkPHgImbD46QeGHitUgIvejMnarD3sqArh2auzPiPCspYGIGaJ8o1gZNX2D60ZSQYLPNyVxrORKaubPKZczFHDQkVrIwEHdos5I7PNRC0ypyzUNJ4bcdHlLKYC07L6P4z8INoQPketgk64U5YCZaCh0mvdymp/63szLHRSyZEp/EeI5SmvSeEuCl0CgatoS10DbO3mTErnxD157N2qXAS6B9hucah97crnhi4Lg9H9zTvlNnZdweoDAj+/5/NoEtAS6F7nFraRcFqbMyaxCv3tX5bRuVjOWlwCXQPYC9J2B5wGP3ZFgWiyPeysBTpo6kBjgH3RvYlMbdgQrBcXMrR1eOMHoOqAWeg8Ya9uZhxPHSXuf4poi4BdrfmnAnhi4H0gKcgvYLjHyZ5l3Y1qSEWYWIunUr8Bw0tyW4YWtHNVfS7OW7vyDwzx+5dQ9ggw7Pq9mup7U4T+PJ6DQfsZvPo5DqBewTC1a1VyqdmLLTxLpBBh3FcW/grGYDH4hBk8Fx63+yJWCgcG/Koo/pA8atAQMdnqA2Dww09ZcPPffBNfMWLTybJnbggVl0FVPvFl6FGQYqcXIW/gs1ftA35nDwRwAAAABJRU5ErkJggg==";function Yt(t){let e;const n=new k({props:{className:"optionsButton",icon:x,onClick:t[26]}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Kt(t){let e;const n=new k({props:{className:"followButton",onClick:t[27],icon:t[6]?Ot:jt}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};64&e[0]&&(s.icon=t[6]?Ot:jt),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function _t(t){let e,n,s,l,a,o,r;return{c(){e=$("div"),n=$("div"),s=y(),l=$("div"),a=A(t[10]),this.h()},l(o){e=u(o,"DIV",{class:!0});var r=m(e);n=u(r,"DIV",{class:!0}),m(n).forEach(f),s=D(r),l=u(r,"DIV",{class:!0});var c=m(l);a=v(c,t[10]),c.forEach(f),r.forEach(f),this.h()},h(){h(n,"class","userName svelte-hc3tm4"),w(n,"button",t[8]),h(l,"class","username svelte-hc3tm4"),w(l,"button",t[8]),h(e,"class","info svelte-hc3tm4")},m(c,i){p(c,e,i),g(e,n),n.innerHTML=t[9],g(e,s),g(e,l),g(l,a),o||(r=et(e,"click",function(){nt(t[8]?t[23]:null)&&(t[8]?t[23]:null).apply(this,arguments)}),o=!0)},p(e,s){t=e,512&s[0]&&(n.innerHTML=t[9]),256&s[0]&&w(n,"button",t[8]),1024&s[0]&&st(a,t[10]),256&s[0]&&w(l,"button",t[8])},d(t){t&&f(e),o=!1,r()}}}function Gt(t){let e,n,s,l,a,o,r,c=t[15]&&Zt(t);return{c(){e=$("div"),n=$("div"),s=A(t[11]),l=y(),a=$("div"),r=d(),c&&c.c(),this.h()},l(o){e=u(o,"DIV",{class:!0});var i=m(e);n=u(i,"DIV",{class:!0});var $=m(n);s=v($,t[11]),$.forEach(f),l=D(i),a=u(i,"DIV",{class:!0});var h=m(a);r=d(),c&&c.l(h),h.forEach(f),i.forEach(f),this.h()},h(){h(n,"class","projectTitle svelte-hc3tm4"),o=new W(r),h(a,"class","date svelte-hc3tm4"),h(e,"class","info svelte-hc3tm4")},m(i,$){p(i,e,$),g(e,n),g(n,s),g(e,l),g(e,a),o.m(t[20],a),g(a,r),c&&c.m(a,null)},p(t,e){2048&e[0]&&st(s,t[11]),1048576&e[0]&&o.p(t[20]),t[15]?c?c.p(t,e):((c=Zt(t)).c(),c.m(a,null)):c&&(c.d(1),c=null)},d(t){t&&f(e),c&&c.d()}}}function Zt(t){let e,n,s=z.POST.EDITED+"";return{c(){e=$("span"),n=A(s),this.h()},l(t){e=u(t,"SPAN",{class:!0,title:!0});var l=m(e);n=v(l,s),l.forEach(f),this.h()},h(){h(e,"class","edited svelte-hc3tm4"),h(e,"title",t[16])},m(t,s){p(t,e,s),g(e,n)},p(t,n){65536&n[0]&&h(e,"title",t[16])},d(t){t&&f(e)}}}function Qt(t){let e;const n=new lt({props:{user:t[1],onClick:t[8]?t[23]:null,useThumb:!0}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};2&e[0]&&(s.user=t[1]),256&e[0]&&(s.onClick=t[8]?t[23]:null),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Ut(t){let e,n;return{c(){e=$("img"),this.h()},l(t){e=u(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"class","projectThumb svelte-hc3tm4"),e.src!==(n=t[12])&&h(e,"src",n),h(e,"alt",t[11])},m(t,n){p(t,e,n)},p(t,s){4096&s[0]&&e.src!==(n=t[12])&&h(e,"src",n),2048&s[0]&&h(e,"alt",t[11])},i:o,o:o,d(t){t&&f(e)}}}function Jt(t){let e,n,s,l=t[15]&&qt(t);return{c(){e=$("div"),s=d(),l&&l.c(),this.h()},l(t){e=u(t,"DIV",{class:!0});var n=m(e);s=d(),l&&l.l(n),n.forEach(f),this.h()},h(){n=new W(s),h(e,"class","date svelte-hc3tm4")},m(a,o){p(a,e,o),n.m(t[20],e),g(e,s),l&&l.m(e,null)},p(t,s){1048576&s[0]&&n.p(t[20]),t[15]?l?l.p(t,s):((l=qt(t)).c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&f(e),l&&l.d()}}}function qt(t){let e,n,s=z.POST.EDITED+"";return{c(){e=$("span"),n=A(s),this.h()},l(t){e=u(t,"SPAN",{class:!0,title:!0});var l=m(e);n=v(l,s),l.forEach(f),this.h()},h(){h(e,"class","edited svelte-hc3tm4"),h(e,"title",t[16])},m(t,s){p(t,e,s),g(e,n)},p(t,n){65536&n[0]&&h(e,"title",t[16])},d(t){t&&f(e)}}}function Xt(t){let e;return{c(){e=$("div"),this.h()},l(t){e=u(t,"DIV",{class:!0}),m(e).forEach(f),this.h()},h(){h(e,"class","title svelte-hc3tm4")},m(n,s){p(n,e,s),e.innerHTML=t[21]},p(t,n){2097152&n[0]&&(e.innerHTML=t[21])},d(t){t&&f(e)}}}function te(t){let e;return{c(){e=$("div"),this.h()},l(t){e=u(t,"DIV",{class:!0}),m(e).forEach(f),this.h()},h(){h(e,"class","message svelte-hc3tm4")},m(n,s){p(n,e,s),e.innerHTML=t[22]},p(t,n){4194304&n[0]&&(e.innerHTML=t[22])},d(t){t&&f(e)}}}function ee(t){let e,n;return{c(){e=$("img"),this.h()},l(t){e=u(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"class","postImage svelte-hc3tm4"),e.src!==(n=t[2])&&h(e,"src",n),h(e,"alt","post")},m(t,n){p(t,e,n)},p(t,s){4&s[0]&&e.src!==(n=t[2])&&h(e,"src",n)},d(t){t&&f(e)}}}function ne(t){let e;const n=new Ft({props:{targetItemId:t[7],targetItem:t[5],$$slots:{default:[oe],buttonRight:[ae],buttonMiddle:[le],buttonLeft:[se]},$$scope:{ctx:t}}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};128&e[0]&&(s.targetItemId=t[7]),32&e[0]&&(s.targetItem=t[5]),160&e[0]|32&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function se(t){let e,n;const o=new Bt({props:{label:"like",icon:kt,selectedIcon:xt,targetItem:t[5],targetItemId:t[7],action:Y,targetItemProperty:"liked",countProperty:"likeCount"}});return{c(){e=$("div"),s(o.$$.fragment),this.h()},l(t){e=u(t,"DIV",{slot:!0});var n=m(e);l(o.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonLeft")},m(t,s){p(t,e,s),a(o,e,null),n=!0},p(t,e){const n={};32&e[0]&&(n.targetItem=t[5]),128&e[0]&&(n.targetItemId=t[7]),o.$set(n)},i(t){n||(r(o.$$.fragment,t),n=!0)},o(t){c(o.$$.fragment,t),n=!1},d(t){t&&f(e),i(o)}}}function le(t){let e,n;const d=new Bt({props:{label:"share",icon:Wt,action:t[25]}});return{c(){e=$("div"),s(d.$$.fragment),this.h()},l(t){e=u(t,"DIV",{slot:!0});var n=m(e);l(d.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonMiddle")},m(t,s){p(t,e,s),a(d,e,null),n=!0},p:o,i(t){n||(r(d.$$.fragment,t),n=!0)},o(t){c(d.$$.fragment,t),n=!1},d(t){t&&f(e),i(d)}}}function ae(t){let e,n;const d=new Bt({props:{label:"reply",icon:zt,action:t[24]}});return{c(){e=$("div"),s(d.$$.fragment),this.h()},l(t){e=u(t,"DIV",{slot:!0});var n=m(e);l(d.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonRight")},m(t,s){p(t,e,s),a(d,e,null),n=!0},p:o,i(t){n||(r(d.$$.fragment,t),n=!0)},o(t){c(d.$$.fragment,t),n=!1},d(t){t&&f(e),i(d)}}}function oe(t){let e,n;return{c(){e=y(),n=y()},l(t){e=D(t),n=D(t)},m(t,s){p(t,e,s),p(t,n,s)},p:o,i:o,o:o,d(t){t&&f(e),t&&f(n)}}}function re(t){let e,n,s,l,a,o,i,d,A,v,b,P,T,H=(t[13]||t[14])&&Yt(t),C=t[14]&&Kt(t);function L(t,e){return t[4]?Gt:_t}let N=L(t),M=N(t);const S=[Ut,Qt],R=[];function V(t,e){return t[4]?0:1}a=V(t),o=R[a]=S[a](t);let O=!t[4]&&Jt(t),j=t[17]&&Xt(t),F=t[18]&&te(t),B=t[19]&&ee(t),k=!t[3]&&ne(t);return{c(){e=$("div"),H&&H.c(),n=y(),C&&C.c(),s=y(),M.c(),l=y(),o.c(),i=y(),d=$("div"),O&&O.c(),A=y(),j&&j.c(),v=y(),F&&F.c(),b=y(),B&&B.c(),P=y(),k&&k.c(),this.h()},l(t){e=u(t,"DIV",{class:!0});var a=m(e);H&&H.l(a),n=D(a),C&&C.l(a),s=D(a),M.l(a),l=D(a),o.l(a),i=D(a),d=u(a,"DIV",{class:!0});var r=m(d);O&&O.l(r),A=D(r),j&&j.l(r),v=D(r),F&&F.l(r),r.forEach(f),b=D(a),B&&B.l(a),P=D(a),k&&k.l(a),a.forEach(f),this.h()},h(){h(d,"class","postContent svelte-hc3tm4"),h(e,"class","threadPost svelte-hc3tm4"),w(e,"isProjectPost",t[4])},m(t,o){p(t,e,o),H&&H.m(e,null),g(e,n),C&&C.m(e,null),g(e,s),M.m(e,null),g(e,l),R[a].m(e,null),g(e,i),g(e,d),O&&O.m(d,null),g(d,A),j&&j.m(d,null),g(d,v),F&&F.m(d,null),g(e,b),B&&B.m(e,null),g(e,P),k&&k.m(e,null),T=!0},p(t,$){t[13]||t[14]?H?(H.p(t,$),24576&$[0]&&r(H,1)):((H=Yt(t)).c(),r(H,1),H.m(e,n)):H&&(I(),c(H,1,1,()=>{H=null}),E()),t[14]?C?(C.p(t,$),16384&$[0]&&r(C,1)):((C=Kt(t)).c(),r(C,1),C.m(e,s)):C&&(I(),c(C,1,1,()=>{C=null}),E()),N===(N=L(t))&&M?M.p(t,$):(M.d(1),(M=N(t))&&(M.c(),M.m(e,l)));let u=a;(a=V(t))===u?R[a].p(t,$):(I(),c(R[u],1,1,()=>{R[u]=null}),E(),(o=R[a])||(o=R[a]=S[a](t)).c(),r(o,1),o.m(e,i)),t[4]?O&&(O.d(1),O=null):O?O.p(t,$):((O=Jt(t)).c(),O.m(d,A)),t[17]?j?j.p(t,$):((j=Xt(t)).c(),j.m(d,v)):j&&(j.d(1),j=null),t[18]?F?F.p(t,$):((F=te(t)).c(),F.m(d,null)):F&&(F.d(1),F=null),t[19]?B?B.p(t,$):((B=ee(t)).c(),B.m(e,P)):B&&(B.d(1),B=null),t[3]?k&&(I(),c(k,1,1,()=>{k=null}),E()):k?(k.p(t,$),8&$[0]&&r(k,1)):((k=ne(t)).c(),r(k,1),k.m(e,null)),16&$[0]&&w(e,"isProjectPost",t[4])},i(t){T||(r(H),r(C),r(o),r(k),T=!0)},o(t){c(H),c(C),c(o),c(k),T=!1},d(t){t&&f(e),H&&H.d(),C&&C.d(),M.d(),R[a].d(),O&&O.d(),j&&j.d(),F&&F.d(),B&&B.d(),k&&k.d()}}}function ce(t,e,n){let s,l,a,r,c,i,$=o,d=()=>($(),$=L(f,t=>n(5,a=t)),f),u=o,m=()=>(u(),u=L(h,t=>n(32,r=t)),h);b(t,P,t=>n(28,s=t)),b(t,T,t=>n(30,l=t)),b(t,H,t=>n(33,c=t)),b(t,C,t=>n(35,i=t)),t.$$.on_destroy.push(()=>$()),t.$$.on_destroy.push(()=>u());let{post:f}=e;d();let h=K([]);m();let p,g,A,v,y,D,w,I,E,k,x,W,z,Y,et,nt,st,lt,at,ot,rt,ct,it=Nt;return t.$set=(t=>{"post"in t&&d(n(0,f=t.post))}),t.$$.update=(()=>{268435456&t.$$.dirty[0]&&n(3,p=s&&s.archived||!1),1342177280&t.$$.dirty[0]&&n(29,g=l&&s&&N(s)),32&t.$$.dirty[0]&&n(4,A=a&&"projectPost"===a.type||!1),32&t.$$.dirty[0]&&n(6,v=a&&a.following||!1),32&t.$$.dirty[0]&&n(31,y=a&&a.userId||null),32&t.$$.dirty[0]&&n(7,D=a&&a.id||null),1&t.$$.dirty[1]&&m(n(1,h=M(y))),2&t.$$.dirty[1]&&n(8,w=r&&r.name||!1),2&t.$$.dirty[1]&&n(9,I=r&&r.name||"&nbsp;"),2&t.$$.dirty[1]&&n(10,E=r&&r.username&&"@"+r.username||""),268435456&t.$$.dirty[0]&&n(11,k=s&&s.title||""),268435472&t.$$.dirty[0]&&n(12,x=A&&s&&S(s,!0)||null),32&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(13,W=a&&a.userId&&a.userId===c||!1),536879104&t.$$.dirty[0]&&n(14,z=!W&&!g),32&t.$$.dirty[0]&&n(15,Y=a&&a.edited&&R(a.createdAt,a.editedAt)>V.SHOW_EDITED_MIN_TIME||!1),32800&t.$$.dirty[0]&&n(16,et=Y&&a.editedAt&&O(a.editedAt)||""),32&t.$$.dirty[0]&&n(17,nt=a&&a.title||""),32&t.$$.dirty[0]&&n(18,st=a&&a.message||""),32&t.$$.dirty[0]&&n(19,lt=a&&a.image||""),32&t.$$.dirty[0]&&n(34,at=a&&a.createdAt||""),8&t.$$.dirty[1]&&n(20,ot=at&&O(at,"ddd d MMM")+" at "+O(at,"h:mmtt")||"&nbsp;"),131072&t.$$.dirty[0]&&n(21,rt=j(nt)),262144&t.$$.dirty[0]&&n(22,ct=j(st)),524288&t.$$.dirty[0]&&(async()=>{await F(),n(2,it=Nt),await F(),setTimeout(()=>{n(2,it=B(lt))},0)})()}),[f,h,it,p,A,a,v,D,w,I,E,k,x,W,z,Y,et,nt,st,lt,ot,rt,ct,function(){w&&_(y)},function(){G()},function(){Z(D)},function(){const t=Q(D);if(t){const e=U(t);J(C,i=e),q(X.THREAD_POST_OPTIONS)}},function(){tt(D,v)}]}class ie extends t{constructor(t){super(),e(this,t,ce,re,n,{post:0},[-1,-1])}}function $e(t,e,n){const s=t.slice();return s[39]=e[n],s}function de(t){let e,n,o,d,A,v;const w=new ie({props:{post:vt}});let b=t[12],P=[];for(let e=0;e<b.length;e+=1)P[e]=ve($e(t,b,e));const T=t=>c(P[t],1,1,()=>{P[t]=null});let H=null;b.length||(H=fe(t));let C=!t[0]&&t[12]&&t[12].length>=Ee&&ye(t);return{c(){e=$("div"),s(w.$$.fragment),n=y(),o=$("div"),d=$("div");for(let t=0;t<P.length;t+=1)P[t].c();H&&H.c(),A=y(),C&&C.c(),this.h()},l(t){e=u(t,"DIV",{class:!0});var s=m(e);l(w.$$.fragment,s),n=D(s),o=u(s,"DIV",{class:!0});var a=m(o);d=u(a,"DIV",{class:!0});var r=m(d);for(let t=0;t<P.length;t+=1)P[t].l(r);H&&H.l(r),r.forEach(f),A=D(a),C&&C.l(a),a.forEach(f),s.forEach(f),this.h()},h(){h(d,"class","postsContainer svelte-1pz4u3g"),h(o,"class","contentContainer svelte-1pz4u3g"),h(e,"class","scrollContent")},m(t,s){p(t,e,s),a(w,e,null),g(e,n),g(e,o),g(o,d);for(let t=0;t<P.length;t+=1)P[t].m(d,null);H&&H.m(d,null),g(o,A),C&&C.m(o,null),v=!0},p(t,e){if(39425&e[0]){let n;for(b=t[12],n=0;n<b.length;n+=1){const s=$e(t,b,n);P[n]?(P[n].p(s,e),r(P[n],1)):(P[n]=ve(s),P[n].c(),r(P[n],1),P[n].m(d,null))}for(I(),n=b.length;n<P.length;n+=1)T(n);E(),!b.length&&H?H.p(t,e):b.length?H&&(H.d(1),H=null):((H=fe(t)).c(),H.m(d,null))}!t[0]&&t[12]&&t[12].length>=Ee?C?(C.p(t,e),4097&e[0]&&r(C,1)):((C=ye(t)).c(),r(C,1),C.m(o,null)):C&&(I(),c(C,1,1,()=>{C=null}),E())},i(t){if(!v){r(w.$$.fragment,t);for(let t=0;t<b.length;t+=1)r(P[t]);r(C),v=!0}},o(t){c(w.$$.fragment,t),P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)c(P[t]);c(C),v=!1},d(t){t&&f(e),i(w),Ht(P,t),H&&H.d(),C&&C.d()}}}function ue(t){let e;const n=new Lt({props:{label:z.THREAD.NOT_FOUND}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function me(t){let e;const n=new Lt({props:{label:z.LOADING.THREAD}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function fe(t){let e,n,s,l;const a=[pe,he],o=[];function i(t,e){return t[11]?0:t[0]?-1:1}return~(e=i(t))&&(n=o[e]=a[e](t)),{c(){n&&n.c(),s=d()},l(t){n&&n.l(t),s=d()},m(t,n){~e&&o[e].m(t,n),p(t,s,n),l=!0},p(t,l){let $=e;(e=i(t))===$?~e&&o[e].p(t,l):(n&&(I(),c(o[$],1,1,()=>{o[$]=null}),E()),~e?((n=o[e])||(n=o[e]=a[e](t)).c(),r(n,1),n.m(s.parentNode,s)):n=null)},i(t){l||(r(n),l=!0)},o(t){c(n),l=!1},d(t){~e&&o[e].d(t),t&&f(s)}}}function he(t){let e;const n=new Lt({props:{$$slots:{default:[Ae]},$$scope:{ctx:t}}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};512&e[0]|2048&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function pe(t){let e;const n=new Lt({props:{label:z.LOADING.THREAD_ITEMS}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ge(t){let e,n,s,l,a,r,c=z.THREAD.ADD_POST_CTA_PREFIX+"",i=z.THREAD.ADD_POST_CTA+"";return{c(){e=A(c),n=$("a"),s=A(i),this.h()},l(t){e=v(t,c),n=u(t,"A",{href:!0});var l=m(n);s=v(l,i),l.forEach(f),this.h()},h(){h(n,"href",l=location.href)},m(l,o){p(l,e,o),p(l,n,o),g(n,s),a||(r=et(n,"click",t[33]),a=!0)},p:o,d(t){t&&f(e),t&&f(n),a=!1,r()}}}function Ae(t){let e,n,s,l,a=z.THREAD.NO_POSTS+"",o=!t[9]&&ge(t);return{c(){e=A(a),n=$("br"),s=y(),o&&o.c(),l=y()},l(t){e=v(t,a),n=u(t,"BR",{}),s=D(t),o&&o.l(t),l=D(t)},m(t,a){p(t,e,a),p(t,n,a),p(t,s,a),o&&o.m(t,a),p(t,l,a)},p(t,e){t[9]?o&&(o.d(1),o=null):o?o.p(t,e):((o=ge(t)).c(),o.m(l.parentNode,l))},d(t){t&&f(e),t&&f(n),t&&f(s),o&&o.d(t),t&&f(l)}}}function ve(t){let e;const n=new St({props:{post:t[39],type:"threadPost"}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};4096&e[0]&&(s.post=t[39]),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ye(t){let e;const n=new Rt({props:{onClick:t[15],icon:zt,label:z.THREAD.REPLY}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function De(t){let e,n,s,l;const a=[me,ue,de],o=[];function i(t,e){return t[10]?0:t[13]?2:1}return e=i(t),n=o[e]=a[e](t),{c(){n.c(),s=d()},l(t){n.l(t),s=d()},m(t,n){o[e].m(t,n),p(t,s,n),l=!0},p(t,l){let $=e;(e=i(t))===$?o[e].p(t,l):(I(),c(o[$],1,1,()=>{o[$]=null}),E(),(n=o[e])||(n=o[e]=a[e](t)).c(),r(n,1),n.m(s.parentNode,s))},i(t){l||(r(n),l=!0)},o(t){c(n),l=!1},d(t){o[e].d(t),t&&f(s)}}}function we(t){let e,n;function o(e){t[35].call(null,e)}let $={newPostMessage:t[1],onClick:t[15],placeholderLabel:z.THREAD.REPLY_PLACEHOLDER};void 0!==t[7]&&($.element=t[7]);const d=new Mt({props:$});return ht.push(()=>pt(d,"element",o)),{c(){s(d.$$.fragment)},l(t){l(d.$$.fragment,t)},m(t,e){a(d,t,e),n=!0},p(t,n){const s={};2&n[0]&&(s.newPostMessage=t[1]),!e&&128&n[0]&&(e=!0,s.element=t[7],gt(()=>e=!1)),d.$set(s)},i(t){n||(r(d.$$.fragment,t),n=!0)},o(t){c(d.$$.fragment,t),n=!1},d(t){i(d,t)}}}function Ie(t){let e,n,o,d,A,v,b,P,T,H;function C(e){t[34].call(null,e)}document.title=e=t[8]+"Flock";let L={id:"thread",anchorToBottom:t[14],bottomOffset:t[5],disabledMinHeight:t[0],$$slots:{default:[De]},$$scope:{ctx:t}};void 0!==t[4]&&(L.scrollRegion=t[4]);const N=new Ct({props:L});ht.push(()=>pt(N,"scrollRegion",C));let M=!t[0]&&t[13]&&!t[10]&&we(t);function S(e){t[36].call(null,e)}function R(e){t[37].call(null,e)}function V(e){t[38].call(null,e)}let O={shown:t[0],inlineComponent:!0};void 0!==t[1]&&(O.message=t[1]),void 0!==t[2]&&(O.messageField=t[2]),void 0!==t[6]&&(O.element=t[6]);const j=new Vt({props:O});return ht.push(()=>pt(j,"message",S)),ht.push(()=>pt(j,"messageField",R)),ht.push(()=>pt(j,"element",V)),j.$on("hide",t[16]),j.$on("resize",t[17]),{c(){n=y(),o=$("div"),s(N.$$.fragment),A=y(),M&&M.c(),v=y(),s(j.$$.fragment),this.h()},l(t){at('[data-svelte="svelte-pjz2s7"]',document.head).forEach(f),n=D(t),o=u(t,"DIV",{class:!0});var e=m(o);l(N.$$.fragment,e),A=D(e),M&&M.l(e),v=D(e),l(j.$$.fragment,e),e.forEach(f),this.h()},h(){h(o,"class","content svelte-1pz4u3g"),w(o,"showAddPost",t[0])},m(t,e){p(t,n,e),p(t,o,e),a(N,o,null),g(o,A),M&&M.m(o,null),g(o,v),a(j,o,null),H=!0},p(t,n){(!H||256&n[0])&&e!==(e=t[8]+"Flock")&&(document.title=e);const s={};16384&n[0]&&(s.anchorToBottom=t[14]),32&n[0]&&(s.bottomOffset=t[5]),1&n[0]&&(s.disabledMinHeight=t[0]),15873&n[0]|2048&n[1]&&(s.$$scope={dirty:n,ctx:t}),!d&&16&n[0]&&(d=!0,s.scrollRegion=t[4],gt(()=>d=!1)),N.$set(s),t[0]||!t[13]||t[10]?M&&(I(),c(M,1,1,()=>{M=null}),E()):M?(M.p(t,n),9217&n[0]&&r(M,1)):((M=we(t)).c(),r(M,1),M.m(o,v));const l={};1&n[0]&&(l.shown=t[0]),!b&&2&n[0]&&(b=!0,l.message=t[1],gt(()=>b=!1)),!P&&4&n[0]&&(P=!0,l.messageField=t[2],gt(()=>P=!1)),!T&&64&n[0]&&(T=!0,l.element=t[6],gt(()=>T=!1)),j.$set(l),1&n[0]&&w(o,"showAddPost",t[0])},i(t){H||(r(N.$$.fragment,t),r(M),r(j.$$.fragment,t),H=!0)},o(t){c(N.$$.fragment,t),c(M),c(j.$$.fragment,t),H=!1},d(t){t&&f(n),t&&f(o),i(N),M&&M.d(),i(j)}}}const Ee=3;function be(t,e,n){let s,l,a,r,c,i,$,d,u,m,f,h=o,p=()=>(h(),h=L(y,t=>n(12,u=t)),y);b(t,P,t=>n(21,s=t)),b(t,At,t=>n(22,l=t)),b(t,vt,t=>n(23,a=t)),b(t,yt,t=>n(24,r=t)),b(t,T,t=>n(25,c=t)),b(t,H,t=>n(26,i=t)),b(t,Dt,t=>n(27,$=t)),b(t,wt,t=>n(28,d=t)),b(t,It,t=>n(14,m=t)),b(t,ot,t=>n(29,f=t)),t.$$.on_destroy.push(()=>h());let g=!1,A="",v=null;J(ot,f="threadPost"),rt(),ct();let y=K([]);function D(t){Et(t),G()}async function w(){n(0,g=!0),v&&(await F(),v.focus())}p();let I,E,C,N=null,M=0,S=null,R=null;async function O(){await F(),n(5,M=g?S&&S.offsetHeight||0:R&&R.offsetHeight||0),0!==M&&g&&j()}async function j(){N&&(await F(),"undefined"!=typeof window&&(window.setTimeout(()=>{N&&N.scrollTo(0,N.scrollHeight)},250),window.setTimeout(()=>{N&&N.scrollTo(0,N.scrollHeight)},500)),N&&N.scrollTo(0,N.scrollHeight))}function B(){window.location.hash.includes("reply")&&D()}it(()=>{n(18,I=!0),E=bt({postId:r}),C=bt({threadId:r},V.REPLY_VIEWED_DELAY),Pt.on("newThreadPost",w)}),$t(()=>{n(18,I=!1),Tt(E),Tt(C),Pt.off("newThreadPost",w)});let k,x,W,z,Y;return t.$$.update=(()=>{2097152&t.$$.dirty[0]&&n(8,k=s&&s.title&&s.title+" - "||""),2097152&t.$$.dirty[0]&&n(9,x=s&&s.archived||!1),534773760&t.$$.dirty[0]&&n(10,W=l&&(!a||a.id!==r)||!dt(c,i,$)||!s&&d),4198400&t.$$.dirty[0]&&n(11,z=l&&(!u||!u.length)),8388608&t.$$.dirty[0]&&n(13,Y=a&&a.id),22544&t.$$.dirty[0]&&m&&N&&!z&&u&&(async()=>{await F(),j()})(),16777216&t.$$.dirty[0]&&p(n(3,y=ut({threadId:r,type:"threadPost"}))),4096&t.$$.dirty[0]&&mt(u),8388608&t.$$.dirty[0]&&ft(a),1025&t.$$.dirty[0]&&O(),263168&t.$$.dirty[0]&&I&&!W&&B()}),[g,A,v,y,N,M,S,R,k,x,W,z,u,Y,m,D,function(){n(0,g=!1)},O,I,E,C,s,l,a,r,c,i,$,d,f,w,j,B,t=>(D(),Et(t)),function(t){n(4,N=t)},function(t){n(7,R=t)},function(t){n(1,A=t)},function(t){n(2,v=t)},function(t){n(6,S=t)}]}export default class extends t{constructor(t){super(),e(this,t,be,Ie,n,{},[-1,-1])}}
