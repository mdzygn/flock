import{_ as t,a,b as e,c as n,i as s,s as r,d as c,S as o,y as i,Z as l,F as u,J as f,O as v,z as p,A as $,$ as d,j as m,G as I,K as h,D as E,g,L as D,t as L,h as R,M as T,Q as y,a4 as _,bt as O,cB as P,a2 as b,a9 as j,w as z,aT as F,B as A,aR as x,l as S,aS as C,aU as k,ak as U,R as V,ac as w,ab as N,a7 as H,co as M,cC as B,cD as K,V as X,aq as G,az as W,bK as q,a1 as J}from"./client.e555a21f.js";import{S as Q}from"./Proxy.cb1a6ee2.js";import"./Hotspot.6151f6e7.js";import"./SearchBar.9641e103.js";import"./LimitedTextfield.81942ade.js";import{U as Y,I as Z,a as tt,E as at}from"./ImageSelectionBox.6ca10663.js";import{S as et}from"./save.71e29683.js";import{C as nt}from"./cancel.feaa218b.js";function st(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var s,r=a(t);if(n){var c=a(this).constructor;s=Reflect.construct(r,arguments,c)}else s=r.apply(this,arguments);return e(this,s)}}function rt(t){var a,e=J.EDIT_PROFILE.CONFIRM+"";return{c:function(){a=l(e)},l:function(t){a=d(t,e)},m:function(t,e){g(t,a,e)},p:V,d:function(t){t&&m(a)}}}function ct(t){var a,e=J.EDIT_PROFILE.UPLOAD_PROFILE_IMAGE+"";return{c:function(){a=l(e)},l:function(t){a=d(t,e)},m:function(t,e){g(t,a,e)},p:V,d:function(t){t&&m(a)}}}function ot(t){var a,e=J.EDIT_PROFILE.CANCEL+"";return{c:function(){a=l(e)},l:function(t){a=d(t,e)},m:function(t,e){g(t,a,e)},p:V,d:function(t){t&&m(a)}}}function it(t){var a,e=J.EDIT_PROFILE.CONFIRM+"";return{c:function(){a=l(e)},l:function(t){a=d(t,e)},m:function(t,e){g(t,a,e)},p:V,d:function(t){t&&m(a)}}}function lt(t){var a,e,n,s,r,c,o,v,y,_,O,P,V,w,N,H,M,B,K,X,G,W,q,Q,tt,at,st,lt,ut,ft,vt,pt,$t,dt,mt,It,ht,Et,gt,Dt,Lt,Rt,Tt,yt,_t,Ot,Pt=J.EDIT_PROFILE.NAME+"",bt=J.EDIT_PROFILE.BIO+"",jt=J.EDIT_PROFILE.BIO_TIP+"",zt=J.EDIT_PROFILE.COVER_IMAGE+"",Ft=J.EDIT_PROFILE.SKILLS+"",At=J.EDIT_PROFILE.SKILLS_TIP+"",xt=J.EDIT_PROFILE.LOCATION+"",St=J.EDIT_PROFILE.LOCATION_TIP+"",Ct=new b({props:{className:"saveButton",onClick:t[12],icon:et,disabled:!t[10],$$slots:{default:[rt]},$$scope:{ctx:t}}}),kt=new j({props:{user:t[0],onClick:t[13]}}),Ut=new b({props:{className:"uploadAvatarButton",onClick:t[15],icon:Y,$$slots:{default:[ct]},$$scope:{ctx:t}}});function Vt(a){t[27].call(null,a)}function wt(a){t[28].call(null,a)}var Nt={uploadType:"userCover",itemId:t[11]};void 0!==t[3]&&(Nt.image=t[3]),void 0!==t[6]&&(Nt.fileIsUploading=t[6]);var Ht=new Z({props:Nt});z.push(function(){return F(Ht,"image",Vt)}),z.push(function(){return F(Ht,"fileIsUploading",wt)});var Mt=new b({props:{className:"cancelButton",onClick:t[14],icon:nt,$$slots:{default:[ot]},$$scope:{ctx:t}}}),Bt=new b({props:{className:"saveButton",onClick:t[12],icon:et,disabled:!t[10],$$slots:{default:[it]},$$scope:{ctx:t}}});return{c:function(){a=i("div"),e=i("div"),n=i("div"),s=i("div"),f(Ct.$$.fragment),r=u(),f(kt.$$.fragment),c=u(),f(Ut.$$.fragment),o=u(),v=i("div"),y=i("div"),_=l(Pt),O=u(),P=i("input"),V=u(),w=i("div"),N=i("div"),H=l(bt),M=i("span"),B=u(),K=i("textarea"),X=u(),G=i("div"),W=i("div"),q=l(zt),Q=u(),f(Ht.$$.fragment),st=u(),lt=i("div"),ut=i("div"),ft=l(Ft),vt=i("span"),pt=u(),$t=i("textarea"),dt=u(),mt=i("div"),It=i("div"),ht=l(xt),Et=i("span"),gt=u(),Dt=i("input"),Lt=u(),Rt=i("div"),f(Mt.$$.fragment),Tt=u(),f(Bt.$$.fragment),this.h()},l:function(t){a=p(t,"DIV",{class:!0});var i=$(a);e=p(i,"DIV",{class:!0});var l=$(e);n=p(l,"DIV",{class:!0});var u=$(n);s=p(u,"DIV",{class:!0});var f=$(s);h(Ct.$$.fragment,f),f.forEach(m),r=I(u),h(kt.$$.fragment,u),c=I(u),h(Ut.$$.fragment,u),o=I(u),v=p(u,"DIV",{class:!0});var E=$(v);y=p(E,"DIV",{class:!0});var g=$(y);_=d(g,Pt),g.forEach(m),O=I(E),P=p(E,"INPUT",{type:!0,autocapitalize:!0,class:!0}),E.forEach(m),V=I(u),w=p(u,"DIV",{class:!0});var D=$(w);N=p(D,"DIV",{class:!0});var L=$(N);H=d(L,bt),M=p(L,"SPAN",{class:!0}),$(M).forEach(m),L.forEach(m),B=I(D),K=p(D,"TEXTAREA",{class:!0}),$(K).forEach(m),D.forEach(m),X=I(u),G=p(u,"DIV",{class:!0});var R=$(G);W=p(R,"DIV",{class:!0});var T=$(W);q=d(T,zt),T.forEach(m),Q=I(R),h(Ht.$$.fragment,R),R.forEach(m),st=I(u),lt=p(u,"DIV",{class:!0});var b=$(lt);ut=p(b,"DIV",{class:!0});var j=$(ut);ft=d(j,Ft),vt=p(j,"SPAN",{class:!0}),$(vt).forEach(m),j.forEach(m),pt=I(b),$t=p(b,"TEXTAREA",{}),$($t).forEach(m),b.forEach(m),dt=I(u),mt=p(u,"DIV",{class:!0});var z=$(mt);It=p(z,"DIV",{class:!0});var F=$(It);ht=d(F,xt),Et=p(F,"SPAN",{class:!0}),$(Et).forEach(m),F.forEach(m),gt=I(z),Dt=p(z,"INPUT",{type:!0,autocapitalize:!0,class:!0}),z.forEach(m),u.forEach(m),Lt=I(l),Rt=p(l,"DIV",{class:!0});var A=$(Rt);h(Mt.$$.fragment,A),Tt=I(A),h(Bt.$$.fragment,A),A.forEach(m),l.forEach(m),i.forEach(m),this.h()},h:function(){A(s,"class","actions topActions svelte-zjret0"),A(y,"class","label svelte-zjret0"),A(P,"type","text"),A(P,"autocapitalize","words"),A(P,"class","svelte-zjret0"),A(v,"class","field svelte-zjret0"),A(M,"class","tip svelte-zjret0"),A(N,"class","label svelte-zjret0"),A(K,"class","svelte-zjret0"),A(w,"class","field bioField svelte-zjret0"),A(W,"class","label headerImageLabel svelte-zjret0"),A(G,"class","field headerImageField svelte-zjret0"),A(vt,"class","tip svelte-zjret0"),A(ut,"class","label labelDetails svelte-zjret0"),A(lt,"class","field skillsField svelte-zjret0"),A(Et,"class","tip svelte-zjret0"),A(It,"class","label labelDetails svelte-zjret0"),A(Dt,"type","text"),A(Dt,"autocapitalize","sentences"),A(Dt,"class","svelte-zjret0"),A(mt,"class","field svelte-zjret0"),A(n,"class","mainProfileDetails svelte-zjret0"),A(Rt,"class","actions svelte-zjret0"),A(e,"class","panelContent svelte-zjret0"),A(a,"class","content svelte-zjret0")},m:function(i,l){g(i,a,l),E(a,e),E(e,n),E(n,s),D(Ct,s,null),E(n,r),D(kt,n,null),E(n,c),D(Ut,n,null),E(n,o),E(n,v),E(v,y),E(y,_),E(v,O),E(v,P),x(P,t[1]),E(n,V),E(n,w),E(w,N),E(N,H),E(N,M),M.innerHTML=jt,E(w,B),E(w,K),x(K,t[2]),t[26](K),E(n,X),E(n,G),E(G,W),E(W,q),E(G,Q),D(Ht,G,null),E(n,st),E(n,lt),E(lt,ut),E(ut,ft),E(ut,vt),vt.innerHTML=At,E(lt,pt),E(lt,$t),x($t,t[4]),t[30]($t),E(n,dt),E(n,mt),E(mt,It),E(It,ht),E(It,Et),Et.innerHTML=St,E(mt,gt),E(mt,Dt),x(Dt,t[5]),t[33](Dt),E(e,Lt),E(e,Rt),D(Mt,Rt,null),E(Rt,Tt),D(Bt,Rt,null),yt=!0,_t||(Ot=[S(P,"input",t[22]),S(P,"keypress",t[23]),S(P,"keyup",t[24]),S(K,"input",t[25]),S(K,"keypress",C),S($t,"input",t[29]),S($t,"keyup",t[31]),S(Dt,"input",t[32]),S(Dt,"keypress",C),S(Dt,"keyup",t[34])],_t=!0)},p:function(t,a){var e={};1024&a[0]&&(e.disabled=!t[10]),16&a[1]&&(e.$$scope={dirty:a,ctx:t}),Ct.$set(e);var n={};1&a[0]&&(n.user=t[0]),kt.$set(n);var s={};16&a[1]&&(s.$$scope={dirty:a,ctx:t}),Ut.$set(s),2&a[0]&&P.value!==t[1]&&x(P,t[1]),4&a[0]&&x(K,t[2]);var r={};2048&a[0]&&(r.itemId=t[11]),!tt&&8&a[0]&&(tt=!0,r.image=t[3],k(function(){return tt=!1})),!at&&64&a[0]&&(at=!0,r.fileIsUploading=t[6],k(function(){return at=!1})),Ht.$set(r),16&a[0]&&x($t,t[4]),32&a[0]&&Dt.value!==t[5]&&x(Dt,t[5]);var c={};16&a[1]&&(c.$$scope={dirty:a,ctx:t}),Mt.$set(c);var o={};1024&a[0]&&(o.disabled=!t[10]),16&a[1]&&(o.$$scope={dirty:a,ctx:t}),Bt.$set(o)},i:function(t){yt||(L(Ct.$$.fragment,t),L(kt.$$.fragment,t),L(Ut.$$.fragment,t),L(Ht.$$.fragment,t),L(Mt.$$.fragment,t),L(Bt.$$.fragment,t),yt=!0)},o:function(t){R(Ct.$$.fragment,t),R(kt.$$.fragment,t),R(Ut.$$.fragment,t),R(Ht.$$.fragment,t),R(Mt.$$.fragment,t),R(Bt.$$.fragment,t),yt=!1},d:function(e){e&&m(a),T(Ct),T(kt),T(Ut),t[26](null),T(Ht),t[30](null),t[33](null),T(Mt),T(Bt),_t=!1,U(Ot)}}}function ut(t){var a,e,n,s,r=new Q({props:{$$slots:{default:[lt]},$$scope:{ctx:t}}});return{c:function(){a=i("style"),e=l("body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),n=u(),f(r.$$.fragment),this.h()},l:function(t){var s=v('[data-svelte="svelte-1ja50yt"]',document.head);a=p(s,"STYLE",{});var c=$(a);e=d(c,"body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),c.forEach(m),s.forEach(m),n=I(t),h(r.$$.fragment,t),this.h()},h:function(){document.title="Flock"},m:function(t,c){E(document.head,a),E(a,e),g(t,n,c),D(r,t,c),s=!0},p:function(t,a){var e={};4095&a[0]|16&a[1]&&(e.$$scope={dirty:a,ctx:t}),r.$set(e)},i:function(t){s||(L(r.$$.fragment,t),s=!0)},o:function(t){R(r.$$.fragment,t),s=!1},d:function(t){m(a),t&&m(n),T(r,t)}}}function ft(t,a,e){var n,s,r,c=V,o=function(){return c(),c=_(i,function(t){return e(19,s=t)}),i};y(t,w,function(t){return e(17,n=t)}),y(t,N,function(t){return e(11,r=t)}),t.$$.on_destroy.push(function(){return c()});var i=H(null);o();var l,u,f,v,p,$=n&&n.name||"",d=n&&n.bio&&M(n.bio)||"",m=n&&n.coverImage||"",I=n&&n.skills||"",h=n&&n.location||"";function E(){K(i)}function g(){tt.uploadImage({uploadType:"userProfile",itemId:r,imageSettings:{maxWidth:G.PROFILE_UPLOAD_MAX_WIDTH,maxHeight:G.PROFILE_UPLOAD_MAX_HEIGHT},thumbSettings:{maxWidth:G.PROFILE_UPLOAD_THUMB_MAX_WIDTH,maxHeight:G.PROFILE_UPLOAD_THUMB_MAX_HEIGHT},onUploading:function(){W(i,s.avatarImageRawSrc=at,s),i.set(s),e(16,l=!0)},onImageLoaded:function(t){W(i,s.avatarImageRawSrc=URL.createObjectURL(t),s),i.set(s)},onComplete:function(t){W(i,s.avatarImageRawSrc=null,s),W(i,s.avatarImage=t,s),e(16,l=!1)},onError:function(t){W(i,s.avatarImageRawSrc=null,s),W(i,s.avatarImage=null,s),i.set(s),e(16,l=!1),console.error("Could not request profile image upload")}})}var D,L;return t.$$.update=function(){65602&t.$$.dirty[0]&&e(10,L=!(!O($)||l||u))},o(e(0,i=P(w))),D=void 0<G.PROFILE_DESCRIPTION_CHARS_LOW,[i,$,d,m,I,h,u,f,v,p,L,r,function(){if(L){var t={name:O($),bio:O(d),avatarImage:s.avatarImage||null,coverImage:m,skills:I,location:h,style:s.style};B(t)}},function(){s.avatarImage?g():E()},function(){X("profile/"+r)},g,l,n,D,s,void 0,E,function(){$=this.value,e(1,$)},function(t){return C(t,{target:f})},function(t){return q(t,{capitalizeFirstKeypress:!0})},function(){d=this.value,e(2,d)},function(t){z[t?"unshift":"push"](function(){e(7,f=t)})},function(t){e(3,m=t)},function(t){e(6,u=t)},function(){I=this.value,e(4,I)},function(t){z[t?"unshift":"push"](function(){e(8,v=t)})},function(t){return q(t,{keepLowerCase:!0})},function(){h=this.value,e(5,h)},function(t){z[t?"unshift":"push"](function(){e(9,p=t)})},function(t){return q(t,{capitalizeFirstKeypress:!0})}]}export default(function(a){t(i,o);var e=st(i);function i(t){var a;return n(this,i),a=e.call(this),s(c(a),t,ft,ut,r,{},[-1,-1]),a}return i}());
