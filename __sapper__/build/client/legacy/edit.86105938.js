import{_ as a,a as t,b as n,c as e,i as s,s as r,d as c,S as o,w as l,y as i,P as f,j as u,e as v,q as $,z as I,A as p,Q as m,l as d,n as h,f as E,C as g,o as x,m as D,t as L,g as P,h as R,u as T,Y as _,bn as O,cj as b,W as y,a2 as A,aQ as F,aR as S,B as C,aO as N,N as V,aP as U,aS as H,ae as w,D as M,a5 as k,a4 as j,a0 as B,c6 as W,ck as X,cl as G,I as q,al as K,av as Q,V as Y}from"./client.5cc92f90.js";import"./Hotspot.602a43bb.js";import"./SearchBar.c2607b51.js";import"./LimitedTextfield.c9ec5cc9.js";import{U as z,I as J,a as Z,E as aa}from"./ImageSelectionBox.4cb0a206.js";import{S as ta}from"./save.71e29683.js";import{C as na}from"./cancel.feaa218b.js";function ea(a){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}();return function(){var s,r=t(a);if(e){var c=t(this).constructor;s=Reflect.construct(r,arguments,c)}else s=r.apply(this,arguments);return n(this,s)}}function sa(a){var t,n=Y.EDIT_PROFILE.CONFIRM+"";return{c:function(){t=f(n)},l:function(a){t=m(a,n)},m:function(a,n){x(a,t,n)},p:M,d:function(a){a&&d(t)}}}function ra(a){var t,n=Y.EDIT_PROFILE.UPLOAD_PROFILE_IMAGE+"";return{c:function(){t=f(n)},l:function(a){t=m(a,n)},m:function(a,n){x(a,t,n)},p:M,d:function(a){a&&d(t)}}}function ca(a){var t,n=Y.EDIT_PROFILE.CANCEL+"";return{c:function(){t=f(n)},l:function(a){t=m(a,n)},m:function(a,n){x(a,t,n)},p:M,d:function(a){a&&d(t)}}}function oa(a){var t,n=Y.EDIT_PROFILE.CONFIRM+"";return{c:function(){t=f(n)},l:function(a){t=m(a,n)},m:function(a,n){x(a,t,n)},p:M,d:function(a){a&&d(t)}}}function la(a){var t,n,e,s,r,c,o,l,$,T,_,O,b,M,k,j,B,W,X,G,q,K,Q,Z,aa,ea,la,ia,fa,ua,va,$a,Ia,pa,ma,da,ha,Ea,ga,xa,Da,La,Pa,Ra,Ta,_a,Oa=Y.EDIT_PROFILE.NAME+"",ba=Y.EDIT_PROFILE.BIO+"",ya=Y.EDIT_PROFILE.BIO_TIP+"",Aa=Y.EDIT_PROFILE.COVER_IMAGE+"",Fa=Y.EDIT_PROFILE.SKILLS+"",Sa=Y.EDIT_PROFILE.SKILLS_TIP+"",Ca=Y.EDIT_PROFILE.LOCATION+"",Na=Y.EDIT_PROFILE.LOCATION_TIP+"",Va=new y({props:{className:"saveButton",onClick:a[12],icon:ta,disabled:!a[10],$$slots:{default:[sa]},$$scope:{ctx:a}}}),Ua=new A({props:{user:a[0],onClick:a[13]}}),Ha=new y({props:{className:"uploadAvatarButton",onClick:a[15],icon:z,$$slots:{default:[ra]},$$scope:{ctx:a}}});function wa(t){a[26].call(null,t)}function Ma(t){a[27].call(null,t)}var ka={uploadType:"userCover",itemId:a[11]};void 0!==a[3]&&(ka.image=a[3]),void 0!==a[6]&&(ka.fileIsUploading=a[6]);var ja=new J({props:ka});F.push(function(){return S(ja,"image",wa)}),F.push(function(){return S(ja,"fileIsUploading",Ma)});var Ba=new y({props:{className:"cancelButton",onClick:a[14],icon:na,$$slots:{default:[ca]},$$scope:{ctx:a}}}),Wa=new y({props:{className:"saveButton",onClick:a[12],icon:ta,disabled:!a[10],$$slots:{default:[oa]},$$scope:{ctx:a}}});return{c:function(){t=i("div"),n=i("div"),e=i("div"),s=i("div"),v(Va.$$.fragment),r=u(),v(Ua.$$.fragment),c=u(),v(Ha.$$.fragment),o=u(),l=i("div"),$=i("div"),T=f(Oa),_=u(),O=i("input"),b=u(),M=i("div"),k=i("div"),j=f(ba),B=i("span"),W=u(),X=i("textarea"),G=u(),q=i("div"),K=i("div"),Q=f(Aa),Z=u(),v(ja.$$.fragment),la=u(),ia=i("div"),fa=i("div"),ua=f(Fa),va=i("span"),$a=u(),Ia=i("textarea"),pa=u(),ma=i("div"),da=i("div"),ha=f(Ca),Ea=i("span"),ga=u(),xa=i("input"),Da=u(),La=i("div"),v(Ba.$$.fragment),Pa=u(),v(Wa.$$.fragment),this.h()},l:function(a){t=I(a,"DIV",{class:!0});var i=p(t);n=I(i,"DIV",{class:!0});var f=p(n);e=I(f,"DIV",{class:!0});var u=p(e);s=I(u,"DIV",{class:!0});var v=p(s);E(Va.$$.fragment,v),v.forEach(d),r=h(u),E(Ua.$$.fragment,u),c=h(u),E(Ha.$$.fragment,u),o=h(u),l=I(u,"DIV",{class:!0});var g=p(l);$=I(g,"DIV",{class:!0});var x=p($);T=m(x,Oa),x.forEach(d),_=h(g),O=I(g,"INPUT",{type:!0,class:!0}),g.forEach(d),b=h(u),M=I(u,"DIV",{class:!0});var D=p(M);k=I(D,"DIV",{class:!0});var L=p(k);j=m(L,ba),B=I(L,"SPAN",{class:!0}),p(B).forEach(d),L.forEach(d),W=h(D),X=I(D,"TEXTAREA",{class:!0}),p(X).forEach(d),D.forEach(d),G=h(u),q=I(u,"DIV",{class:!0});var P=p(q);K=I(P,"DIV",{class:!0});var R=p(K);Q=m(R,Aa),R.forEach(d),Z=h(P),E(ja.$$.fragment,P),P.forEach(d),la=h(u),ia=I(u,"DIV",{class:!0});var y=p(ia);fa=I(y,"DIV",{class:!0});var A=p(fa);ua=m(A,Fa),va=I(A,"SPAN",{class:!0}),p(va).forEach(d),A.forEach(d),$a=h(y),Ia=I(y,"TEXTAREA",{}),p(Ia).forEach(d),y.forEach(d),pa=h(u),ma=I(u,"DIV",{class:!0});var F=p(ma);da=I(F,"DIV",{class:!0});var S=p(da);ha=m(S,Ca),Ea=I(S,"SPAN",{class:!0}),p(Ea).forEach(d),S.forEach(d),ga=h(F),xa=I(F,"INPUT",{type:!0,class:!0}),F.forEach(d),u.forEach(d),Da=h(f),La=I(f,"DIV",{class:!0});var C=p(La);E(Ba.$$.fragment,C),Pa=h(C),E(Wa.$$.fragment,C),C.forEach(d),f.forEach(d),i.forEach(d),this.h()},h:function(){C(s,"class","actions topActions svelte-12rfx78"),C($,"class","label svelte-12rfx78"),C(O,"type","text"),C(O,"class","svelte-12rfx78"),C(l,"class","field svelte-12rfx78"),C(B,"class","tip svelte-12rfx78"),C(k,"class","label svelte-12rfx78"),C(X,"class","svelte-12rfx78"),C(M,"class","field bioField svelte-12rfx78"),C(K,"class","label headerImageLabel svelte-12rfx78"),C(q,"class","field headerImageField svelte-12rfx78"),C(va,"class","tip svelte-12rfx78"),C(fa,"class","label labelDetails svelte-12rfx78"),C(ia,"class","field skillsField svelte-12rfx78"),C(Ea,"class","tip svelte-12rfx78"),C(da,"class","label labelDetails svelte-12rfx78"),C(xa,"type","text"),C(xa,"class","svelte-12rfx78"),C(ma,"class","field svelte-12rfx78"),C(e,"class","mainProfileDetails svelte-12rfx78"),C(La,"class","actions svelte-12rfx78"),C(n,"class","panelContent svelte-12rfx78"),C(t,"class","content svelte-12rfx78")},m:function(i,f){x(i,t,f),g(t,n),g(n,e),g(e,s),D(Va,s,null),g(e,r),D(Ua,e,null),g(e,c),D(Ha,e,null),g(e,o),g(e,l),g(l,$),g($,T),g(l,_),g(l,O),N(O,a[1]),g(e,b),g(e,M),g(M,k),g(k,j),g(k,B),B.innerHTML=ya,g(M,W),g(M,X),N(X,a[2]),a[25](X),g(e,G),g(e,q),g(q,K),g(K,Q),g(q,Z),D(ja,q,null),g(e,la),g(e,ia),g(ia,fa),g(fa,ua),g(fa,va),va.innerHTML=Sa,g(ia,$a),g(ia,Ia),N(Ia,a[4]),a[29](Ia),g(e,pa),g(e,ma),g(ma,da),g(da,ha),g(da,Ea),Ea.innerHTML=Na,g(ma,ga),g(ma,xa),N(xa,a[5]),a[31](xa),g(n,Da),g(n,La),D(Ba,La,null),g(La,Pa),D(Wa,La,null),Ra=!0,Ta||(_a=[V(O,"input",a[22]),V(O,"keypress",a[23]),V(X,"input",a[24]),V(X,"keypress",U),V(Ia,"input",a[28]),V(xa,"input",a[30]),V(xa,"keypress",U)],Ta=!0)},p:function(a,t){var n={};1024&t[0]&&(n.disabled=!a[10]),2&t[1]&&(n.$$scope={dirty:t,ctx:a}),Va.$set(n);var e={};1&t[0]&&(e.user=a[0]),Ua.$set(e);var s={};2&t[1]&&(s.$$scope={dirty:t,ctx:a}),Ha.$set(s),2&t[0]&&O.value!==a[1]&&N(O,a[1]),4&t[0]&&N(X,a[2]);var r={};2048&t[0]&&(r.itemId=a[11]),!aa&&8&t[0]&&(aa=!0,r.image=a[3],H(function(){return aa=!1})),!ea&&64&t[0]&&(ea=!0,r.fileIsUploading=a[6],H(function(){return ea=!1})),ja.$set(r),16&t[0]&&N(Ia,a[4]),32&t[0]&&xa.value!==a[5]&&N(xa,a[5]);var c={};2&t[1]&&(c.$$scope={dirty:t,ctx:a}),Ba.$set(c);var o={};1024&t[0]&&(o.disabled=!a[10]),2&t[1]&&(o.$$scope={dirty:t,ctx:a}),Wa.$set(o)},i:function(a){Ra||(L(Va.$$.fragment,a),L(Ua.$$.fragment,a),L(Ha.$$.fragment,a),L(ja.$$.fragment,a),L(Ba.$$.fragment,a),L(Wa.$$.fragment,a),Ra=!0)},o:function(a){P(Va.$$.fragment,a),P(Ua.$$.fragment,a),P(Ha.$$.fragment,a),P(ja.$$.fragment,a),P(Ba.$$.fragment,a),P(Wa.$$.fragment,a),Ra=!1},d:function(n){n&&d(t),R(Va),R(Ua),R(Ha),a[25](null),R(ja),a[29](null),a[31](null),R(Ba),R(Wa),Ta=!1,w(_a)}}}function ia(a){var t,n,e,s,r=new l({props:{$$slots:{default:[la]},$$scope:{ctx:a}}});return{c:function(){t=i("style"),n=f("body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),e=u(),v(r.$$.fragment),this.h()},l:function(a){var s=$('[data-svelte="svelte-1ja50yt"]',document.head);t=I(s,"STYLE",{});var c=p(t);n=m(c,"body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),c.forEach(d),s.forEach(d),e=h(a),E(r.$$.fragment,a),this.h()},h:function(){document.title="Flock"},m:function(a,c){g(document.head,t),g(t,n),x(a,e,c),D(r,a,c),s=!0},p:function(a,t){var n={};4095&t[0]|2&t[1]&&(n.$$scope={dirty:t,ctx:a}),r.$set(n)},i:function(a){s||(L(r.$$.fragment,a),s=!0)},o:function(a){P(r.$$.fragment,a),s=!1},d:function(a){d(t),a&&d(e),R(r,a)}}}function fa(a,t,n){var e,s,r,c=M,o=function(){return c(),c=_(l,function(a){return n(19,s=a)}),l};T(a,k,function(a){return n(17,e=a)}),T(a,j,function(a){return n(11,r=a)}),a.$$.on_destroy.push(function(){return c()});var l=B(null);o();var i,f,u,v,$,I=e&&e.name||"",p=e&&e.bio&&W(e.bio)||"",m=e&&e.coverImage||"",d=e&&e.skills||"",h=e&&e.location||"";function E(){G(l)}function g(){Z.uploadImage({uploadType:"userProfile",itemId:r,imageSettings:{maxWidth:K.PROFILE_UPLOAD_MAX_WIDTH,maxHeight:K.PROFILE_UPLOAD_MAX_HEIGHT},thumbSettings:{maxWidth:K.PROFILE_UPLOAD_THUMB_MAX_WIDTH,maxHeight:K.PROFILE_UPLOAD_THUMB_MAX_HEIGHT},onUploading:function(){Q(l,s.avatarImageRawSrc=aa,s),l.set(s),n(16,i=!0)},onImageLoaded:function(a){Q(l,s.avatarImageRawSrc=URL.createObjectURL(a),s),l.set(s)},onComplete:function(a){Q(l,s.avatarImageRawSrc=null,s),Q(l,s.avatarImage=a,s),n(16,i=!1)},onError:function(a){Q(l,s.avatarImageRawSrc=null,s),Q(l,s.avatarImage=null,s),l.set(s),n(16,i=!1),console.error("Could not request profile image upload")}})}var x,D;return a.$$.update=function(){65602&a.$$.dirty[0]&&n(10,D=!(!O(I)||i||f))},o(n(0,l=b(k))),x=void 0<K.PROFILE_DESCRIPTION_CHARS_LOW,[l,I,p,m,d,h,f,u,v,$,D,r,function(){if(D){var a={name:O(I),bio:O(p),avatarImage:s.avatarImage||null,coverImage:m,skills:d,location:h,style:s.style};X(a)}},function(){s.avatarImage?g():E()},function(){q("profile/"+r)},g,i,e,x,s,void 0,E,function(){I=this.value,n(1,I)},function(a){return U(a,{target:u})},function(){p=this.value,n(2,p)},function(a){F[a?"unshift":"push"](function(){n(7,u=a)})},function(a){n(3,m=a)},function(a){n(6,f=a)},function(){d=this.value,n(4,d)},function(a){F[a?"unshift":"push"](function(){n(8,v=a)})},function(){h=this.value,n(5,h)},function(a){F[a?"unshift":"push"](function(){n(9,$=a)})}]}export default(function(t){a(l,o);var n=ea(l);function l(a){var t;return e(this,l),t=n.call(this),s(c(t),a,fa,ia,r,{},[-1,-1]),t}return l}());
