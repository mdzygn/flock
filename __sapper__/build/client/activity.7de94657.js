import{X as t,S as e,i as s,s as n,q as a,z as l,R as r,r as i,u as c,A as o,T as d,d as u,v as $,b as h,x as f,U as m,l as p,L as v,c as g,I as y,t as I,Y as b,Z as T,_ as N,$ as E,V as D,K as j,P as w,a0 as A,Q as O,a1 as P,C as V,D as q,E as C,F as x,J as L,a2 as F,a3 as S,a4 as _,a5 as R,a6 as B,a7 as H,a8 as k,a9 as M,e as G,aa as J,ab as U,H as X}from"./client.2c27e6e9.js";import{S as z}from"./Proxy.f1034817.js";import"./Hotspot.7b84e31e.js";import"./ContentPanel.bba73afa.js";import{C as K}from"./ContentLoader.4dd1251b.js";function Q(t){let e,s;return{c(){e=a("img"),this.h()},l(t){e=i(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){$(e,"class","thumb svelte-1by30qb"),e.src!==(s=t[1])&&$(e,"src",s),$(e,"alt",t[8])},m(t,s){h(t,e,s)},p(t,n){2&n&&e.src!==(s=t[1])&&$(e,"src",s),256&n&&$(e,"alt",t[8])},i:j,o:j,d(t){t&&u(e)}}}function Y(t){let e;const s=new P({props:{user:t[7],useThumb:!0}});return{c(){V(s.$$.fragment)},l(t){q(s.$$.fragment,t)},m(t,n){C(s,t,n),e=!0},p(t,e){const n={};128&e&&(n.user=t[7]),s.$set(n)},i(t){e||(I(s.$$.fragment,t),e=!0)},o(t){g(s.$$.fragment,t),e=!1},d(t){x(s,t)}}}function Z(t){let e,s,n,p=t[5]&&W(t);return{c(){e=a("div"),p&&p.c(),s=l(),n=r(t[6]),this.h()},l(a){e=i(a,"DIV",{class:!0});var l=c(e);p&&p.l(l),s=o(l),n=d(l,t[6]),l.forEach(u),this.h()},h(){$(e,"class","detail svelte-1by30qb")},m(t,a){h(t,e,a),p&&p.m(e,null),f(e,s),f(e,n)},p(t,a){t[5]?p?p.p(t,a):((p=W(t)).c(),p.m(e,s)):p&&(p.d(1),p=null),64&a&&m(n,t[6])},d(t){t&&u(e),p&&p.d()}}}function W(t){let e,s,n,l,o=D.NOTIFICATION.PROJECT_PREFIX+"";return{c(){e=r(o),s=a("span"),n=r(t[5]),l=r(" -"),this.h()},l(a){e=d(a,o),s=i(a,"SPAN",{class:!0});var r=c(s);n=d(r,t[5]),r.forEach(u),l=d(a," -"),this.h()},h(){$(s,"class","projectTitle svelte-1by30qb")},m(t,a){h(t,e,a),h(t,s,a),f(s,n),h(t,l,a)},p(t,e){32&e&&m(n,t[5])},d(t){t&&u(e),t&&u(s),t&&u(l)}}}function tt(t){let e;return{c(){e=a("div"),this.h()},l(t){e=i(t,"DIV",{class:!0}),c(e).forEach(u),this.h()},h(){$(e,"class","unseenIcon svelte-1by30qb")},m(t,s){h(t,e,s)},d(t){t&&u(e)}}}function et(t){let e,s,n,b,T,N,E,D,j,w,A,O,P,V,q,C;const x=[Y,Q],L=[];function F(t,e){return t[2]?0:1}s=F(t),n=L[s]=x[s](t);let S=t[6]&&Z(t),_=!t[4]&&tt();return{c(){e=a("div"),n.c(),b=l(),T=a("div"),N=a("div"),E=a("div"),D=r(t[8]),j=l(),w=a("div"),A=l(),S&&S.c(),O=l(),P=a("div"),_&&_.c(),this.h()},l(s){e=i(s,"DIV",{class:!0});var a=c(e);n.l(a),b=o(a),T=i(a,"DIV",{class:!0});var l=c(T);N=i(l,"DIV",{class:!0});var r=c(N);E=i(r,"DIV",{class:!0});var $=c(E);D=d($,t[8]),$.forEach(u),j=o(r),w=i(r,"DIV",{class:!0}),c(w).forEach(u),A=o(r),S&&S.l(r),r.forEach(u),l.forEach(u),O=o(a),P=i(a,"DIV",{class:!0});var h=c(P);_&&_.l(h),h.forEach(u),a.forEach(u),this.h()},h(){$(E,"class","title svelte-1by30qb"),$(w,"class","message svelte-1by30qb"),$(N,"class","detailInnerContent svelte-1by30qb"),$(T,"class","detailContent svelte-1by30qb"),$(P,"class","info svelte-1by30qb"),$(e,"class","notifcationListItem svelte-1by30qb")},m(n,a){h(n,e,a),L[s].m(e,null),f(e,b),f(e,T),f(T,N),f(N,E),f(E,D),f(N,j),f(N,w),w.innerHTML=t[3],f(N,A),S&&S.m(N,null),f(e,O),f(e,P),_&&_.m(P,null),V=!0,q||(C=p(e,"click",t[9]),q=!0)},p(t,[a]){let l=s;(s=F(t))===l?L[s].p(t,a):(v(),g(L[l],1,1,()=>{L[l]=null}),y(),(n=L[s])||(n=L[s]=x[s](t)).c(),I(n,1),n.m(e,b)),(!V||256&a)&&m(D,t[8]),(!V||8&a)&&(w.innerHTML=t[3]),t[6]?S?S.p(t,a):((S=Z(t)).c(),S.m(N,null)):S&&(S.d(1),S=null),t[4]?_&&(_.d(1),_=null):_||((_=tt()).c(),_.m(P,null))},i(t){V||(I(n),V=!0)},o(t){g(n),V=!1},d(t){t&&u(e),L[s].d(),S&&S.d(),_&&_.d(),q=!1,C()}}}function st(e,s,n){let a,l,r=j,i=()=>(r(),r=b(C,t=>n(10,a=t)),C),c=j;e.$$.on_destroy.push(()=>r()),e.$$.on_destroy.push(()=>c());let o,d,u,$,h,f,m,p,v,g,y,I,D,P,V,q,{notification:C}=s;return i(),e.$set=(t=>{"notification"in t&&i(n(0,C=t.notification))}),e.$$.update=(()=>{1024&e.$$.dirty&&n(2,d=a&&a.isUserAction||!0),1024&e.$$.dirty&&n(11,u=a&&a.title||""),1024&e.$$.dirty&&n(3,$=a&&function(e){let s=null;if(e.indirect||e.notPriority)s="<i>(indirect)</i>";else switch(e.type){case t.POST_ADDED:e.threadId?s=e.threadTitle?'replied in "'+e.threadTitle+'"':e.channelTitle?"replied to a post in #"+e.channelTitle:"replied to a post":e.channelId?s=e.channelTitle?"added a post to #"+e.channelTitle:"added a post":e.projectId&&(s="posted an update")}return s}(a)||""),1024&e.$$.dirty&&(h=a&&a.postId||null),1024&e.$$.dirty&&(f=a&&a.threadId||null),1024&e.$$.dirty&&(m=a&&a.channelId||null),1024&e.$$.dirty&&(p=a&&a.projectId||null),1024&e.$$.dirty&&n(4,v=a&&a.viewed||!1),1024&e.$$.dirty&&n(5,g=a&&a.projectTitle),1024&e.$$.dirty&&n(16,y=a&&a.createdAt||null),65536&e.$$.dirty&&n(6,I=y&&T(y)||""),1024&e.$$.dirty&&n(17,D=a&&a.actors&&a.actors.length&&a.actors[0]||null),196608&e.$$.dirty&&(()=>(c(),c=b(P,t=>n(19,l=t)),P))(n(7,P=D&&y&&N(D,y)||E(null))),655360&e.$$.dirty&&n(18,V=l&&l.name||D&&D.name||""),264192&e.$$.dirty&&n(8,q=u||V||"")}),n(1,o=""),[C,"",d,$,v,g,I,P,q,function(){f?w(f,{anchorToBottom:!0}):h?w(h):m?A(m):p&&O(p)}]}class nt extends e{constructor(t){super(),s(this,t,st,et,n,{notification:0})}}function at(t,e,s){const n=t.slice();return n[9]=e[s],n}function lt(t){let e,s,n=t[3],a=[];for(let e=0;e<n.length;e+=1)a[e]=ot(at(t,n,e));const l=t=>g(a[t],1,1,()=>{a[t]=null});let r=null;return n.length||(r=it(t)),{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=G(),r&&r.c()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=G(),r&&r.l(t)},m(t,n){for(let e=0;e<a.length;e+=1)a[e].m(t,n);h(t,e,n),r&&r.m(t,n),s=!0},p(t,s){if(8&s){let i;for(n=t[3],i=0;i<n.length;i+=1){const l=at(t,n,i);a[i]?(a[i].p(l,s),I(a[i],1)):(a[i]=ot(l),a[i].c(),I(a[i],1),a[i].m(e.parentNode,e))}for(v(),i=n.length;i<a.length;i+=1)l(i);y(),!n.length&&r?r.p(t,s):n.length?r&&(r.d(1),r=null):((r=it(t)).c(),r.m(e.parentNode,e))}},i(t){if(!s){for(let t=0;t<n.length;t+=1)I(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)g(a[t]);s=!1},d(t){U(a,t),t&&u(e),r&&r.d(t)}}}function rt(t){let e;const s=new K({props:{label:D.LOADING.NOTIFICATIONS}});return{c(){V(s.$$.fragment)},l(t){q(s.$$.fragment,t)},m(t,n){C(s,t,n),e=!0},p:j,i(t){e||(I(s.$$.fragment,t),e=!0)},o(t){g(s.$$.fragment,t),e=!1},d(t){x(s,t)}}}function it(t){let e,s,n,m,v,g,y,I,b,T,N,E,w,A,O,P=D.NOTIFICATIONS.NO_NOTIFICATIONS+"";return{c(){e=a("div"),s=r(P),n=a("br"),m=a("br"),v=l(),g=a("a"),y=r("Discover"),I=r(" inspiring projects to get involved with"),b=a("br"),T=r("or create a "),N=a("a"),E=r("New Project"),w=l(),this.h()},l(t){e=i(t,"DIV",{class:!0});var a=c(e);s=d(a,P),n=i(a,"BR",{}),m=i(a,"BR",{}),v=o(a),g=i(a,"A",{href:!0});var l=c(g);y=d(l,"Discover"),l.forEach(u),I=d(a," inspiring projects to get involved with"),b=i(a,"BR",{}),T=d(a,"or create a "),N=i(a,"A",{href:!0});var r=c(N);E=d(r,"New Project"),r.forEach(u),w=o(a),a.forEach(u),this.h()},h(){$(g,"href","discover"),$(N,"href","/projects/new"),$(e,"class","noNotifications svelte-u931uv")},m(a,l){h(a,e,l),f(e,s),f(e,n),f(e,m),f(e,v),f(e,g),f(g,y),f(e,I),f(e,b),f(e,T),f(e,N),f(N,E),f(e,w),A||(O=p(N,"click",t[8]),A=!0)},p:j,d(t){t&&u(e),A=!1,O()}}}function ct(t){let e;const s=new nt({props:{notification:t[9]}});return{c(){V(s.$$.fragment)},l(t){q(s.$$.fragment,t)},m(t,n){C(s,t,n),e=!0},p(t,e){const n={};8&e&&(n.notification=t[9]),s.$set(n)},i(t){e||(I(s.$$.fragment,t),e=!0)},o(t){g(s.$$.fragment,t),e=!1},d(t){x(s,t)}}}function ot(t){let e,s,n=!J(t[9]).indirect&&!J(t[9]).notPriority,a=n&&ct(t);return{c(){a&&a.c(),e=G()},l(t){a&&a.l(t),e=G()},m(t,n){a&&a.m(t,n),h(t,e,n),s=!0},p(t,s){8&s&&(n=!J(t[9]).indirect&&!J(t[9]).notPriority),n?a?(a.p(t,s),8&s&&I(a,1)):((a=ct(t)).c(),I(a,1),a.m(e.parentNode,e)):a&&(v(),g(a,1,1,()=>{a=null}),y())},i(t){s||(I(a),s=!0)},o(t){g(a),s=!1},d(t){a&&a.d(t),t&&u(e)}}}function dt(t){let e,s,n,l,r,o;const d=[rt,lt],f=[];function m(t,e){return 116&e&&(s=!(!t[2]&&H(t[5],t[4],t[6]))),s?0:1}return n=m(t,-1),l=f[n]=d[n](t),{c(){e=a("div"),l.c(),this.h()},l(t){e=i(t,"DIV",{class:!0});var s=c(e);l.l(s),s.forEach(u),this.h()},h(){$(e,"class",r="notificationList "+t[0]+" svelte-u931uv")},m(t,s){h(t,e,s),f[n].m(e,null),o=!0},p(t,[s]){let a=n;(n=m(t,s))===a?f[n].p(t,s):(v(),g(f[a],1,1,()=>{f[a]=null}),y(),(l=f[n])||(l=f[n]=d[n](t)).c(),I(l,1),l.m(e,null)),(!o||1&s&&r!==(r="notificationList "+t[0]+" svelte-u931uv"))&&$(e,"class",r)},i(t){o||(I(l),o=!0)},o(t){g(l),o=!1},d(t){t&&u(e),f[n].d()}}}function ut(t,e,s){let n,a,l,r,i,c=j,o=()=>(c(),c=b(d,t=>s(3,a=t)),d);L(t,F,t=>s(7,n=t)),L(t,S,t=>s(4,l=t)),L(t,_,t=>s(5,r=t)),L(t,R,t=>s(6,i=t)),t.$$.on_destroy.push(()=>c());let d=E([]);o();let{className:u=""}=e;let $;return t.$set=(t=>{"className"in t&&s(0,u=t.className)}),t.$$.update=(()=>{136&t.$$.dirty&&s(2,$=n&&!a),16&t.$$.dirty&&o(s(1,d=B({userId:l})))}),[u,d,$,a,l,r,i,n,t=>(k(),M(t))]}class $t extends e{constructor(t){super(),s(this,t,ut,dt,n,{className:0})}}function ht(t){let e;const s=new $t({});return{c(){V(s.$$.fragment)},l(t){q(s.$$.fragment,t)},m(t,n){C(s,t,n),e=!0},i(t){e||(I(s.$$.fragment,t),e=!0)},o(t){g(s.$$.fragment,t),e=!1},d(t){x(s,t)}}}function ft(t){let e,s,n;const r=new z({props:{id:"activity",$$slots:{default:[ht]},$$scope:{ctx:t}}});return{c(){e=l(),s=a("div"),V(r.$$.fragment),this.h()},l(t){X('[data-svelte="svelte-1y4v7mn"]',document.head).forEach(u),e=o(t),s=i(t,"DIV",{class:!0});var n=c(s);q(r.$$.fragment,n),n.forEach(u),this.h()},h(){document.title="Flock",$(s,"class","content")},m(t,a){h(t,e,a),h(t,s,a),C(r,s,null),n=!0},p(t,[e]){const s={};1&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s)},i(t){n||(I(r.$$.fragment,t),n=!0)},o(t){g(r.$$.fragment,t),n=!1},d(t){t&&u(e),t&&u(s),x(r)}}}export default class extends e{constructor(t){super(),s(this,t,null,ft,n,{})}}
