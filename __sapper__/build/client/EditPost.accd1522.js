import{S as t,i as e,s as n,q as s,z as a,R as l,r as c,u as i,A as o,T as r,d,v as m,B as u,b as f,x as $,aK as p,l as h,t as E,C as g,D as A,E as I,K as v,c as D,F as T,L as N,I as R,U as y,ac as b,e as j,J as M,cj as V,ck as w,cl as G,cm as C,aA as U,cn as Y,az as F,bz as W,co as B,aw as H,o as Q,m as x,bk as O,V as P,cp as L,cq as Z,W as k,aJ as z,n as S,aM as _,aN as J,cr as X,cs as K,aL as q,c3 as tt,ct as et,cu as nt,b7 as st}from"./client.2c27e6e9.js";import"./Proxy.f1034817.js";import{N as at}from"./next_arrow.b1598f96.js";import{S as lt}from"./send.53c7ac4a.js";import{I as ct,U as it}from"./ImageSelectionBox.330f5f13.js";import{A as ot,S as rt}from"./save.71e29683.js";const dt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNERjRBRTA5OEVBQTExRUFBQkU4QzE5ODQ3NjQwQjQxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNERjRBRTBBOEVBQTExRUFBQkU4QzE5ODQ3NjQwQjQxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0RGNEFFMDc4RUFBMTFFQUFCRThDMTk4NDc2NDBCNDEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0RGNEFFMDg4RUFBMTFFQUFCRThDMTk4NDc2NDBCNDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz64QYgYAAABhUlEQVR42uzY7VHDMAwG4NjJAFkgIRvQEWADNmhXYIJ2hI4AIzABGQE2yGWCDJAP5F7K8aMUKZbKUV796eWSi/q0tmzZTdOUXGP45EoDMMAAAwwwwAADDDDAAAMMsN+JjPugc+7wWVGM47ij64q679p7v2+aptP8UpRiNefIQ462bXfHe9yO37EfJNic8JUu8y+J3tM0vdPCncpB8Uy4jQTmIxMG8O0wDDXdz41QIdZlWT6ZzDH6pbYnEqrhzqA+cUVRbCxgDz8M1cU4BuqYo7KA1Yx5KMZxUXN06jAqEI+cF0twElQoUlRA9uowqnpvVNrvtXBSVKi8Zgu0Fm4JSrqciHcesbhLoMQLtMJQqmJRJjuP2CFF77iJ/acuAltQrpPY4ae+pdKYc5ZzyqRt0cBpb6bV+rEYnDZKvdFcgrNAmXTQEpwVyuxogIOzRJmeeZzDWaPMD3O+wb1Yo1QWaGbPlfd9v8qyrAvYyLVOF/bXAgemgAEGGGCAAQYYYID9O9iHAAMA43prfgVstXUAAAAASUVORK5CYII=";function mt(t){let e,n,g,A,I,v,T,j,M,V,w,G,C,U,Y,F,W,B,H,Q,x,O=P.NEW_THREAD.MESSAGE+"",L=t[1]&&ut(t),Z=t[14]&&ft(t),k=t[17]&&pt(t);function z(t,e){return t[9]?Nt:Rt}let S=z(t),_=S(t);const J=[jt,bt],X=[];function K(t,e){return t[9]?1:0}return W=K(t),B=X[W]=J[W](t),{c(){e=s("div"),n=s("div"),L&&L.c(),g=a(),A=s("div"),I=l(t[18]),v=a(),Z&&Z.c(),T=a(),j=s("div"),M=s("div"),V=l(O),w=a(),G=s("textarea"),C=a(),k&&k.c(),U=a(),_.c(),Y=a(),F=s("div"),B.c(),this.h()},l(s){e=c(s,"DIV",{class:!0});var a=i(e);n=c(a,"DIV",{class:!0});var l=i(n);L&&L.l(l),g=o(l),A=c(l,"DIV",{class:!0});var m=i(A);I=r(m,t[18]),m.forEach(d),v=o(l),Z&&Z.l(l),T=o(l),j=c(l,"DIV",{class:!0});var u=i(j);M=c(u,"DIV",{class:!0});var f=i(M);V=r(f,O),f.forEach(d),w=o(u),G=c(u,"TEXTAREA",{class:!0}),i(G).forEach(d),u.forEach(d),C=o(l),k&&k.l(l),U=o(l),_.l(l),Y=o(l),F=c(l,"DIV",{class:!0});var $=i(F);B.l($),$.forEach(d),l.forEach(d),a.forEach(d),this.h()},h(){m(A,"class","pageTitle svelte-36jf1o"),m(M,"class","label svelte-36jf1o"),m(G,"class","svelte-36jf1o"),m(j,"class","field messageField svelte-36jf1o"),m(F,"class","actions svelte-36jf1o"),m(n,"class","panelContent svelte-36jf1o"),u(n,"showImage",t[19]),m(e,"class","editPostContent svelte-36jf1o"),u(e,"inlineComponent",t[1])},m(s,a){f(s,e,a),$(e,n),L&&L.m(n,null),$(n,g),$(n,A),$(A,I),$(n,v),Z&&Z.m(n,null),$(n,T),$(n,j),$(j,M),$(M,V),$(j,w),$(j,G),p(G,t[3]),t[50](G),$(n,C),k&&k.m(n,null),$(n,U),_.m(n,null),$(n,Y),$(n,F),X[W].m(F,null),t[56](e),H=!0,Q||(x=[h(G,"input",t[49]),h(G,"keypress",t[51])],Q=!0)},p(t,s){t[1]?L?(L.p(t,s),2&s[0]&&E(L,1)):((L=ut(t)).c(),E(L,1),L.m(n,g)):L&&(N(),D(L,1,1,()=>{L=null}),R()),(!H||262144&s[0])&&y(I,t[18]),t[14]?Z?Z.p(t,s):((Z=ft(t)).c(),Z.m(n,T)):Z&&(Z.d(1),Z=null),8&s[0]&&p(G,t[3]),t[17]?k?(k.p(t,s),131072&s[0]&&E(k,1)):((k=pt(t)).c(),E(k,1),k.m(n,U)):k&&(N(),D(k,1,1,()=>{k=null}),R()),S===(S=z(t))&&_?_.p(t,s):(_.d(1),(_=S(t))&&(_.c(),_.m(n,Y)));let a=W;(W=K(t))===a?X[W].p(t,s):(N(),D(X[a],1,1,()=>{X[a]=null}),R(),(B=X[W])||(B=X[W]=J[W](t)).c(),E(B,1),B.m(F,null)),524288&s[0]&&u(n,"showImage",t[19]),2&s[0]&&u(e,"inlineComponent",t[1])},i(t){H||(E(L),E(k),E(B),H=!0)},o(t){D(L),D(k),D(B),H=!1},d(n){n&&d(e),L&&L.d(),Z&&Z.d(),t[50](null),k&&k.d(),_.d(),X[W].d(),t[56](null),Q=!1,b(x)}}}function ut(t){let e;const n=new k({props:{className:"collapsePanel",icon:dt,onClick:t[26]}});return{c(){g(n.$$.fragment)},l(t){A(n.$$.fragment,t)},m(t,s){I(n,t,s),e=!0},p:v,i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){T(n,t)}}}function ft(t){let e,n,u,E,g,A,I,v=P.NEW_THREAD.TITLE+"",D=!t[9]&&$t();return{c(){e=s("div"),n=s("div"),u=l(v),D&&D.c(),E=a(),g=s("textarea"),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=i(e);n=c(s,"DIV",{class:!0});var a=i(n);u=r(a,v),D&&D.l(a),a.forEach(d),E=o(s),g=c(s,"TEXTAREA",{class:!0}),i(g).forEach(d),s.forEach(d),this.h()},h(){m(n,"class","label svelte-36jf1o"),m(g,"class","titleField svelte-36jf1o"),m(e,"class","field svelte-36jf1o")},m(s,a){f(s,e,a),$(e,n),$(n,u),D&&D.m(n,null),$(e,E),$(e,g),p(g,t[2]),t[47](g),A||(I=[h(g,"input",t[46]),h(g,"keypress",t[48])],A=!0)},p(t,e){t[9]?D&&(D.d(1),D=null):D?D.p(t,e):((D=$t()).c(),D.m(n,null)),4&e[0]&&p(g,t[2])},d(n){n&&d(e),D&&D.d(),t[47](null),A=!1,b(I)}}}function $t(t){let e,n=P.NEW_THREAD.TITLE_TIP+"";return{c(){e=s("span"),this.h()},l(t){e=c(t,"SPAN",{class:!0}),i(e).forEach(d),this.h()},h(){m(e,"class","tip svelte-36jf1o")},m(t,s){f(t,e,s),e.innerHTML=n},p:v,d(t){t&&d(e)}}}function pt(t){let e,n,s,a;const l=[gt,Et,ht],c=[];function i(t,e){return t[1]?0:t[4]||t[7]?1:2}return e=i(t),n=c[e]=l[e](t),{c(){n.c(),s=j()},l(t){n.l(t),s=j()},m(t,n){c[e].m(t,n),f(t,s,n),a=!0},p(t,a){let o=e;(e=i(t))===o?c[e].p(t,a):(N(),D(c[o],1,1,()=>{c[o]=null}),R(),(n=c[e])||(n=c[e]=l[e](t)).c(),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){D(n),a=!1},d(t){c[e].d(t),t&&d(s)}}}function ht(t){let e,n;const a=new k({props:{className:"addImage",icon:ot,onClick:t[24],$$slots:{default:[At]},$$scope:{ctx:t}}});return{c(){e=s("div"),g(a.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);A(a.$$.fragment,n),n.forEach(d),this.h()},h(){m(e,"class","imageField svelte-36jf1o")},m(t,s){f(t,e,s),I(a,e,null),n=!0},p(t,e){const n={};67108864&e[1]&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){n||(E(a.$$.fragment,t),n=!0)},o(t){D(a.$$.fragment,t),n=!1},d(t){t&&d(e),T(a)}}}function Et(t){let e,n,l,r,u,$;const p=new k({props:{className:"addImage removeImage",icon:z,onClick:t[25],$$slots:{default:[It]},$$scope:{ctx:t}}});function h(e){t[54].call(null,e)}function v(e){t[55].call(null,e)}let N={containMode:!0,imageType:t[15],useLibrary:t[16],uploadType:"post",itemId:t[11]};void 0!==t[4]&&(N.image=t[4]),void 0!==t[8]&&(N.fileIsUploading=t[8]);const R=new ct({props:N});return S.push(()=>_(R,"image",h)),S.push(()=>_(R,"fileIsUploading",v)),{c(){e=s("div"),g(p.$$.fragment),n=a(),l=s("div"),g(R.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=i(e);A(p.$$.fragment,s),s.forEach(d),n=o(t),l=c(t,"DIV",{class:!0});var a=i(l);A(R.$$.fragment,a),a.forEach(d),this.h()},h(){m(e,"class","imageField svelte-36jf1o"),m(l,"class","field headerImageField svelte-36jf1o")},m(t,s){f(t,e,s),I(p,e,null),f(t,n,s),f(t,l,s),I(R,l,null),$=!0},p(t,e){const n={};67108864&e[1]&&(n.$$scope={dirty:e,ctx:t}),p.$set(n);const s={};32768&e[0]&&(s.imageType=t[15]),65536&e[0]&&(s.useLibrary=t[16]),2048&e[0]&&(s.itemId=t[11]),!r&&16&e[0]&&(r=!0,s.image=t[4],J(()=>r=!1)),!u&&256&e[0]&&(u=!0,s.fileIsUploading=t[8],J(()=>u=!1)),R.$set(s)},i(t){$||(E(p.$$.fragment,t),E(R.$$.fragment,t),$=!0)},o(t){D(p.$$.fragment,t),D(R.$$.fragment,t),$=!1},d(t){t&&d(e),T(p),t&&d(n),t&&d(l),T(R)}}}function gt(t){let e,n,s,a;const l=[Dt,vt],c=[];function i(t,e){return t[4]||t[7]?0:1}return e=i(t),n=c[e]=l[e](t),{c(){n.c(),s=j()},l(t){n.l(t),s=j()},m(t,n){c[e].m(t,n),f(t,s,n),a=!0},p(t,a){let o=e;(e=i(t))===o?c[e].p(t,a):(N(),D(c[o],1,1,()=>{c[o]=null}),R(),(n=c[e])||(n=c[e]=l[e](t)).c(),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){D(n),a=!1},d(t){c[e].d(t),t&&d(s)}}}function At(t){let e,n=P.NEW_THREAD.ADD_IMAGE+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){f(t,e,n)},p:v,d(t){t&&d(e)}}}function It(t){let e,n=P.NEW_THREAD.REMOVE_IMAGE+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){f(t,e,n)},p:v,d(t){t&&d(e)}}}function vt(t){let e,n;const a=new k({props:{className:"addImage",icon:it,onClick:t[24]}});return{c(){e=s("div"),g(a.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);A(a.$$.fragment,n),n.forEach(d),this.h()},h(){m(e,"class","imageField svelte-36jf1o")},m(t,s){f(t,e,s),I(a,e,null),n=!0},p:v,i(t){n||(E(a.$$.fragment,t),n=!0)},o(t){D(a.$$.fragment,t),n=!1},d(t){t&&d(e),T(a)}}}function Dt(t){let e,n,l,r,u,$;function p(e){t[52].call(null,e)}function h(e){t[53].call(null,e)}let v={containMode:!0,imageType:t[15],useLibrary:t[16],uploadType:"post",itemId:t[11]};void 0!==t[4]&&(v.image=t[4]),void 0!==t[8]&&(v.fileIsUploading=t[8]);const N=new ct({props:v});S.push(()=>_(N,"image",p)),S.push(()=>_(N,"fileIsUploading",h));const R=new k({props:{className:"addImage removeImage",icon:z,onClick:t[25],$$slots:{default:[Tt]},$$scope:{ctx:t}}});return{c(){e=s("div"),g(N.$$.fragment),r=a(),u=s("div"),g(R.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);A(N.$$.fragment,n),n.forEach(d),r=o(t),u=c(t,"DIV",{class:!0});var s=i(u);A(R.$$.fragment,s),s.forEach(d),this.h()},h(){m(e,"class","field headerImageField svelte-36jf1o"),m(u,"class","imageField removeImageField svelte-36jf1o")},m(t,n){f(t,e,n),I(N,e,null),f(t,r,n),f(t,u,n),I(R,u,null),$=!0},p(t,e){const s={};32768&e[0]&&(s.imageType=t[15]),65536&e[0]&&(s.useLibrary=t[16]),2048&e[0]&&(s.itemId=t[11]),!n&&16&e[0]&&(n=!0,s.image=t[4],J(()=>n=!1)),!l&&256&e[0]&&(l=!0,s.fileIsUploading=t[8],J(()=>l=!1)),N.$set(s);const a={};67108864&e[1]&&(a.$$scope={dirty:e,ctx:t}),R.$set(a)},i(t){$||(E(N.$$.fragment,t),E(R.$$.fragment,t),$=!0)},o(t){D(N.$$.fragment,t),D(R.$$.fragment,t),$=!1},d(t){t&&d(e),T(N),t&&d(r),t&&d(u),T(R)}}}function Tt(t){let e,n=P.NEW_THREAD.REMOVE_IMAGE+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){f(t,e,n)},p:v,d(t){t&&d(e)}}}function Nt(t){let e,n,l,r=P.NEW_THREAD.EDITING_NOTE+"",u=t[10]&&yt(t);return{c(){e=s("div"),l=a(),u&&u.c(),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);l=o(n),u&&u.l(n),n.forEach(d),this.h()},h(){n=new st(l),m(e,"class","fieldNote svelte-36jf1o")},m(t,s){f(t,e,s),n.m(r,e),$(e,l),u&&u.m(e,null)},p(t,n){t[10]?u?u.p(t,n):((u=yt(t)).c(),u.m(e,null)):u&&(u.d(1),u=null)},d(t){t&&d(e),u&&u.d()}}}function Rt(t){let e,n=P.NEW_THREAD.EDIT_NOTE+"";return{c(){e=s("div"),this.h()},l(t){e=c(t,"DIV",{class:!0}),i(e).forEach(d),this.h()},h(){m(e,"class","fieldNote svelte-36jf1o")},m(t,s){f(t,e,s),e.innerHTML=n},p:v,d(t){t&&d(e)}}}function yt(t){let e,n,a,o,u,p,E,g=P.NEW_THREAD.REST_ACTION+"",A=P.NEW_THREAD.REST_NOTE+"";return{c(){e=s("div"),n=s("a"),a=l(g),u=l(A),this.h()},l(t){e=c(t,"DIV",{});var s=i(e);n=c(s,"A",{href:!0});var l=i(n);a=r(l,g),l.forEach(d),u=r(s,A),s.forEach(d),this.h()},h(){m(n,"href",o=location.href)},m(s,l){f(s,e,l),$(e,n),$(n,a),$(e,u),p||(E=h(n,"click",t[22]),p=!0)},p:v,d(t){t&&d(e),p=!1,E()}}}function bt(t){let e;const n=new k({props:{className:"nextButton",disabled:!t[12],onClick:t[21],icon:rt,$$slots:{default:[Mt]},$$scope:{ctx:t}}});return{c(){g(n.$$.fragment)},l(t){A(n.$$.fragment,t)},m(t,s){I(n,t,s),e=!0},p(t,e){const s={};4096&e[0]&&(s.disabled=!t[12]),67108864&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){T(n,t)}}}function jt(t){let e,n,s,a;const l=[wt,Vt],c=[];function i(t,e){return t[1]?0:1}return e=i(t),n=c[e]=l[e](t),{c(){n.c(),s=j()},l(t){n.l(t),s=j()},m(t,n){c[e].m(t,n),f(t,s,n),a=!0},p(t,a){let o=e;(e=i(t))===o?c[e].p(t,a):(N(),D(c[o],1,1,()=>{c[o]=null}),R(),(n=c[e])||(n=c[e]=l[e](t)).c(),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){D(n),a=!1},d(t){c[e].d(t),t&&d(s)}}}function Mt(t){let e,n=P.EDIT_THREAD.CONFIRM+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){f(t,e,n)},p:v,d(t){t&&d(e)}}}function Vt(t){let e;const n=new k({props:{className:"nextButton",disabled:!t[12],onClick:t[20],icon:at,$$slots:{default:[Gt]},$$scope:{ctx:t}}});return{c(){g(n.$$.fragment)},l(t){A(n.$$.fragment,t)},m(t,s){I(n,t,s),e=!0},p(t,e){const s={};4096&e[0]&&(s.disabled=!t[12]),67108864&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){T(n,t)}}}function wt(t){let e;const n=new k({props:{className:"nextButton",disabled:!t[12],onClick:t[20],icon:lt,$$slots:{default:[Ct]},$$scope:{ctx:t}}});return{c(){g(n.$$.fragment)},l(t){A(n.$$.fragment,t)},m(t,s){I(n,t,s),e=!0},p(t,e){const s={};4096&e[0]&&(s.disabled=!t[12]),67108864&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){D(n.$$.fragment,t),e=!1},d(t){T(n,t)}}}function Gt(t){let e,n=P.NEW_THREAD.CONFIRM+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){f(t,e,n)},p:v,d(t){t&&d(e)}}}function Ct(t){let e,n=P.REPLY_THREAD.CONFIRM+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){f(t,e,n)},p:v,d(t){t&&d(e)}}}function Ut(t){let e,n,s=(!t[9]||t[13])&&mt(t);return{c(){s&&s.c(),e=j()},l(t){s&&s.l(t),e=j()},m(t,a){s&&s.m(t,a),f(t,e,a),n=!0},p(t,n){!t[9]||t[13]?s?(s.p(t,n),8704&n[0]&&E(s,1)):((s=mt(t)).c(),E(s,1),s.m(e.parentNode,e)):s&&(N(),D(s,1,1,()=>{s=null}),R())},i(t){n||(E(s),n=!0)},o(t){D(s),n=!1},d(t){s&&s.d(t),t&&d(e)}}}function Yt(t,e,n){let s,a,l,c,i,o,r;M(t,V,t=>n(34,s=t)),M(t,w,t=>n(35,a=t)),M(t,G,t=>n(13,l=t)),M(t,C,t=>n(37,c=t)),M(t,U,t=>n(39,i=t)),M(t,Y,t=>n(40,o=t)),M(t,F,t=>n(41,r=t));const d=W();let m,u,{inlineComponent:f=!1}=e,{element:$=null}=e,p="",h="",E=null,g="",A="",I=null,v=!1,D=!1,T=B();H();let N=!1,R=!1,y=!1;function b(){y||(n(32,y=!0),n(9,R=s&&!!s.match(/posts\/.+\/edit/)||!1),n(33,j=!1))}let j=!1;async function k(){if(rt&&!o){const t=L(ot,rt,R);t&&(await x(),n(2,p=t.title||""),n(3,h=t.message||""),n(4,E=t.image||null),t.itemId&&n(30,T=t.itemId))}return null}function z(){if(!R&&c){const t={id:T,message:O(h),image:E,type:c,channelId:r&&r.id,projectId:r&&r.projectId};switch(c){case"thread":t.title=O(p);break;case"threadPost":t.threadId=a}let e=X(t);e&&e.then(t=>{t&&(t.success||t.addedPost||t.duplicateKey)&&Z(ot,rt,R)}),at()}}function _(){if(R){const t={message:O(h)};switch(l.type){case"thread":t.title=O(p)}E!==I&&(t.image=E);const e=K(t);e&&e.then(t=>{t&&(t.success||t.addedPost||t.duplicateKey)&&Z(ot,rt,R)}),at()}}Q(async()=>{n(31,N=!0),await x(),dt?m&&m.focus():u&&u.focus(),V.subscribe(b)});let J=!1;function st(){it&&(R?_():z())}function at(){f&&d("hide")}function lt(){f&&d("resize")}let ct,it,ot,rt,dt,mt,ut,ft,$t,pt;return t.$set=(t=>{"inlineComponent"in t&&n(1,f=t.inlineComponent),"element"in t&&n(0,$=t.element)}),t.$$.update=(()=>{if(1073742336&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(11,ct=R?a:T),8704&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(36,ot=R&&l?l.type:c),8704&t.$$.dirty[0]|304&t.$$.dirty[1]&&n(38,rt=(R?l&&l.id:"thread"===ot?i:a)||null),8732&t.$$.dirty[0]|135&t.$$.dirty[1]&&!j&&y&&N&&(R?l&&(n(2,p=l&&l.title||""),n(3,h=l&&l.message||""),n(4,E=l&&l.image||""),n(3,h=tt(h)),n(27,g=p),n(28,A=h),n(29,I=E),k(),n(33,j=!0)):rt&&(k(),n(33,j=!0))),284&t.$$.dirty[0]|32&t.$$.dirty[1]&&n(12,it=(O(p)||O(h)||E&&"thread"!==ot)&&!D),32&t.$$.dirty[1]&&n(14,dt="thread"===ot),32&t.$$.dirty[1]&&n(15,mt="thread"===ot?"image/jpeg":null),32&t.$$.dirty[1]&&n(16,ut="thread"===ot),514&t.$$.dirty[0]|32&t.$$.dirty[1]&&n(18,$t="thread"===ot?R?P.EDIT_THREAD.PAGE_TITLE:P.NEW_THREAD.PAGE_TITLE:f?P.REPLY_THREAD.PAGE_TITLE:R?P.EDIT_THREAD_POST.PAGE_TITLE:P.NEW_THREAD_POST.PAGE_TITLE),131216&t.$$.dirty[0]&&n(19,pt=ft&&(E||v)),524288&t.$$.dirty[0]&&lt(),2013274652&t.$$.dirty[0]|163&t.$$.dirty[1]&&rt&&y&&N){const t={title:p,message:h,image:E};R||(t.itemId=T);const e=L(ot,rt,R);R?l&&(!e&&et(p,g)&&et(h,A)&&E===I||(et(p,g)&&et(h,A)&&E===I?Z(ot,rt,R):nt(ot,rt,R,t))):(e||p||h||E)&&(p||h||E?nt(ot,rt,R,t):Z(ot,rt,R))}if(939532828&t.$$.dirty[0]|163&t.$$.dirty[1]&&R&&rt&&y&&N){const t=L(ot,rt,R);n(10,J=!(!t||!l)&&(!et(p,g)||!et(h,A)||E!==I))}}),n(17,ft=!0),[$,f,p,h,E,m,u,v,D,R,J,ct,it,l,dt,mt,ut,ft,$t,pt,z,_,function(){R&&J&&rt&&(n(2,p=g),n(3,h=A),n(4,E=I),Z(ot,rt,R))},st,function(){n(7,v=!0)},function(){n(7,v=!1),n(4,E=null)},at,g,A,I,T,N,y,j,s,a,ot,c,rt,i,o,r,d,b,k,lt,function(){p=this.value,n(2,p),n(33,j),n(32,y),n(31,N),n(9,R),n(13,l),n(3,h),n(4,E),n(38,rt),n(36,ot),n(39,i),n(35,a),n(37,c)},function(t){S[t?"unshift":"push"](()=>{n(5,m=t)})},t=>q(t,{target:u,action:st,actionOnCtrl:!0}),function(){h=this.value,n(3,h),n(33,j),n(32,y),n(31,N),n(9,R),n(13,l),n(2,p),n(4,E),n(38,rt),n(36,ot),n(39,i),n(35,a),n(37,c)},function(t){S[t?"unshift":"push"](()=>{n(6,u=t)})},t=>q(t,{action:st,actionOnCtrl:!0}),function(t){n(4,E=t),n(33,j),n(32,y),n(31,N),n(9,R),n(13,l),n(3,h),n(2,p),n(38,rt),n(36,ot),n(39,i),n(35,a),n(37,c)},function(t){n(8,D=t)},function(t){n(4,E=t),n(33,j),n(32,y),n(31,N),n(9,R),n(13,l),n(3,h),n(2,p),n(38,rt),n(36,ot),n(39,i),n(35,a),n(37,c)},function(t){n(8,D=t)},function(t){S[t?"unshift":"push"](()=>{n(0,$=t)})}]}class Ft extends t{constructor(t){super(),e(this,t,Yt,Ut,n,{inlineComponent:1,element:0},[-1,-1])}}export{Ft as E};
