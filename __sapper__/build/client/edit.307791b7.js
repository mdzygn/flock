import{S as a,i as e,s,q as t,R as l,z as r,C as c,H as n,r as o,u as i,T as f,d as u,A as $,D as p,x as d,b as I,E as m,t as v,c as E,F as h,J as g,Y as L,bl as D,cp as T,W as _,a1 as O,n as P,aL as b,v as R,aJ as j,l as y,aK as z,aM as F,ac as A,K as x,a4 as C,a3 as S,$ as N,cc as V,cq as k,cr as H,N as U,ai as w,ar as M,bC as B,V as K}from"./client.dc76f29a.js";import{S as W}from"./Proxy.a2f2476e.js";import"./Hotspot.79779b5e.js";import"./SearchBar.ea8b5e62.js";import"./LimitedTextfield.e03ae588.js";import{U as X,I as G,a as q,E as J}from"./ImageSelectionBox.a49cdaeb.js";import{S as Y}from"./save.71e29683.js";import{C as Q}from"./cancel.feaa218b.js";function Z(a){let e,s=K.EDIT_PROFILE.CONFIRM+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){I(a,e,s)},p:x,d(a){a&&u(e)}}}function aa(a){let e,s=K.EDIT_PROFILE.UPLOAD_PROFILE_IMAGE+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){I(a,e,s)},p:x,d(a){a&&u(e)}}}function ea(a){let e,s=K.EDIT_PROFILE.CANCEL+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){I(a,e,s)},p:x,d(a){a&&u(e)}}}function sa(a){let e,s=K.EDIT_PROFILE.CONFIRM+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){I(a,e,s)},p:x,d(a){a&&u(e)}}}function ta(a){let e,s,n,g,L,D,T,x,C,S,N,V,k,H,U,w,M,B,W,q,J,ta,la,ra,ca,na,oa,ia,fa,ua,$a,pa,da,Ia,ma,va,Ea,ha,ga,La,Da,Ta,_a,Oa,Pa,ba,Ra=K.EDIT_PROFILE.NAME+"",ja=K.EDIT_PROFILE.BIO+"",ya=K.EDIT_PROFILE.BIO_TIP+"",za=K.EDIT_PROFILE.COVER_IMAGE+"",Fa=K.EDIT_PROFILE.SKILLS+"",Aa=K.EDIT_PROFILE.SKILLS_TIP+"",xa=K.EDIT_PROFILE.LOCATION+"",Ca=K.EDIT_PROFILE.LOCATION_TIP+"";const Sa=new _({props:{className:"saveButton",onClick:a[12],icon:Y,disabled:!a[10],$$slots:{default:[Z]},$$scope:{ctx:a}}}),Na=new O({props:{user:a[0],onClick:a[13]}}),Va=new _({props:{className:"uploadAvatarButton",onClick:a[15],icon:X,$$slots:{default:[aa]},$$scope:{ctx:a}}});function ka(e){a[27].call(null,e)}function Ha(e){a[28].call(null,e)}let Ua={uploadType:"userCover",itemId:a[11]};void 0!==a[3]&&(Ua.image=a[3]),void 0!==a[6]&&(Ua.fileIsUploading=a[6]);const wa=new G({props:Ua});P.push(()=>b(wa,"image",ka)),P.push(()=>b(wa,"fileIsUploading",Ha));const Ma=new _({props:{className:"cancelButton",onClick:a[14],icon:Q,$$slots:{default:[ea]},$$scope:{ctx:a}}}),Ba=new _({props:{className:"saveButton",onClick:a[12],icon:Y,disabled:!a[10],$$slots:{default:[sa]},$$scope:{ctx:a}}});return{c(){e=t("div"),s=t("div"),n=t("div"),g=t("div"),c(Sa.$$.fragment),L=r(),c(Na.$$.fragment),D=r(),c(Va.$$.fragment),T=r(),x=t("div"),C=t("div"),S=l(Ra),N=r(),V=t("input"),k=r(),H=t("div"),U=t("div"),w=l(ja),M=t("span"),B=r(),W=t("textarea"),q=r(),J=t("div"),ta=t("div"),la=l(za),ra=r(),c(wa.$$.fragment),oa=r(),ia=t("div"),fa=t("div"),ua=l(Fa),$a=t("span"),pa=r(),da=t("textarea"),Ia=r(),ma=t("div"),va=t("div"),Ea=l(xa),ha=t("span"),ga=r(),La=t("input"),Da=r(),Ta=t("div"),c(Ma.$$.fragment),_a=r(),c(Ba.$$.fragment),this.h()},l(a){e=o(a,"DIV",{class:!0});var t=i(e);s=o(t,"DIV",{class:!0});var l=i(s);n=o(l,"DIV",{class:!0});var r=i(n);g=o(r,"DIV",{class:!0});var c=i(g);p(Sa.$$.fragment,c),c.forEach(u),L=$(r),p(Na.$$.fragment,r),D=$(r),p(Va.$$.fragment,r),T=$(r),x=o(r,"DIV",{class:!0});var d=i(x);C=o(d,"DIV",{class:!0});var I=i(C);S=f(I,Ra),I.forEach(u),N=$(d),V=o(d,"INPUT",{type:!0,autocapitalize:!0,class:!0}),d.forEach(u),k=$(r),H=o(r,"DIV",{class:!0});var m=i(H);U=o(m,"DIV",{class:!0});var v=i(U);w=f(v,ja),M=o(v,"SPAN",{class:!0}),i(M).forEach(u),v.forEach(u),B=$(m),W=o(m,"TEXTAREA",{class:!0}),i(W).forEach(u),m.forEach(u),q=$(r),J=o(r,"DIV",{class:!0});var E=i(J);ta=o(E,"DIV",{class:!0});var h=i(ta);la=f(h,za),h.forEach(u),ra=$(E),p(wa.$$.fragment,E),E.forEach(u),oa=$(r),ia=o(r,"DIV",{class:!0});var _=i(ia);fa=o(_,"DIV",{class:!0});var O=i(fa);ua=f(O,Fa),$a=o(O,"SPAN",{class:!0}),i($a).forEach(u),O.forEach(u),pa=$(_),da=o(_,"TEXTAREA",{}),i(da).forEach(u),_.forEach(u),Ia=$(r),ma=o(r,"DIV",{class:!0});var P=i(ma);va=o(P,"DIV",{class:!0});var b=i(va);Ea=f(b,xa),ha=o(b,"SPAN",{class:!0}),i(ha).forEach(u),b.forEach(u),ga=$(P),La=o(P,"INPUT",{type:!0,autocapitalize:!0,class:!0}),P.forEach(u),r.forEach(u),Da=$(l),Ta=o(l,"DIV",{class:!0});var R=i(Ta);p(Ma.$$.fragment,R),_a=$(R),p(Ba.$$.fragment,R),R.forEach(u),l.forEach(u),t.forEach(u),this.h()},h(){R(g,"class","actions topActions svelte-zjret0"),R(C,"class","label svelte-zjret0"),R(V,"type","text"),R(V,"autocapitalize","words"),R(V,"class","svelte-zjret0"),R(x,"class","field svelte-zjret0"),R(M,"class","tip svelte-zjret0"),R(U,"class","label svelte-zjret0"),R(W,"class","svelte-zjret0"),R(H,"class","field bioField svelte-zjret0"),R(ta,"class","label headerImageLabel svelte-zjret0"),R(J,"class","field headerImageField svelte-zjret0"),R($a,"class","tip svelte-zjret0"),R(fa,"class","label labelDetails svelte-zjret0"),R(ia,"class","field skillsField svelte-zjret0"),R(ha,"class","tip svelte-zjret0"),R(va,"class","label labelDetails svelte-zjret0"),R(La,"type","text"),R(La,"autocapitalize","sentences"),R(La,"class","svelte-zjret0"),R(ma,"class","field svelte-zjret0"),R(n,"class","mainProfileDetails svelte-zjret0"),R(Ta,"class","actions svelte-zjret0"),R(s,"class","panelContent svelte-zjret0"),R(e,"class","content svelte-zjret0")},m(t,l){I(t,e,l),d(e,s),d(s,n),d(n,g),m(Sa,g,null),d(n,L),m(Na,n,null),d(n,D),m(Va,n,null),d(n,T),d(n,x),d(x,C),d(C,S),d(x,N),d(x,V),j(V,a[1]),d(n,k),d(n,H),d(H,U),d(U,w),d(U,M),M.innerHTML=ya,d(H,B),d(H,W),j(W,a[2]),a[26](W),d(n,q),d(n,J),d(J,ta),d(ta,la),d(J,ra),m(wa,J,null),d(n,oa),d(n,ia),d(ia,fa),d(fa,ua),d(fa,$a),$a.innerHTML=Aa,d(ia,pa),d(ia,da),j(da,a[4]),a[30](da),d(n,Ia),d(n,ma),d(ma,va),d(va,Ea),d(va,ha),ha.innerHTML=Ca,d(ma,ga),d(ma,La),j(La,a[5]),a[33](La),d(s,Da),d(s,Ta),m(Ma,Ta,null),d(Ta,_a),m(Ba,Ta,null),Oa=!0,Pa||(ba=[y(V,"input",a[22]),y(V,"keypress",a[23]),y(V,"keyup",a[24]),y(W,"input",a[25]),y(W,"keypress",z),y(da,"input",a[29]),y(da,"keyup",a[31]),y(La,"input",a[32]),y(La,"keypress",z),y(La,"keyup",a[34])],Pa=!0)},p(a,e){const s={};1024&e[0]&&(s.disabled=!a[10]),16&e[1]&&(s.$$scope={dirty:e,ctx:a}),Sa.$set(s);const t={};1&e[0]&&(t.user=a[0]),Na.$set(t);const l={};16&e[1]&&(l.$$scope={dirty:e,ctx:a}),Va.$set(l),2&e[0]&&V.value!==a[1]&&j(V,a[1]),4&e[0]&&j(W,a[2]);const r={};2048&e[0]&&(r.itemId=a[11]),!ca&&8&e[0]&&(ca=!0,r.image=a[3],F(()=>ca=!1)),!na&&64&e[0]&&(na=!0,r.fileIsUploading=a[6],F(()=>na=!1)),wa.$set(r),16&e[0]&&j(da,a[4]),32&e[0]&&La.value!==a[5]&&j(La,a[5]);const c={};16&e[1]&&(c.$$scope={dirty:e,ctx:a}),Ma.$set(c);const n={};1024&e[0]&&(n.disabled=!a[10]),16&e[1]&&(n.$$scope={dirty:e,ctx:a}),Ba.$set(n)},i(a){Oa||(v(Sa.$$.fragment,a),v(Na.$$.fragment,a),v(Va.$$.fragment,a),v(wa.$$.fragment,a),v(Ma.$$.fragment,a),v(Ba.$$.fragment,a),Oa=!0)},o(a){E(Sa.$$.fragment,a),E(Na.$$.fragment,a),E(Va.$$.fragment,a),E(wa.$$.fragment,a),E(Ma.$$.fragment,a),E(Ba.$$.fragment,a),Oa=!1},d(s){s&&u(e),h(Sa),h(Na),h(Va),a[26](null),h(wa),a[30](null),a[33](null),h(Ma),h(Ba),Pa=!1,A(ba)}}}function la(a){let e,s,g,L;const D=new W({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}});return{c(){e=t("style"),s=l("body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),g=r(),c(D.$$.fragment),this.h()},l(a){const t=n('[data-svelte="svelte-1ja50yt"]',document.head);e=o(t,"STYLE",{});var l=i(e);s=f(l,"body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),l.forEach(u),t.forEach(u),g=$(a),p(D.$$.fragment,a),this.h()},h(){document.title="Flock"},m(a,t){d(document.head,e),d(e,s),I(a,g,t),m(D,a,t),L=!0},p(a,e){const s={};4095&e[0]|16&e[1]&&(s.$$scope={dirty:e,ctx:a}),D.$set(s)},i(a){L||(v(D.$$.fragment,a),L=!0)},o(a){E(D.$$.fragment,a),L=!1},d(a){u(e),a&&u(g),h(D,a)}}}function ra(a,e,s){let t,l,r,c=x,n=()=>(c(),c=L(o,a=>s(19,l=a)),o);g(a,C,a=>s(17,t=a)),g(a,S,a=>s(11,r=a)),a.$$.on_destroy.push(()=>c());let o=N(null);n();let i,f,u,$,p,d=t&&t.name||"",I=t&&t.bio&&V(t.bio)||"",m=t&&t.coverImage||"",v=t&&t.skills||"",E=t&&t.location||"";function h(){H(o)}function _(){q.uploadImage({uploadType:"userProfile",itemId:r,imageSettings:{maxWidth:w.PROFILE_UPLOAD_MAX_WIDTH,maxHeight:w.PROFILE_UPLOAD_MAX_HEIGHT},thumbSettings:{maxWidth:w.PROFILE_UPLOAD_THUMB_MAX_WIDTH,maxHeight:w.PROFILE_UPLOAD_THUMB_MAX_HEIGHT},onUploading:()=>{M(o,l.avatarImageRawSrc=J,l),o.set(l),s(16,i=!0)},onImageLoaded:a=>{M(o,l.avatarImageRawSrc=URL.createObjectURL(a),l),o.set(l)},onComplete:a=>{M(o,l.avatarImageRawSrc=null,l),M(o,l.avatarImage=a,l),s(16,i=!1)},onError:a=>{M(o,l.avatarImageRawSrc=null,l),M(o,l.avatarImage=null,l),o.set(l),s(16,i=!1),console.error("Could not request profile image upload")}})}let O,b;return a.$$.update=(()=>{65602&a.$$.dirty[0]&&s(10,b=!(!D(d)||i||f))}),n(s(0,o=T(C))),O=void 0<w.PROFILE_DESCRIPTION_CHARS_LOW,[o,d,I,m,v,E,f,u,$,p,b,r,function(){if(b){const a={name:D(d),bio:D(I),avatarImage:l.avatarImage||null,coverImage:m,skills:v,location:E,style:l.style};k(a)}},function(){l.avatarImage?_():h()},function(){U("profile/"+r)},_,i,t,O,l,void 0,h,function(){d=this.value,s(1,d)},a=>z(a,{target:u}),a=>B(a,{capitalizeFirstKeypress:!0}),function(){I=this.value,s(2,I)},function(a){P[a?"unshift":"push"](()=>{s(7,u=a)})},function(a){s(3,m=a)},function(a){s(6,f=a)},function(){v=this.value,s(4,v)},function(a){P[a?"unshift":"push"](()=>{s(8,$=a)})},a=>B(a,{keepLowerCase:!0}),function(){E=this.value,s(5,E)},function(a){P[a?"unshift":"push"](()=>{s(9,p=a)})},a=>B(a,{capitalizeFirstKeypress:!0})]}export default class extends a{constructor(a){super(),e(this,a,ra,la,s,{},[-1,-1])}}
