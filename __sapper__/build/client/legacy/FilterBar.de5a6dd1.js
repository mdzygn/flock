import{_ as t,a as n,b as e,c as r,i as a,s as o,d as c,S as i,J as s,K as f,L as l,t as u,h as v,M as h,y as g,z as m,A as p,j as d,B as $,H as y,g as S,D as j,I as x,T as C,P as R,aj as w,o as I,r as b,u as B,v as D,a2 as E,w as L,Z as k,$ as N,a0 as T}from"./client.919bf5ae.js";function V(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var a,o=n(t);if(r){var c=n(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return e(this,a)}}function A(t,n,e){var r=t.slice();return r[11]=n[e],r[13]=e,r}function P(t){var n,e=t[11]+"";return{c:function(){n=k(e)},l:function(t){n=N(t,e)},m:function(t,e){S(t,n,e)},p:function(t,r){8&r&&e!==(e=t[11]+"")&&T(n,e)},d:function(t){t&&d(n)}}}function W(t){var n;function e(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(n=t)[9].apply(n,[t[11]].concat(r))}var r=new E({props:{className:"filterButton "+((t[13]||t[1]?t[0].match(new RegExp("\\b"+t[11]+"\\b")):""===t[0])?"selectedItem":""),onClick:e,$$slots:{default:[P]},$$scope:{ctx:t}}});return{c:function(){s(r.$$.fragment)},l:function(t){f(r.$$.fragment,t)},m:function(t,e){l(r,t,e),n=!0},p:function(n,a){t=n;var o={};11&a&&(o.className="filterButton "+((t[13]||t[1]?t[0].match(new RegExp("\\b"+t[11]+"\\b")):""===t[0])?"selectedItem":"")),8&a&&(o.onClick=e),16392&a&&(o.$$scope={dirty:a,ctx:t}),r.$set(o)},i:function(t){n||(u(r.$$.fragment,t),n=!0)},o:function(t){v(r.$$.fragment,t),n=!1},d:function(t){h(r,t)}}}function z(t){for(var n,e,r,a,o=t[3],c=[],i=0;i<o.length;i+=1)c[i]=W(A(t,o,i));var s=function(t){return v(c[t],1,1,function(){c[t]=null})};return{c:function(){n=g("div"),e=g("div"),r=g("div");for(var t=0;t<c.length;t+=1)c[t].c();this.h()},l:function(t){n=m(t,"DIV",{class:!0});var a=p(n);e=m(a,"DIV",{class:!0});var o=p(e);r=m(o,"DIV",{class:!0});for(var i=p(r),s=0;s<c.length;s+=1)c[s].l(i);i.forEach(d),o.forEach(d),a.forEach(d),this.h()},h:function(){$(r,"class","filterSet svelte-jjncoj"),$(e,"class","filterScrollRegion svelte-jjncoj"),$(n,"class","filterBar svelte-jjncoj"),y(n,"isCategorySelector",t[1])},m:function(o,i){S(o,n,i),j(n,e),j(e,r);for(var s=0;s<c.length;s+=1)c[s].m(r,null);t[10](e),a=!0},p:function(t,e){var a=x(e,1)[0];if(27&a){var i;for(o=t[3],i=0;i<o.length;i+=1){var f=A(t,o,i);c[i]?(c[i].p(f,a),u(c[i],1)):(c[i]=W(f),c[i].c(),u(c[i],1),c[i].m(r,null))}for(C(),i=o.length;i<c.length;i+=1)s(i);R()}2&a&&y(n,"isCategorySelector",t[1])},i:function(t){if(!a){for(var n=0;n<o.length;n+=1)u(c[n]);a=!0}},o:function(t){c=c.filter(Boolean);for(var n=0;n<c.length;n+=1)v(c[n]);a=!1},d:function(e){e&&d(n),w(c,e),t[10](null)}}}var F=10,H=40;function J(t,n,e){var r,a=n.filterString,o=void 0===a?"":a,c=n.isCategorySelector,i=void 0!==c&&c,s=["design","arts","tech","environment","community","apps","games","music","media","education","food"];function f(t){if("all"===t)e(0,o="");else if(h){if(t){var n=o.trim().split(", ");"other"!==t&&"other"!==o||t===o||(n=[]);var r=n.indexOf(t);-1!==r?n.splice(r,1):n.push(t),n=n.filter(function(t){return t}),e(0,o=n.join(", ").trim())}}else e(0,o=t)}var l=!1;function u(){if(r){var t=r.getElementsByClassName("selectedItem"),n=t&&t.length?t[0]:null;if(n){var e=n.offsetLeft,a=n.offsetLeft+n.offsetWidth,o=r.offsetWidth,c=r.scrollLeft,i=r.scrollLeft+o;if(a<o-F)r.scrollTo(0,0);else if(a>i-F||e<c+F){var s=n.offsetLeft-H;r.scrollTo(s,0)}}}}I(function(){e(5,l=!0)});var v,h;return t.$set=function(t){"filterString"in t&&e(0,o=t.filterString),"isCategorySelector"in t&&e(1,i=t.isCategorySelector)},t.$$.update=function(){2&t.$$.dirty&&e(3,v=i?[].concat(s,["other"]):["all"].concat(s)),2&t.$$.dirty&&(h=i),33&t.$$.dirty&&l&&b(B.mark(function t(){return B.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:u();case 3:case"end":return t.stop()}},t)}))()},[o,i,r,v,f,l,h,s,u,function(t,n){return f(t)},function(t){L[t?"unshift":"push"](function(){e(2,r=t)})}]}var K=function(n){t(s,i);var e=V(s);function s(t){var n;return r(this,s),n=e.call(this),a(c(n),t,J,z,o,{filterString:0,isCategorySelector:1}),n}return s}();export{K as F};
