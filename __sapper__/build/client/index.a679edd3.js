import{S as t,i as e,s as n,C as s,D as l,E as a,K as o,t as r,c,F as i,q as $,e as d,r as m,u,d as f,v as h,b as p,x as g,R as v,T as A,z as y,A as b,B as w,L as D,I,J as E,ad as P,a4 as T,a3 as H,ae as L,Y as C,b8 as N,af as M,bc as V,ah as R,ai as S,aj as j,ak as F,m as O,ag as B,W as k,am as x,b0 as W,V as Y,ap as z,$ as K,an as G,cD as q,bs as Q,aq as U,aa as Z,ar as J,as as _,at as X,cE as tt,l as et,G as nt,U as st,a1 as lt,H as at,bj as ot,aN as rt,aT as ct,cF as it,o as $t,g as dt,a7 as mt,b2 as ut,cG as ft,b3 as ht,n as pt,aA as gt,ax as vt,b6 as At,aM as yt,aL as bt,a5 as wt,b5 as Dt,cH as It,a9 as Et,cI as Pt,cJ as Tt,ab as Ht}from"./client.b937c12a.js";import{S as Lt}from"./Proxy.9d528d01.js";import"./Hotspot.02fef027.js";import{C as Ct}from"./ContentLoader.83142d4b.js";import{P as Nt,N as Mt}from"./postPlaceholder.f2ef4393.js";import"./Counter.d1f8bedf.js";import{A as Vt,P as Rt}from"./AddPost.72487217.js";import"./post_like_selected.c79724df.js";import"./ImageSelectionBox.c261bb91.js";import"./SearchBar.393201ad.js";import"./next_arrow.b1598f96.js";import"./add_small.fcdad09e.js";import"./send.53c7ac4a.js";import{E as St}from"./EditPost.1e29d955.js";import{F as jt,a as Ft,A as Ot,b as Bt,L as kt,c as xt,S as Wt}from"./ActionBar.ffc3c3e8.js";const Yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA2CAYAAACbZ/oUAAADaklEQVRoQ+2Zi43UMBCG/6uA6wCoAKgAqACoAKgAqADoACoAOoAKgA6ggrsODioAfVIGzXrt2PHjiLIZabUrbWzP53naOdOJydmJ8WoH3rrFdwvvFt7YDuwu3WDQc0kvJD2Q9FnS+4a5hg3tZeG7kr5KAtoE6CfDNK+cuAdwDNbUuSfpR6VuQ4a1AoewvyX9knRz0vahpG9DNK+ctAU4Bkv8vpN0f9LnraQ3lboNGVYLnILFfbHopoDnYLHKpoBzsJsCLoENgS0OSWS4++X0wQu+DwnSzKSlMVwKy3IfJT0thKFWA/9pyu6Fw+ofKwFeAosmPA+IlaZS7RjDZn0pHVDzXA54KWxKB+ahC+Ob0sV3akNwe0oZVu8uc8C9YFNK35L0WNIzSXciDxHzr3o3Ling0bAhH+u9TMQ+bg44ia9ZYsC43oU7CNAu4obX0ROzNuCvAzLc/HkPa8eAiR9b8DphPSPuTov6KABnM5qOnTFgrMuCCK7Ewv9LiG/Wv+EUwMWxdpXEgP+4mW5PjULV5J0GsfmULJ/YqqFzwGs5zxLbWNo3NFXQMWDf/BMvxM1aJOziFkPHgImbD46QeGHitUgIvejMnarD3sqArh2auzPiPCspYGIGaJ8o1gZNX2D60ZSQYLPNyVxrORKaubPKZczFHDQkVrIwEHdos5I7PNRC0ypyzUNJ4bcdHlLKYC07L6P4z8INoQPketgk64U5YCZaCh0mvdymp/63szLHRSyZEp/EeI5SmvSeEuCl0CgatoS10DbO3mTErnxD157N2qXAS6B9hucah97crnhi4Lg9H9zTvlNnZdweoDAj+/5/NoEtAS6F7nFraRcFqbMyaxCv3tX5bRuVjOWlwCXQPYC9J2B5wGP3ZFgWiyPeysBTpo6kBjgH3RvYlMbdgQrBcXMrR1eOMHoOqAWeg8Ya9uZhxPHSXuf4poi4BdrfmnAnhi4H0gKcgvYLjHyZ5l3Y1qSEWYWIunUr8Bw0tyW4YWtHNVfS7OW7vyDwzx+5dQ9ggw7Pq9mup7U4T+PJ6DQfsZvPo5DqBewTC1a1VyqdmLLTxLpBBh3FcW/grGYDH4hBk8Fx63+yJWCgcG/Koo/pA8atAQMdnqA2Dww09ZcPPffBNfMWLTybJnbggVl0FVPvFl6FGQYqcXIW/gs1ftA35nDwRwAAAABJRU5ErkJggg==";function zt(t){let e;const n=new k({props:{className:"optionsButton",icon:x,onClick:t[26]}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Kt(t){let e;const n=new k({props:{className:"followButton",onClick:t[27],icon:t[6]?jt:Ft}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};64&e[0]&&(s.icon=t[6]?jt:Ft),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Gt(t){let e,n,s,l,a,o,r;return{c(){e=$("div"),n=$("div"),s=y(),l=$("div"),a=v(t[10]),this.h()},l(o){e=m(o,"DIV",{class:!0});var r=u(e);n=m(r,"DIV",{class:!0}),u(n).forEach(f),s=b(r),l=m(r,"DIV",{class:!0});var c=u(l);a=A(c,t[10]),c.forEach(f),r.forEach(f),this.h()},h(){h(n,"class","userName svelte-hc3tm4"),w(n,"button",t[8]),h(l,"class","username svelte-hc3tm4"),w(l,"button",t[8]),h(e,"class","info svelte-hc3tm4")},m(c,i){p(c,e,i),g(e,n),n.innerHTML=t[9],g(e,s),g(e,l),g(l,a),o||(r=et(e,"click",function(){nt(t[8]?t[23]:null)&&(t[8]?t[23]:null).apply(this,arguments)}),o=!0)},p(e,s){t=e,512&s[0]&&(n.innerHTML=t[9]),256&s[0]&&w(n,"button",t[8]),1024&s[0]&&st(a,t[10]),256&s[0]&&w(l,"button",t[8])},d(t){t&&f(e),o=!1,r()}}}function qt(t){let e,n,s,l,a,o,r,c=t[15]&&Qt(t);return{c(){e=$("div"),n=$("div"),s=v(t[11]),l=y(),a=$("div"),r=d(),c&&c.c(),this.h()},l(o){e=m(o,"DIV",{class:!0});var i=u(e);n=m(i,"DIV",{class:!0});var $=u(n);s=A($,t[11]),$.forEach(f),l=b(i),a=m(i,"DIV",{class:!0});var h=u(a);r=d(),c&&c.l(h),h.forEach(f),i.forEach(f),this.h()},h(){h(n,"class","projectTitle svelte-hc3tm4"),o=new W(r),h(a,"class","date svelte-hc3tm4"),h(e,"class","info svelte-hc3tm4")},m(i,$){p(i,e,$),g(e,n),g(n,s),g(e,l),g(e,a),o.m(t[20],a),g(a,r),c&&c.m(a,null)},p(t,e){2048&e[0]&&st(s,t[11]),1048576&e[0]&&o.p(t[20]),t[15]?c?c.p(t,e):((c=Qt(t)).c(),c.m(a,null)):c&&(c.d(1),c=null)},d(t){t&&f(e),c&&c.d()}}}function Qt(t){let e,n,s=Y.POST.EDITED+"";return{c(){e=$("span"),n=v(s),this.h()},l(t){e=m(t,"SPAN",{class:!0,title:!0});var l=u(e);n=A(l,s),l.forEach(f),this.h()},h(){h(e,"class","edited svelte-hc3tm4"),h(e,"title",t[16])},m(t,s){p(t,e,s),g(e,n)},p(t,n){65536&n[0]&&h(e,"title",t[16])},d(t){t&&f(e)}}}function Ut(t){let e;const n=new lt({props:{user:t[1],onClick:t[8]?t[23]:null,useThumb:!0}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};2&e[0]&&(s.user=t[1]),256&e[0]&&(s.onClick=t[8]?t[23]:null),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Zt(t){let e,n;return{c(){e=$("img"),this.h()},l(t){e=m(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"class","projectThumb svelte-hc3tm4"),e.src!==(n=t[12])&&h(e,"src",n),h(e,"alt",t[11])},m(t,n){p(t,e,n)},p(t,s){4096&s[0]&&e.src!==(n=t[12])&&h(e,"src",n),2048&s[0]&&h(e,"alt",t[11])},i:o,o:o,d(t){t&&f(e)}}}function Jt(t){let e,n,s,l=t[15]&&_t(t);return{c(){e=$("div"),s=d(),l&&l.c(),this.h()},l(t){e=m(t,"DIV",{class:!0});var n=u(e);s=d(),l&&l.l(n),n.forEach(f),this.h()},h(){n=new W(s),h(e,"class","date svelte-hc3tm4")},m(a,o){p(a,e,o),n.m(t[20],e),g(e,s),l&&l.m(e,null)},p(t,s){1048576&s[0]&&n.p(t[20]),t[15]?l?l.p(t,s):((l=_t(t)).c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&f(e),l&&l.d()}}}function _t(t){let e,n,s=Y.POST.EDITED+"";return{c(){e=$("span"),n=v(s),this.h()},l(t){e=m(t,"SPAN",{class:!0,title:!0});var l=u(e);n=A(l,s),l.forEach(f),this.h()},h(){h(e,"class","edited svelte-hc3tm4"),h(e,"title",t[16])},m(t,s){p(t,e,s),g(e,n)},p(t,n){65536&n[0]&&h(e,"title",t[16])},d(t){t&&f(e)}}}function Xt(t){let e;return{c(){e=$("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),u(e).forEach(f),this.h()},h(){h(e,"class","title svelte-hc3tm4")},m(n,s){p(n,e,s),e.innerHTML=t[21]},p(t,n){2097152&n[0]&&(e.innerHTML=t[21])},d(t){t&&f(e)}}}function te(t){let e;return{c(){e=$("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),u(e).forEach(f),this.h()},h(){h(e,"class","message svelte-hc3tm4")},m(n,s){p(n,e,s),e.innerHTML=t[22]},p(t,n){4194304&n[0]&&(e.innerHTML=t[22])},d(t){t&&f(e)}}}function ee(t){let e,n;return{c(){e=$("img"),this.h()},l(t){e=m(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"class","postImage svelte-hc3tm4"),e.src!==(n=t[2])&&h(e,"src",n),h(e,"alt","post")},m(t,n){p(t,e,n)},p(t,s){4&s[0]&&e.src!==(n=t[2])&&h(e,"src",n)},d(t){t&&f(e)}}}function ne(t){let e;const n=new Ot({props:{targetItemId:t[7],targetItem:t[5],$$slots:{default:[oe],buttonRight:[ae],buttonMiddle:[le],buttonLeft:[se]},$$scope:{ctx:t}}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};128&e[0]&&(s.targetItemId=t[7]),32&e[0]&&(s.targetItem=t[5]),160&e[0]|32&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function se(t){let e,n;const o=new Bt({props:{label:"like",icon:kt,selectedIcon:xt,targetItem:t[5],targetItemId:t[7],action:z,targetItemProperty:"liked",countProperty:"likeCount"}});return{c(){e=$("div"),s(o.$$.fragment),this.h()},l(t){e=m(t,"DIV",{slot:!0});var n=u(e);l(o.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonLeft")},m(t,s){p(t,e,s),a(o,e,null),n=!0},p(t,e){const n={};32&e[0]&&(n.targetItem=t[5]),128&e[0]&&(n.targetItemId=t[7]),o.$set(n)},i(t){n||(r(o.$$.fragment,t),n=!0)},o(t){c(o.$$.fragment,t),n=!1},d(t){t&&f(e),i(o)}}}function le(t){let e,n;const d=new Bt({props:{label:"share",icon:Wt,action:t[25]}});return{c(){e=$("div"),s(d.$$.fragment),this.h()},l(t){e=m(t,"DIV",{slot:!0});var n=u(e);l(d.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonMiddle")},m(t,s){p(t,e,s),a(d,e,null),n=!0},p:o,i(t){n||(r(d.$$.fragment,t),n=!0)},o(t){c(d.$$.fragment,t),n=!1},d(t){t&&f(e),i(d)}}}function ae(t){let e,n;const d=new Bt({props:{label:"reply",icon:Yt,action:t[24]}});return{c(){e=$("div"),s(d.$$.fragment),this.h()},l(t){e=m(t,"DIV",{slot:!0});var n=u(e);l(d.$$.fragment,n),n.forEach(f),this.h()},h(){h(e,"slot","buttonRight")},m(t,s){p(t,e,s),a(d,e,null),n=!0},p:o,i(t){n||(r(d.$$.fragment,t),n=!0)},o(t){c(d.$$.fragment,t),n=!1},d(t){t&&f(e),i(d)}}}function oe(t){let e,n;return{c(){e=y(),n=y()},l(t){e=b(t),n=b(t)},m(t,s){p(t,e,s),p(t,n,s)},p:o,i:o,o:o,d(t){t&&f(e),t&&f(n)}}}function re(t){let e,n,s,l,a,o,i,d,v,A,E,P,T,H=(t[13]||t[14])&&zt(t),L=t[14]&&Kt(t);function C(t,e){return t[4]?qt:Gt}let N=C(t),M=N(t);const V=[Zt,Ut],R=[];function S(t,e){return t[4]?0:1}a=S(t),o=R[a]=V[a](t);let j=!t[4]&&Jt(t),F=t[17]&&Xt(t),O=t[18]&&te(t),B=t[19]&&ee(t),k=!t[3]&&ne(t);return{c(){e=$("div"),H&&H.c(),n=y(),L&&L.c(),s=y(),M.c(),l=y(),o.c(),i=y(),d=$("div"),j&&j.c(),v=y(),F&&F.c(),A=y(),O&&O.c(),E=y(),B&&B.c(),P=y(),k&&k.c(),this.h()},l(t){e=m(t,"DIV",{class:!0});var a=u(e);H&&H.l(a),n=b(a),L&&L.l(a),s=b(a),M.l(a),l=b(a),o.l(a),i=b(a),d=m(a,"DIV",{class:!0});var r=u(d);j&&j.l(r),v=b(r),F&&F.l(r),A=b(r),O&&O.l(r),r.forEach(f),E=b(a),B&&B.l(a),P=b(a),k&&k.l(a),a.forEach(f),this.h()},h(){h(d,"class","postContent svelte-hc3tm4"),h(e,"class","threadPost svelte-hc3tm4"),w(e,"isProjectPost",t[4])},m(t,o){p(t,e,o),H&&H.m(e,null),g(e,n),L&&L.m(e,null),g(e,s),M.m(e,null),g(e,l),R[a].m(e,null),g(e,i),g(e,d),j&&j.m(d,null),g(d,v),F&&F.m(d,null),g(d,A),O&&O.m(d,null),g(e,E),B&&B.m(e,null),g(e,P),k&&k.m(e,null),T=!0},p(t,$){t[13]||t[14]?H?(H.p(t,$),24576&$[0]&&r(H,1)):((H=zt(t)).c(),r(H,1),H.m(e,n)):H&&(D(),c(H,1,1,()=>{H=null}),I()),t[14]?L?(L.p(t,$),16384&$[0]&&r(L,1)):((L=Kt(t)).c(),r(L,1),L.m(e,s)):L&&(D(),c(L,1,1,()=>{L=null}),I()),N===(N=C(t))&&M?M.p(t,$):(M.d(1),(M=N(t))&&(M.c(),M.m(e,l)));let m=a;(a=S(t))===m?R[a].p(t,$):(D(),c(R[m],1,1,()=>{R[m]=null}),I(),(o=R[a])||(o=R[a]=V[a](t)).c(),r(o,1),o.m(e,i)),t[4]?j&&(j.d(1),j=null):j?j.p(t,$):((j=Jt(t)).c(),j.m(d,v)),t[17]?F?F.p(t,$):((F=Xt(t)).c(),F.m(d,A)):F&&(F.d(1),F=null),t[18]?O?O.p(t,$):((O=te(t)).c(),O.m(d,null)):O&&(O.d(1),O=null),t[19]?B?B.p(t,$):((B=ee(t)).c(),B.m(e,P)):B&&(B.d(1),B=null),t[3]?k&&(D(),c(k,1,1,()=>{k=null}),I()):k?(k.p(t,$),8&$[0]&&r(k,1)):((k=ne(t)).c(),r(k,1),k.m(e,null)),16&$[0]&&w(e,"isProjectPost",t[4])},i(t){T||(r(H),r(L),r(o),r(k),T=!0)},o(t){c(H),c(L),c(o),c(k),T=!1},d(t){t&&f(e),H&&H.d(),L&&L.d(),M.d(),R[a].d(),j&&j.d(),F&&F.d(),O&&O.d(),B&&B.d(),k&&k.d()}}}function ce(t,e,n){let s,l,a,r,c,i,$=o,d=()=>($(),$=C(f,t=>n(5,a=t)),f),m=o,u=()=>(m(),m=C(h,t=>n(32,r=t)),h);E(t,P,t=>n(28,s=t)),E(t,T,t=>n(30,l=t)),E(t,H,t=>n(33,c=t)),E(t,L,t=>n(35,i=t)),t.$$.on_destroy.push(()=>$()),t.$$.on_destroy.push(()=>m());let{post:f}=e;d();let h=K([]);u();let p,g,v,A,y,b,w,D,I,k,x,W,Y,z,et,nt,st,lt,at,ot,rt,ct,it=Nt;return t.$set=(t=>{"post"in t&&d(n(0,f=t.post))}),t.$$.update=(()=>{268435456&t.$$.dirty[0]&&n(3,p=s&&s.archived||!1),1342177280&t.$$.dirty[0]&&n(29,g=l&&s&&N(s)),32&t.$$.dirty[0]&&n(4,v=a&&"projectPost"===a.type||!1),32&t.$$.dirty[0]&&n(6,A=a&&a.following||!1),32&t.$$.dirty[0]&&n(31,y=a&&a.userId||null),32&t.$$.dirty[0]&&n(7,b=a&&a.id||null),1&t.$$.dirty[1]&&u(n(1,h=M(y))),2&t.$$.dirty[1]&&n(8,w=r&&r.name||!1),2&t.$$.dirty[1]&&n(9,D=r&&r.name||"&nbsp;"),2&t.$$.dirty[1]&&n(10,I=r&&r.username&&"@"+r.username||""),268435456&t.$$.dirty[0]&&n(11,k=s&&s.title||""),268435472&t.$$.dirty[0]&&n(12,x=v&&s&&V(s,!0)||null),32&t.$$.dirty[0]|4&t.$$.dirty[1]&&n(13,W=a&&a.userId&&a.userId===c||!1),536879104&t.$$.dirty[0]&&n(14,Y=!W&&!g),32&t.$$.dirty[0]&&n(15,z=a&&a.edited&&R(a.createdAt,a.editedAt)>S.SHOW_EDITED_MIN_TIME||!1),32800&t.$$.dirty[0]&&n(16,et=z&&a.editedAt&&j(a.editedAt)||""),32&t.$$.dirty[0]&&n(17,nt=a&&a.title||""),32&t.$$.dirty[0]&&n(18,st=a&&a.message||""),32&t.$$.dirty[0]&&n(19,lt=a&&a.image||""),32&t.$$.dirty[0]&&n(34,at=a&&a.createdAt||""),8&t.$$.dirty[1]&&n(20,ot=at&&j(at,"ddd d MMM")+" at "+j(at,"h:mmtt")||"&nbsp;"),131072&t.$$.dirty[0]&&n(21,rt=F(nt)),262144&t.$$.dirty[0]&&n(22,ct=F(st)),524288&t.$$.dirty[0]&&(async()=>{await O(),n(2,it=Nt),await O(),setTimeout(()=>{n(2,it=B(lt))},0)})()}),[f,h,it,p,v,a,A,b,w,D,I,k,x,W,Y,z,et,nt,st,lt,ot,rt,ct,function(){w&&G(y)},function(){q()},function(){Q(b)},function(){const t=U(b);if(t){const e=Z(t);J(L,i=e),_(X.THREAD_POST_OPTIONS)}},function(){tt(b,A)}]}class ie extends t{constructor(t){super(),e(this,t,ce,re,n,{post:0},[-1,-1])}}function $e(t,e,n){const s=t.slice();return s[37]=e[n],s}function de(t){let e,n,o,d,v,A;const w=new ie({props:{post:yt}});let E=t[12],P=[];for(let e=0;e<E.length;e+=1)P[e]=Ae($e(t,E,e));const T=t=>c(P[t],1,1,()=>{P[t]=null});let H=null;E.length||(H=fe(t));let L=!t[0]&&t[12]&&t[12].length>=Ie&&ye(t);return{c(){e=$("div"),s(w.$$.fragment),n=y(),o=$("div"),d=$("div");for(let t=0;t<P.length;t+=1)P[t].c();H&&H.c(),v=y(),L&&L.c(),this.h()},l(t){e=m(t,"DIV",{class:!0});var s=u(e);l(w.$$.fragment,s),n=b(s),o=m(s,"DIV",{class:!0});var a=u(o);d=m(a,"DIV",{class:!0});var r=u(d);for(let t=0;t<P.length;t+=1)P[t].l(r);H&&H.l(r),r.forEach(f),v=b(a),L&&L.l(a),a.forEach(f),s.forEach(f),this.h()},h(){h(d,"class","postsContainer svelte-1qcydxp"),h(o,"class","contentContainer svelte-1qcydxp"),h(e,"class","scrollContent")},m(t,s){p(t,e,s),a(w,e,null),g(e,n),g(e,o),g(o,d);for(let t=0;t<P.length;t+=1)P[t].m(d,null);H&&H.m(d,null),g(o,v),L&&L.m(o,null),A=!0},p(t,e){if(39425&e[0]){let n;for(E=t[12],n=0;n<E.length;n+=1){const s=$e(t,E,n);P[n]?(P[n].p(s,e),r(P[n],1)):(P[n]=Ae(s),P[n].c(),r(P[n],1),P[n].m(d,null))}for(D(),n=E.length;n<P.length;n+=1)T(n);I(),!E.length&&H?H.p(t,e):E.length?H&&(H.d(1),H=null):((H=fe(t)).c(),H.m(d,null))}!t[0]&&t[12]&&t[12].length>=Ie?L?(L.p(t,e),4097&e[0]&&r(L,1)):((L=ye(t)).c(),r(L,1),L.m(o,null)):L&&(D(),c(L,1,1,()=>{L=null}),I())},i(t){if(!A){r(w.$$.fragment,t);for(let t=0;t<E.length;t+=1)r(P[t]);r(L),A=!0}},o(t){c(w.$$.fragment,t),P=P.filter(Boolean);for(let t=0;t<P.length;t+=1)c(P[t]);c(L),A=!1},d(t){t&&f(e),i(w),Ht(P,t),H&&H.d(),L&&L.d()}}}function me(t){let e;const n=new Ct({props:{label:Y.THREAD.NOT_FOUND}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ue(t){let e;const n=new Ct({props:{label:Y.LOADING.THREAD}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function fe(t){let e,n,s,l;const a=[pe,he],o=[];function i(t,e){return t[11]?0:t[0]?-1:1}return~(e=i(t))&&(n=o[e]=a[e](t)),{c(){n&&n.c(),s=d()},l(t){n&&n.l(t),s=d()},m(t,n){~e&&o[e].m(t,n),p(t,s,n),l=!0},p(t,l){let $=e;(e=i(t))===$?~e&&o[e].p(t,l):(n&&(D(),c(o[$],1,1,()=>{o[$]=null}),I()),~e?((n=o[e])||(n=o[e]=a[e](t)).c(),r(n,1),n.m(s.parentNode,s)):n=null)},i(t){l||(r(n),l=!0)},o(t){c(n),l=!1},d(t){~e&&o[e].d(t),t&&f(s)}}}function he(t){let e;const n=new Ct({props:{$$slots:{default:[ve]},$$scope:{ctx:t}}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};512&e[0]|512&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function pe(t){let e;const n=new Ct({props:{label:Y.LOADING.THREAD_ITEMS}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ge(t){let e,n,s,l,a,r;return{c(){e=v("be the first to "),n=$("a"),s=v("Leave a Reply"),this.h()},l(t){e=A(t,"be the first to "),n=m(t,"A",{href:!0});var l=u(n);s=A(l,"Leave a Reply"),l.forEach(f),this.h()},h(){h(n,"href",l=location.href)},m(l,o){p(l,e,o),p(l,n,o),g(n,s),a||(r=et(n,"click",t[31]),a=!0)},p:o,d(t){t&&f(e),t&&f(n),a=!1,r()}}}function ve(t){let e,n,s,l,a=Y.THREAD.NO_POSTS+"",o=!t[9]&&ge(t);return{c(){e=v(a),n=$("br"),s=y(),o&&o.c(),l=y()},l(t){e=A(t,a),n=m(t,"BR",{}),s=b(t),o&&o.l(t),l=b(t)},m(t,a){p(t,e,a),p(t,n,a),p(t,s,a),o&&o.m(t,a),p(t,l,a)},p(t,e){t[9]?o&&(o.d(1),o=null):o?o.p(t,e):((o=ge(t)).c(),o.m(l.parentNode,l))},d(t){t&&f(e),t&&f(n),t&&f(s),o&&o.d(t),t&&f(l)}}}function Ae(t){let e;const n=new Rt({props:{post:t[37],type:"threadPost"}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p(t,e){const s={};4096&e[0]&&(s.post=t[37]),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ye(t){let e;const n=new Mt({props:{onClick:t[15],icon:Yt,label:Y.THREAD.REPLY}});return{c(){s(n.$$.fragment)},l(t){l(n.$$.fragment,t)},m(t,s){a(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function be(t){let e,n,s,l;const a=[ue,me,de],o=[];function i(t,e){return t[10]?0:t[13]?2:1}return e=i(t),n=o[e]=a[e](t),{c(){n.c(),s=d()},l(t){n.l(t),s=d()},m(t,n){o[e].m(t,n),p(t,s,n),l=!0},p(t,l){let $=e;(e=i(t))===$?o[e].p(t,l):(D(),c(o[$],1,1,()=>{o[$]=null}),I(),(n=o[e])||(n=o[e]=a[e](t)).c(),r(n,1),n.m(s.parentNode,s))},i(t){l||(r(n),l=!0)},o(t){c(n),l=!1},d(t){o[e].d(t),t&&f(s)}}}function we(t){let e,n;function o(e){t[33].call(null,e)}let $={newPostMessage:t[1],onClick:t[15],placeholderLabel:Y.THREAD.REPLY_PLACEHOLDER};void 0!==t[7]&&($.element=t[7]);const d=new Vt({props:$});return pt.push(()=>gt(d,"element",o)),{c(){s(d.$$.fragment)},l(t){l(d.$$.fragment,t)},m(t,e){a(d,t,e),n=!0},p(t,n){const s={};2&n[0]&&(s.newPostMessage=t[1]),!e&&128&n[0]&&(e=!0,s.element=t[7],vt(()=>e=!1)),d.$set(s)},i(t){n||(r(d.$$.fragment,t),n=!0)},o(t){c(d.$$.fragment,t),n=!1},d(t){i(d,t)}}}function De(t){let e,n,o,d,v,A,E,P,T,H;function L(e){t[32].call(null,e)}document.title=e=t[8]+"Flock";let C={id:"thread",anchorToBottom:t[14],bottomOffset:t[5],disabledMinHeight:t[0],$$slots:{default:[be]},$$scope:{ctx:t}};void 0!==t[4]&&(C.scrollRegion=t[4]);const N=new Lt({props:C});pt.push(()=>gt(N,"scrollRegion",L));let M=!t[0]&&t[13]&&!t[10]&&we(t);function V(e){t[34].call(null,e)}function R(e){t[35].call(null,e)}function S(e){t[36].call(null,e)}let j={shown:t[0],inlineComponent:!0};void 0!==t[1]&&(j.message=t[1]),void 0!==t[2]&&(j.messageField=t[2]),void 0!==t[6]&&(j.element=t[6]);const F=new St({props:j});return pt.push(()=>gt(F,"message",V)),pt.push(()=>gt(F,"messageField",R)),pt.push(()=>gt(F,"element",S)),F.$on("hide",t[16]),F.$on("resize",t[17]),{c(){n=y(),o=$("div"),s(N.$$.fragment),v=y(),M&&M.c(),A=y(),s(F.$$.fragment),this.h()},l(t){at('[data-svelte="svelte-pjz2s7"]',document.head).forEach(f),n=b(t),o=m(t,"DIV",{class:!0});var e=u(o);l(N.$$.fragment,e),v=b(e),M&&M.l(e),A=b(e),l(F.$$.fragment,e),e.forEach(f),this.h()},h(){h(o,"class","content svelte-1qcydxp"),w(o,"showAddPost",t[0])},m(t,e){p(t,n,e),p(t,o,e),a(N,o,null),g(o,v),M&&M.m(o,null),g(o,A),a(F,o,null),H=!0},p(t,n){(!H||256&n[0])&&e!==(e=t[8]+"Flock")&&(document.title=e);const s={};16384&n[0]&&(s.anchorToBottom=t[14]),32&n[0]&&(s.bottomOffset=t[5]),1&n[0]&&(s.disabledMinHeight=t[0]),15873&n[0]|512&n[1]&&(s.$$scope={dirty:n,ctx:t}),!d&&16&n[0]&&(d=!0,s.scrollRegion=t[4],vt(()=>d=!1)),N.$set(s),t[0]||!t[13]||t[10]?M&&(D(),c(M,1,1,()=>{M=null}),I()):M?(M.p(t,n),9217&n[0]&&r(M,1)):((M=we(t)).c(),r(M,1),M.m(o,A));const l={};1&n[0]&&(l.shown=t[0]),!E&&2&n[0]&&(E=!0,l.message=t[1],vt(()=>E=!1)),!P&&4&n[0]&&(P=!0,l.messageField=t[2],vt(()=>P=!1)),!T&&64&n[0]&&(T=!0,l.element=t[6],vt(()=>T=!1)),F.$set(l),1&n[0]&&w(o,"showAddPost",t[0])},i(t){H||(r(N.$$.fragment,t),r(M),r(F.$$.fragment,t),H=!0)},o(t){c(N.$$.fragment,t),c(M),c(F.$$.fragment,t),H=!1},d(t){t&&f(n),t&&f(o),i(N),M&&M.d(),i(F)}}}const Ie=3;function Ee(t,e,n){let s,l,a,r,c,i,$,d,m,u,f,h=o,p=()=>(h(),h=C(y,t=>n(12,m=t)),y);E(t,P,t=>n(20,s=t)),E(t,At,t=>n(21,l=t)),E(t,yt,t=>n(22,a=t)),E(t,bt,t=>n(23,r=t)),E(t,T,t=>n(24,c=t)),E(t,H,t=>n(25,i=t)),E(t,wt,t=>n(26,$=t)),E(t,Dt,t=>n(27,d=t)),E(t,It,t=>n(14,u=t)),E(t,rt,t=>n(28,f=t)),t.$$.on_destroy.push(()=>h());let g=!1,v="",A=null;ot.on("newThreadPost",w),J(rt,f="threadPost"),ct(),it();let y=K([]);function b(t){Et(t),q()}async function w(){n(0,g=!0),A&&(await O(),A.focus())}p();let D,I,L=null,N=0,M=null,V=null;async function R(){await O(),n(5,N=g?M&&M.offsetHeight||0:V&&V.offsetHeight||0),0!==N&&g&&j()}async function j(){L&&(await O(),"undefined"!=typeof window&&(window.setTimeout(()=>{L&&L.scrollTo(0,L.scrollHeight)},250),window.setTimeout(()=>{L&&L.scrollTo(0,L.scrollHeight)},500)),L&&L.scrollTo(0,L.scrollHeight))}$t(()=>{D=Pt({postId:r}),I=Pt({threadId:r},S.REPLY_VIEWED_DELAY)}),dt(()=>{Tt(D),Tt(I)});let F,B,k,x,W;return t.$$.update=(()=>{1048576&t.$$.dirty[0]&&n(8,F=s&&s.title&&s.title+" - "||""),1048576&t.$$.dirty[0]&&n(9,B=s&&s.archived||!1),267386880&t.$$.dirty[0]&&n(10,k=l&&(!a||a.id!==r)||!mt(c,i,$)||!s&&d),2101248&t.$$.dirty[0]&&n(11,x=l&&(!m||!m.length)),4194304&t.$$.dirty[0]&&n(13,W=a&&a.id),22544&t.$$.dirty[0]&&u&&L&&!x&&m&&(async()=>{await O(),j()})(),8388608&t.$$.dirty[0]&&p(n(3,y=ut({threadId:r,type:"threadPost"}))),4194304&t.$$.dirty[0]&&ft(a),4096&t.$$.dirty[0]&&ht(m),1&t.$$.dirty[0]&&R()}),[g,v,A,y,L,N,M,V,F,B,k,x,m,W,u,b,function(){n(0,g=!1)},R,D,I,s,l,a,r,c,i,$,d,f,w,j,t=>(b(),Et(t)),function(t){n(4,L=t)},function(t){n(7,V=t)},function(t){n(1,v=t)},function(t){n(2,A=t)},function(t){n(6,M=t)}]}export default class extends t{constructor(t){super(),e(this,t,Ee,De,n,{},[-1,-1])}}
