import{S as t,i as e,s as n,c as s,a,m as l,x as o,t as r,b as c,d as i,W as $,p as d,H as u,r as m,u as f,I as p,g,v as h,j as A,w as v,e as y,f as b,h as w,E as I,F as D,G as E,y as k,k as P,J as H,l as T,a7 as C,Z as N,Y as L,a8 as j,Q as M,aC as S,a9 as V,ac as R,ad as B,ae as O,af as F,ab as W,aa as x,N as Y,ai as z,M as K,al as G,b2 as Q,U as Z,aj as U,aA as J,cp as q,cq as _,am as X,a1 as tt,an as et,ao as nt,ap as st,cr as at,n as lt,q as ot,aT as rt,as as ct,cs as it,o as $t,bj as dt,a0 as ut,at as mt,ct as ft,au as pt,aI as gt,aJ as ht,aK as At,az as vt,cf as yt,ce as bt,_ as wt,ay as It,cu as Dt,cv as Et,cw as kt,a3 as Pt}from"./client.08fbf155.js";import"./Hotspot.074b42c7.js";import{C as Ht}from"./ContentLoader.87ce0ad1.js";import{N as Tt}from"./NewPostButton.e92a6f59.js";import"./Counter.3c9c7a90.js";import{a as Ct,P as Nt}from"./PostItem.cc535a7c.js";import"./post_like_selected.c79724df.js";import"./SearchBar.ffa59840.js";import"./next_arrow.b1598f96.js";import{F as Lt,c as jt,A as Mt,a as St,b as Vt,L as Rt,S as Bt}from"./ActionBar.d39196be.js";import"./send.53c7ac4a.js";import"./ImageSelectionBox.0047d18c.js";import"./save.71e29683.js";import{E as Ot}from"./EditPost.d6c88a58.js";const Ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA2CAYAAACbZ/oUAAADaklEQVRoQ+2Zi43UMBCG/6uA6wCoAKgAqACoAKgAqADoACoAOoAKgA6ggrsODioAfVIGzXrt2PHjiLIZabUrbWzP53naOdOJydmJ8WoH3rrFdwvvFt7YDuwu3WDQc0kvJD2Q9FnS+4a5hg3tZeG7kr5KAtoE6CfDNK+cuAdwDNbUuSfpR6VuQ4a1AoewvyX9knRz0vahpG9DNK+ctAU4Bkv8vpN0f9LnraQ3lboNGVYLnILFfbHopoDnYLHKpoBzsJsCLoENgS0OSWS4++X0wQu+DwnSzKSlMVwKy3IfJT0thKFWA/9pyu6Fw+ofKwFeAosmPA+IlaZS7RjDZn0pHVDzXA54KWxKB+ahC+Ob0sV3akNwe0oZVu8uc8C9YFNK35L0WNIzSXciDxHzr3o3Ling0bAhH+u9TMQ+bg44ia9ZYsC43oU7CNAu4obX0ROzNuCvAzLc/HkPa8eAiR9b8DphPSPuTov6KABnM5qOnTFgrMuCCK7Ewv9LiG/Wv+EUwMWxdpXEgP+4mW5PjULV5J0GsfmULJ/YqqFzwGs5zxLbWNo3NFXQMWDf/BMvxM1aJOziFkPHgImbD46QeGHitUgIvejMnarD3sqArh2auzPiPCspYGIGaJ8o1gZNX2D60ZSQYLPNyVxrORKaubPKZczFHDQkVrIwEHdos5I7PNRC0ypyzUNJ4bcdHlLKYC07L6P4z8INoQPketgk64U5YCZaCh0mvdymp/63szLHRSyZEp/EeI5SmvSeEuCl0CgatoS10DbO3mTErnxD157N2qXAS6B9hucah97crnhi4Lg9H9zTvlNnZdweoDAj+/5/NoEtAS6F7nFraRcFqbMyaxCv3tX5bRuVjOWlwCXQPYC9J2B5wGP3ZFgWiyPeysBTpo6kBjgH3RvYlMbdgQrBcXMrR1eOMHoOqAWeg8Ya9uZhxPHSXuf4poi4BdrfmnAnhi4H0gKcgvYLjHyZ5l3Y1qSEWYWIunUr8Bw0tyW4YWtHNVfS7OW7vyDwzx+5dQ9ggw7Pq9mup7U4T+PJ6DQfsZvPo5DqBewTC1a1VyqdmLLTxLpBBh3FcW/grGYDH4hBk8Fx63+yJWCgcG/Koo/pA8atAQMdnqA2Dww09ZcPPffBNfMWLTybJnbggVl0FVPvFl6FGQYqcXIW/gs1ftA35nDwRwAAAABJRU5ErkJggg==";function Wt(t){let e;const n=new Y({props:{className:"optionsButton",icon:z,onClick:t[23]}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function xt(t){let e;const n=new Y({props:{className:"followButton",onClick:t[24],icon:t[4]?Lt:jt}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p(t,e){const s={};16&e[0]&&(s.icon=t[4]?Lt:jt),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Yt(t){let e,n,s=K.POST.EDITED+"";return{c(){e=d("span"),n=u(s),this.h()},l(t){e=m(t,"SPAN",{class:!0,title:!0});var a=f(e);n=p(a,s),a.forEach(g),this.h()},h(){h(e,"class","edited svelte-gkb4jk"),h(e,"title",t[13])},m(t,s){A(t,e,s),v(e,n)},p(t,n){8192&n[0]&&h(e,"title",t[13])},d(t){t&&g(e)}}}function zt(t){let e;return{c(){e=d("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),f(e).forEach(g),this.h()},h(){h(e,"class","title svelte-gkb4jk")},m(n,s){A(n,e,s),e.innerHTML=t[18]},p(t,n){262144&n[0]&&(e.innerHTML=t[18])},d(t){t&&g(e)}}}function Kt(t){let e;return{c(){e=d("div"),this.h()},l(t){e=m(t,"DIV",{class:!0}),f(e).forEach(g),this.h()},h(){h(e,"class","message svelte-gkb4jk")},m(n,s){A(n,e,s),e.innerHTML=t[19]},p(t,n){524288&n[0]&&(e.innerHTML=t[19])},d(t){t&&g(e)}}}function Gt(t){let e,n;return{c(){e=d("img"),this.h()},l(t){e=m(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"class","postImage svelte-gkb4jk"),e.src!==(n=t[2])&&h(e,"src",n),h(e,"alt","post")},m(t,n){A(t,e,n)},p(t,s){4&s[0]&&e.src!==(n=t[2])&&h(e,"src",n)},d(t){t&&g(e)}}}function Qt(t){let e;const n=new Mt({props:{targetItemId:t[6],targetItem:t[5],$$slots:{default:[qt],buttonRight:[Jt],buttonMiddle:[Ut],buttonLeft:[Zt]},$$scope:{ctx:t}}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p(t,e){const s={};64&e[0]&&(s.targetItemId=t[6]),32&e[0]&&(s.targetItem=t[5]),96&e[0]|4&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function Zt(t){let e,n;const o=new St({props:{label:"like",icon:Vt,selectedIcon:Rt,targetItem:t[5],targetItemId:t[6],action:G,targetItemProperty:"liked",countProperty:"likeCount"}});return{c(){e=d("div"),s(o.$$.fragment),this.h()},l(t){e=m(t,"DIV",{slot:!0});var n=f(e);a(o.$$.fragment,n),n.forEach(g),this.h()},h(){h(e,"slot","buttonLeft")},m(t,s){A(t,e,s),l(o,e,null),n=!0},p(t,e){const n={};32&e[0]&&(n.targetItem=t[5]),64&e[0]&&(n.targetItemId=t[6]),o.$set(n)},i(t){n||(r(o.$$.fragment,t),n=!0)},o(t){c(o.$$.fragment,t),n=!1},d(t){t&&g(e),i(o)}}}function Ut(t){let e,n;const $=new St({props:{label:"share",icon:Bt,action:t[22]}});return{c(){e=d("div"),s($.$$.fragment),this.h()},l(t){e=m(t,"DIV",{slot:!0});var n=f(e);a($.$$.fragment,n),n.forEach(g),this.h()},h(){h(e,"slot","buttonMiddle")},m(t,s){A(t,e,s),l($,e,null),n=!0},p:o,i(t){n||(r($.$$.fragment,t),n=!0)},o(t){c($.$$.fragment,t),n=!1},d(t){t&&g(e),i($)}}}function Jt(t){let e,n;const $=new St({props:{label:"reply",icon:Ft,action:t[21]}});return{c(){e=d("div"),s($.$$.fragment),this.h()},l(t){e=m(t,"DIV",{slot:!0});var n=f(e);a($.$$.fragment,n),n.forEach(g),this.h()},h(){h(e,"slot","buttonRight")},m(t,s){A(t,e,s),l($,e,null),n=!0},p:o,i(t){n||(r($.$$.fragment,t),n=!0)},o(t){c($.$$.fragment,t),n=!1},d(t){t&&g(e),i($)}}}function qt(t){let e,n;return{c(){e=y(),n=y()},l(t){e=w(t),n=w(t)},m(t,s){A(t,e,s),A(t,n,s)},p:o,i:o,o:o,d(t){t&&g(e),t&&g(n)}}}function _t(t){let e,n,o,T,C,N,L,j,M,S,V,R,B,O,F,W,x,Y,z,K,G,Z=(t[10]||t[11])&&Wt(t),U=t[11]&&xt(t);const J=new $({props:{user:t[1],onClick:t[7]?t[20]:null,useThumb:!0}});let q=t[12]&&Yt(t),_=t[14]&&zt(t),X=t[15]&&Kt(t),tt=t[16]&&Gt(t),et=!t[3]&&Qt(t);return{c(){e=d("div"),Z&&Z.c(),n=y(),U&&U.c(),o=y(),T=d("div"),C=d("div"),N=y(),L=d("div"),j=u(t[9]),M=y(),s(J.$$.fragment),S=y(),V=d("div"),R=d("div"),O=b(),q&&q.c(),F=y(),_&&_.c(),W=y(),X&&X.c(),x=y(),tt&&tt.c(),Y=y(),et&&et.c(),this.h()},l(s){e=m(s,"DIV",{class:!0});var l=f(e);Z&&Z.l(l),n=w(l),U&&U.l(l),o=w(l),T=m(l,"DIV",{class:!0});var r=f(T);C=m(r,"DIV",{class:!0}),f(C).forEach(g),N=w(r),L=m(r,"DIV",{class:!0});var c=f(L);j=p(c,t[9]),c.forEach(g),r.forEach(g),M=w(l),a(J.$$.fragment,l),S=w(l),V=m(l,"DIV",{class:!0});var i=f(V);R=m(i,"DIV",{class:!0});var $=f(R);O=b(),q&&q.l($),$.forEach(g),F=w(i),_&&_.l(i),W=w(i),X&&X.l(i),i.forEach(g),x=w(l),tt&&tt.l(l),Y=w(l),et&&et.l(l),l.forEach(g),this.h()},h(){h(C,"class","userName svelte-gkb4jk"),I(C,"button",t[7]),h(L,"class","username svelte-gkb4jk"),I(L,"button",t[7]),h(T,"class","info svelte-gkb4jk"),B=new Q(O),h(R,"class","date svelte-gkb4jk"),h(V,"class","postContent svelte-gkb4jk"),h(e,"class","threadPost svelte-gkb4jk")},m(s,a){A(s,e,a),Z&&Z.m(e,null),v(e,n),U&&U.m(e,null),v(e,o),v(e,T),v(T,C),C.innerHTML=t[8],v(T,N),v(T,L),v(L,j),v(e,M),l(J,e,null),v(e,S),v(e,V),v(V,R),B.m(t[17],R),v(R,O),q&&q.m(R,null),v(V,F),_&&_.m(V,null),v(V,W),X&&X.m(V,null),v(e,x),tt&&tt.m(e,null),v(e,Y),et&&et.m(e,null),z=!0,K||(G=D(T,"click",function(){E(t[7]?t[20]:null)&&(t[7]?t[20]:null).apply(this,arguments)}),K=!0)},p(s,a){(t=s)[10]||t[11]?Z?(Z.p(t,a),3072&a[0]&&r(Z,1)):((Z=Wt(t)).c(),r(Z,1),Z.m(e,n)):Z&&(k(),c(Z,1,1,()=>{Z=null}),P()),t[11]?U?(U.p(t,a),2048&a[0]&&r(U,1)):((U=xt(t)).c(),r(U,1),U.m(e,o)):U&&(k(),c(U,1,1,()=>{U=null}),P()),(!z||256&a[0])&&(C.innerHTML=t[8]),128&a[0]&&I(C,"button",t[7]),(!z||512&a[0])&&H(j,t[9]),128&a[0]&&I(L,"button",t[7]);const l={};2&a[0]&&(l.user=t[1]),128&a[0]&&(l.onClick=t[7]?t[20]:null),J.$set(l),(!z||131072&a[0])&&B.p(t[17]),t[12]?q?q.p(t,a):((q=Yt(t)).c(),q.m(R,null)):q&&(q.d(1),q=null),t[14]?_?_.p(t,a):((_=zt(t)).c(),_.m(V,W)):_&&(_.d(1),_=null),t[15]?X?X.p(t,a):((X=Kt(t)).c(),X.m(V,null)):X&&(X.d(1),X=null),t[16]?tt?tt.p(t,a):((tt=Gt(t)).c(),tt.m(e,Y)):tt&&(tt.d(1),tt=null),t[3]?et&&(k(),c(et,1,1,()=>{et=null}),P()):et?(et.p(t,a),8&a[0]&&r(et,1)):((et=Qt(t)).c(),r(et,1),et.m(e,null))},i(t){z||(r(Z),r(U),r(J.$$.fragment,t),r(et),z=!0)},o(t){c(Z),c(U),c(J.$$.fragment,t),c(et),z=!1},d(t){t&&g(e),Z&&Z.d(),U&&U.d(),i(J),q&&q.d(),_&&_.d(),X&&X.d(),tt&&tt.d(),et&&et.d(),K=!1,G()}}}function Xt(t,e,n){let s,a,l,r,c,i,$=o,d=()=>($(),$=M(f,t=>n(5,l=t)),f),u=o,m=()=>(u(),u=M(p,t=>n(29,r=t)),p);T(t,C,t=>n(25,s=t)),T(t,N,t=>n(27,a=t)),T(t,L,t=>n(30,c=t)),T(t,j,t=>n(32,i=t)),t.$$.on_destroy.push(()=>$()),t.$$.on_destroy.push(()=>u());let{post:f}=e;d();let p=Z([]);m();let g,h,A,v,y,b,w,I,D,E,k,P,H,Y,z,K,G,Q,lt,ot=Ct;return t.$set=(t=>{"post"in t&&d(n(0,f=t.post))}),t.$$.update=(()=>{33554432&t.$$.dirty[0]&&n(3,g=s&&s.archived||!1),167772160&t.$$.dirty[0]&&n(26,h=a&&s&&S(s)),32&t.$$.dirty[0]&&n(4,A=l&&l.following||!1),32&t.$$.dirty[0]&&n(28,v=l&&l.userId||null),32&t.$$.dirty[0]&&n(6,y=l&&l.id||null),268435456&t.$$.dirty[0]&&m(n(1,p=V(v))),536870912&t.$$.dirty[0]&&n(7,b=r&&r.name||!1),536870912&t.$$.dirty[0]&&n(8,w=r&&r.name||"&nbsp;"),536870912&t.$$.dirty[0]&&n(9,I=r&&r.username&&"@"+r.username||""),1073741856&t.$$.dirty[0]&&n(10,D=l&&l.userId&&l.userId===c||!1),67109888&t.$$.dirty[0]&&n(11,E=!D&&!h),32&t.$$.dirty[0]&&n(12,k=l&&l.edited&&R(l.createdAt,l.editedAt)>B.SHOW_EDITED_MIN_TIME||!1),4128&t.$$.dirty[0]&&n(13,P=k&&l.editedAt&&O(l.editedAt)||""),32&t.$$.dirty[0]&&n(14,H=l&&l.title||""),32&t.$$.dirty[0]&&n(15,Y=l&&l.message||""),32&t.$$.dirty[0]&&n(16,z=l&&l.image||""),32&t.$$.dirty[0]&&n(31,K=l&&l.createdAt||""),1&t.$$.dirty[1]&&n(17,G=K&&O(K,"ddd d MMM")+" at "+O(K,"h:mmtt")||"&nbsp;"),16384&t.$$.dirty[0]&&n(18,Q=F(H)),32768&t.$$.dirty[0]&&n(19,lt=F(Y)),65536&t.$$.dirty[0]&&(async()=>{await W(),n(2,ot=Ct),await W(),setTimeout(()=>{n(2,ot=x(z))},0)})()}),[f,p,ot,g,A,l,y,b,w,I,D,E,k,P,H,Y,z,G,Q,lt,function(){b&&U(v)},function(){J()&&q()},function(){_(y)},function(){const t=X(y);if(t){const e=tt(t);et(j,i=e),nt(st.THREAD_POST_OPTIONS)}},function(){at(y,A)}]}class te extends t{constructor(t){super(),e(this,t,Xt,_t,n,{post:0},[-1,-1])}}function ee(t,e,n){const s=t.slice();return s[28]=e[n],s}function ne(t){let e,n,o,$,u,p;const b=new te({props:{post:yt}});let I=t[10],D=[];for(let e=0;e<I.length;e+=1)D[e]=$e(ee(t,I,e));const E=t=>c(D[t],1,1,()=>{D[t]=null});let H=null;I.length||(H=le(t));let T=!t[0]&&t[10]&&t[10].length>=pe&&de(t);return{c(){e=d("div"),s(b.$$.fragment),n=y(),o=d("div"),$=d("div");for(let t=0;t<D.length;t+=1)D[t].c();H&&H.c(),u=y(),T&&T.c(),this.h()},l(t){e=m(t,"DIV",{class:!0});var s=f(e);a(b.$$.fragment,s),n=w(s),o=m(s,"DIV",{class:!0});var l=f(o);$=m(l,"DIV",{class:!0});var r=f($);for(let t=0;t<D.length;t+=1)D[t].l(r);H&&H.l(r),r.forEach(g),u=w(l),T&&T.l(l),l.forEach(g),s.forEach(g),this.h()},h(){h($,"class","postsContainer svelte-1gwl1di"),h(o,"class","contentContainer svelte-1gwl1di"),h(e,"class","scrollContent")},m(t,s){A(t,e,s),l(b,e,null),v(e,n),v(e,o),v(o,$);for(let t=0;t<D.length;t+=1)D[t].m($,null);H&&H.m($,null),v(o,u),T&&T.m(o,null),p=!0},p(t,e){if(5697&e[0]){let n;for(I=t[10],n=0;n<I.length;n+=1){const s=ee(t,I,n);D[n]?(D[n].p(s,e),r(D[n],1)):(D[n]=$e(s),D[n].c(),r(D[n],1),D[n].m($,null))}for(k(),n=I.length;n<D.length;n+=1)E(n);P(),!I.length&&H?H.p(t,e):I.length?H&&(H.d(1),H=null):((H=le(t)).c(),H.m($,null))}!t[0]&&t[10]&&t[10].length>=pe?T?(T.p(t,e),1025&e[0]&&r(T,1)):((T=de(t)).c(),r(T,1),T.m(o,null)):T&&(k(),c(T,1,1,()=>{T=null}),P())},i(t){if(!p){r(b.$$.fragment,t);for(let t=0;t<I.length;t+=1)r(D[t]);r(T),p=!0}},o(t){c(b.$$.fragment,t),D=D.filter(Boolean);for(let t=0;t<D.length;t+=1)c(D[t]);c(T),p=!1},d(t){t&&g(e),i(b),Pt(D,t),H&&H.d(),T&&T.d()}}}function se(t){let e;const n=new Ht({props:{label:K.THREAD.NOT_FOUND}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ae(t){let e;const n=new Ht({props:{label:K.LOADING.THREAD}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function le(t){let e,n,s,a;const l=[re,oe],o=[];function i(t,e){return t[9]?0:t[0]?-1:1}return~(e=i(t))&&(n=o[e]=l[e](t)),{c(){n&&n.c(),s=b()},l(t){n&&n.l(t),s=b()},m(t,n){~e&&o[e].m(t,n),A(t,s,n),a=!0},p(t,a){let $=e;(e=i(t))===$?~e&&o[e].p(t,a):(n&&(k(),c(o[$],1,1,()=>{o[$]=null}),P()),~e?((n=o[e])||(n=o[e]=l[e](t)).c(),r(n,1),n.m(s.parentNode,s)):n=null)},i(t){a||(r(n),a=!0)},o(t){c(n),a=!1},d(t){~e&&o[e].d(t),t&&g(s)}}}function oe(t){let e;const n=new Ht({props:{$$slots:{default:[ie]},$$scope:{ctx:t}}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p(t,e){const s={};64&e[0]|1&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function re(t){let e;const n=new Ht({props:{label:K.LOADING.THREAD_ITEMS}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ce(t){let e,n,s,a,l;return{c(){e=u("be the first to "),n=d("a"),s=u("Leave a Reply"),this.h()},l(t){e=p(t,"be the first to "),n=m(t,"A",{href:!0});var a=f(n);s=p(a,"Leave a Reply"),a.forEach(g),this.h()},h(){h(n,"href","javascript:void(0)")},m(o,r){A(o,e,r),A(o,n,r),v(n,s),a||(l=D(n,"click",t[12]),a=!0)},p:o,d(t){t&&g(e),t&&g(n),a=!1,l()}}}function ie(t){let e,n,s,a,l=K.THREAD.NO_POSTS+"",o=!t[6]&&ce(t);return{c(){e=u(l),n=d("br"),s=y(),o&&o.c(),a=y()},l(t){e=p(t,l),n=m(t,"BR",{}),s=w(t),o&&o.l(t),a=w(t)},m(t,l){A(t,e,l),A(t,n,l),A(t,s,l),o&&o.m(t,l),A(t,a,l)},p(t,e){t[6]?o&&(o.d(1),o=null):o?o.p(t,e):((o=ce(t)).c(),o.m(a.parentNode,a))},d(t){t&&g(e),t&&g(n),t&&g(s),o&&o.d(t),t&&g(a)}}}function $e(t){let e;const n=new Nt({props:{post:t[28],type:"threadPost"}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p(t,e){const s={};1024&e[0]&&(s.post=t[28]),n.$set(s)},i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function de(t){let e;const n=new Tt({props:{onClick:t[12],icon:Ft,label:K.THREAD.REPLY}});return{c(){s(n.$$.fragment)},l(t){a(n.$$.fragment,t)},m(t,s){l(n,t,s),e=!0},p:o,i(t){e||(r(n.$$.fragment,t),e=!0)},o(t){c(n.$$.fragment,t),e=!1},d(t){i(n,t)}}}function ue(t){let e,n,s,a;const l=[ae,se,ne],o=[];function i(t,e){return t[7]?0:t[8]&&t[8].id?2:1}return e=i(t),n=o[e]=l[e](t),{c(){n.c(),s=b()},l(t){n.l(t),s=b()},m(t,n){o[e].m(t,n),A(t,s,n),a=!0},p(t,a){let $=e;(e=i(t))===$?o[e].p(t,a):(k(),c(o[$],1,1,()=>{o[$]=null}),P(),(n=o[e])||(n=o[e]=l[e](t)).c(),r(n,1),n.m(s.parentNode,s))},i(t){a||(r(n),a=!0)},o(t){c(n),a=!1},d(t){o[e].d(t),t&&g(s)}}}function me(t){let e,n;function o(e){t[27].call(null,e)}let $={inlineComponent:!0};void 0!==t[4]&&($.element=t[4]);const d=new Ot({props:$});return gt.push(()=>ht(d,"element",o)),d.$on("hide",t[13]),d.$on("resize",t[14]),{c(){s(d.$$.fragment)},l(t){a(d.$$.fragment,t)},m(t,e){l(d,t,e),n=!0},p(t,n){const s={};!e&&16&n[0]&&(e=!0,s.element=t[4],At(()=>e=!1)),d.$set(s)},i(t){n||(r(d.$$.fragment,t),n=!0)},o(t){c(d.$$.fragment,t),n=!1},d(t){i(d,t)}}}function fe(t){let e,n,o,$,u,p;function b(e){t[26].call(null,e)}document.title=e=t[5]+"Flock";let D={id:"thread",anchorToBottom:t[11],bottomOffset:t[3],disabledMinHeight:t[0],$$slots:{default:[ue]},$$scope:{ctx:t}};void 0!==t[2]&&(D.scrollRegion=t[2]);const E=new lt({props:D});gt.push(()=>ht(E,"scrollRegion",b));let H=t[0]&&me(t);return{c(){n=y(),o=d("div"),s(E.$$.fragment),u=y(),H&&H.c(),this.h()},l(t){ot('[data-svelte="svelte-pjz2s7"]',document.head).forEach(g),n=w(t),o=m(t,"DIV",{class:!0});var e=f(o);a(E.$$.fragment,e),u=w(e),H&&H.l(e),e.forEach(g),this.h()},h(){h(o,"class","content svelte-1gwl1di"),I(o,"showAddPost",t[0])},m(t,e){A(t,n,e),A(t,o,e),l(E,o,null),v(o,u),H&&H.m(o,null),p=!0},p(t,n){(!p||32&n[0])&&e!==(e=t[5]+"Flock")&&(document.title=e);const s={};2048&n[0]&&(s.anchorToBottom=t[11]),8&n[0]&&(s.bottomOffset=t[3]),1&n[0]&&(s.disabledMinHeight=t[0]),1985&n[0]|1&n[1]&&(s.$$scope={dirty:n,ctx:t}),!$&&4&n[0]&&($=!0,s.scrollRegion=t[2],At(()=>$=!1)),E.$set(s),t[0]?H?(H.p(t,n),1&n[0]&&r(H,1)):((H=me(t)).c(),r(H,1),H.m(o,null)):H&&(k(),c(H,1,1,()=>{H=null}),P()),1&n[0]&&I(o,"showAddPost",t[0])},i(t){p||(r(E.$$.fragment,t),r(H),p=!0)},o(t){c(E.$$.fragment,t),c(H),p=!1},d(t){t&&g(n),t&&g(o),i(E),H&&H.d()}}}const pe=3;function ge(t,e,n){let s,a,l,r,c,i,$,d,u,m,f=o,p=()=>(f(),f=M(h,t=>n(10,u=t)),h);T(t,C,t=>n(17,s=t)),T(t,vt,t=>n(18,a=t)),T(t,yt,t=>n(8,l=t)),T(t,bt,t=>n(19,r=t)),T(t,N,t=>n(20,c=t)),T(t,L,t=>n(21,i=t)),T(t,wt,t=>n(22,$=t)),T(t,It,t=>n(23,d=t)),T(t,Dt,t=>n(11,m=t)),t.$$.on_destroy.push(()=>f());let g=!1;rt.on("newThreadPost",A),ct(),it();let h=Z([]);function A(){n(0,g=!0)}p();let v,y,b,w,I,D,E=null,k=0,P=null;async function H(){await W(),n(3,k=g&&P&&P.offsetHeight||0),0!==k&&j()}async function j(){E&&(await W(),"undefined"!=typeof window&&(window.setTimeout(()=>{E&&E.scrollTo(0,E.scrollHeight)},250),window.setTimeout(()=>{E&&E.scrollTo(0,E.scrollHeight)},500)),E&&E.scrollTo(0,E.scrollHeight))}return $t(()=>{v=Et({postId:r}),y=Et({threadId:r},B.REPLY_VIEWED_DELAY)}),dt(()=>{kt(v),kt(y)}),t.$$.update=(()=>{131072&t.$$.dirty[0]&&n(5,b=s&&s.title&&s.title+" - "||""),131072&t.$$.dirty[0]&&n(6,w=s&&s.archived||!1),16646400&t.$$.dirty[0]&&n(7,I=a&&(!l||l.id!==r)||!ut(c,i,$)||!s&&d),263168&t.$$.dirty[0]&&n(9,D=a&&(!u||!u.length)),3588&t.$$.dirty[0]&&m&&E&&!D&&u&&(async()=>{await W(),j()})(),524288&t.$$.dirty[0]&&p(n(1,h=mt({threadId:r,type:"threadPost"}))),256&t.$$.dirty[0]&&ft(l),1024&t.$$.dirty[0]&&pt(u),1&t.$$.dirty[0]&&H()}),[g,h,E,k,P,b,w,I,l,D,u,m,function(){J()&&q()},function(){n(0,g=!1)},H,v,y,s,a,r,c,i,$,d,A,j,function(t){n(2,E=t)},function(t){n(4,P=t)}]}export default class extends t{constructor(t){super(),e(this,t,ge,fe,n,{},[-1,-1])}}
