import{S as t,i as e,s,q as r,C as l,r as n,u as o,D as i,d as a,v as c,B as f,b as $,E as u,t as m,c as h,F as g,o as d,m as p,L as S,I as y,ab as w,n as x,W as C,R as v,T as b,V as I}from"./client.9f5af520.js";import{S as j}from"./ScrollList.d5442d61.js";function B(t,e,s){const r=t.slice();return r[10]=e[s],r[12]=s,r}function E(t){let e,s=t[10]+"";return{c(){e=v(s)},l(t){e=b(t,s)},m(t,s){$(t,e,s)},p(t,r){8&r&&s!==(s=t[10]+"")&&I(e,s)},d(t){t&&a(e)}}}function D(t){let e;function s(...e){return t[8](t[10],...e)}const r=new C({props:{className:"filterButton "+((t[12]||t[1]?t[0].match(new RegExp("\\b"+t[10]+"\\b")):""===t[0])?"selectedItem":""),onClick:s,$$slots:{default:[E]},$$scope:{ctx:t}}});return{c(){l(r.$$.fragment)},l(t){i(r.$$.fragment,t)},m(t,s){u(r,t,s),e=!0},p(e,l){t=e;const n={};11&l&&(n.className="filterButton "+((t[12]||t[1]?t[0].match(new RegExp("\\b"+t[10]+"\\b")):""===t[0])?"selectedItem":"")),8&l&&(n.onClick=s),8200&l&&(n.$$scope={dirty:l,ctx:t}),r.$set(n)},i(t){e||(m(r.$$.fragment,t),e=!0)},o(t){h(r.$$.fragment,t),e=!1},d(t){g(r,t)}}}function R(t){let e,s,l=t[3],i=[];for(let e=0;e<l.length;e+=1)i[e]=D(B(t,l,e));const f=t=>h(i[t],1,1,()=>{i[t]=null});return{c(){e=r("div");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){e=n(t,"DIV",{class:!0});var s=o(e);for(let t=0;t<i.length;t+=1)i[t].l(s);s.forEach(a),this.h()},h(){c(e,"class","filterSet svelte-1f3uje5")},m(t,r){$(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);s=!0},p(t,s){if(27&s){let r;for(l=t[3],r=0;r<l.length;r+=1){const n=B(t,l,r);i[r]?(i[r].p(n,s),m(i[r],1)):(i[r]=D(n),i[r].c(),m(i[r],1),i[r].m(e,null))}for(S(),r=l.length;r<i.length;r+=1)f(r);y()}},i(t){if(!s){for(let t=0;t<l.length;t+=1)m(i[t]);s=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)h(i[t]);s=!1},d(t){t&&a(e),w(i,t)}}}function V(t){let e,s,d={showArrows:!t[1],$$slots:{default:[R]},$$scope:{ctx:t}};const p=new j({props:d});return t[9](p),{c(){e=r("div"),l(p.$$.fragment),this.h()},l(t){e=n(t,"DIV",{class:!0});var s=o(e);i(p.$$.fragment,s),s.forEach(a),this.h()},h(){c(e,"class","filterBar svelte-1f3uje5"),f(e,"isCategorySelector",t[1])},m(t,r){$(t,e,r),u(p,e,null),s=!0},p(t,[s]){const r={};2&s&&(r.showArrows=!t[1]),8203&s&&(r.$$scope={dirty:s,ctx:t}),p.$set(r),2&s&&f(e,"isCategorySelector",t[1])},i(t){s||(m(p.$$.fragment,t),s=!0)},o(t){h(p.$$.fragment,t),s=!1},d(s){s&&a(e),t[9](null),g(p)}}}function k(t,e,s){let{filterString:r=""}=e,{isCategorySelector:l=!1}=e,n=["design","arts","tech","environment","community","apps","games","music","media","education","food"];function o(t){if("all"===t)s(0,r="");else if(f){if(t){let e=r.trim().split(", ");"other"!==t&&"other"!==r||t===r||(e=[]);const l=e.indexOf(t);-1!==l?e.splice(l,1):e.push(t),e=e.filter(t=>t),s(0,r=e.join(", ").trim())}}else s(0,r=t)}let i,a=!1;d(()=>{s(5,a=!0)});let c,f;return t.$set=(t=>{"filterString"in t&&s(0,r=t.filterString),"isCategorySelector"in t&&s(1,l=t.isCategorySelector)}),t.$$.update=(()=>{2&t.$$.dirty&&s(3,c=l?[...n,"other"]:["all",...n]),2&t.$$.dirty&&(f=l),4&t.$$.dirty&&i&&i.resize(),37&t.$$.dirty&&a&&(async()=>{await p(),i&&i.scrollToSelectedItem()})()}),[r,l,i,c,o,a,f,n,(t,e)=>o(t),function(t){x[t?"unshift":"push"](()=>{s(2,i=t)})}]}class A extends t{constructor(t){super(),e(this,t,k,V,s,{filterString:0,isCategorySelector:1})}}export{A as F};
