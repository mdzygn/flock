import{S as a,i as e,s,q as t,R as l,z as r,C as n,H as c,r as o,u as i,T as f,d as u,A as $,D as p,x as d,b as m,E as I,t as v,c as E,F as h,J as g,Y as D,aU as L,cA as T,W as _,a1 as O,n as P,aA as b,v as R,av as j,l as y,aJ as z,ax as A,ac as F,K as x,a4 as C,a3 as S,$ as N,a_ as U,cB as V,cC as k,N as H,ai as w,ar as M,bW as B,V as W}from"./client.b937c12a.js";import{S as X}from"./Proxy.9d528d01.js";import"./Hotspot.02fef027.js";import{U as K,I as G,a as q,E as J}from"./ImageSelectionBox.c261bb91.js";import"./SearchBar.393201ad.js";import{S as Y}from"./add_small.fcdad09e.js";import"./LimitedTextfield.b3db2811.js";import{C as Q}from"./cancel.feaa218b.js";function Z(a){let e,s=W.EDIT_PROFILE.CONFIRM+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){m(a,e,s)},p:x,d(a){a&&u(e)}}}function aa(a){let e,s=W.EDIT_PROFILE.UPLOAD_PROFILE_IMAGE+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){m(a,e,s)},p:x,d(a){a&&u(e)}}}function ea(a){let e,s=W.EDIT_PROFILE.CANCEL+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){m(a,e,s)},p:x,d(a){a&&u(e)}}}function sa(a){let e,s=W.EDIT_PROFILE.CONFIRM+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){m(a,e,s)},p:x,d(a){a&&u(e)}}}function ta(a){let e,s,c,g,D,L,T,x,C,S,N,U,V,k,H,w,M,B,X,q,J,ta,la,ra,na,ca,oa,ia,fa,ua,$a,pa,da,ma,Ia,va,Ea,ha,ga,Da,La,Ta,_a,Oa,Pa,ba,Ra=W.EDIT_PROFILE.NAME+"",ja=W.EDIT_PROFILE.BIO+"",ya=W.EDIT_PROFILE.BIO_TIP+"",za=W.EDIT_PROFILE.COVER_IMAGE+"",Aa=W.EDIT_PROFILE.SKILLS+"",Fa=W.EDIT_PROFILE.SKILLS_TIP+"",xa=W.EDIT_PROFILE.LOCATION+"",Ca=W.EDIT_PROFILE.LOCATION_TIP+"";const Sa=new _({props:{className:"saveButton",onClick:a[12],icon:Y,disabled:!a[10],$$slots:{default:[Z]},$$scope:{ctx:a}}}),Na=new O({props:{user:a[0],onClick:a[13]}}),Ua=new _({props:{className:"uploadAvatarButton",onClick:a[15],icon:K,$$slots:{default:[aa]},$$scope:{ctx:a}}});function Va(e){a[27].call(null,e)}function ka(e){a[28].call(null,e)}let Ha={uploadType:"userCover",itemId:a[11]};void 0!==a[3]&&(Ha.image=a[3]),void 0!==a[6]&&(Ha.fileIsUploading=a[6]);const wa=new G({props:Ha});P.push(()=>b(wa,"image",Va)),P.push(()=>b(wa,"fileIsUploading",ka));const Ma=new _({props:{className:"cancelButton",onClick:a[14],icon:Q,$$slots:{default:[ea]},$$scope:{ctx:a}}}),Ba=new _({props:{className:"saveButton",onClick:a[12],icon:Y,disabled:!a[10],$$slots:{default:[sa]},$$scope:{ctx:a}}});return{c(){e=t("div"),s=t("div"),c=t("div"),g=t("div"),n(Sa.$$.fragment),D=r(),n(Na.$$.fragment),L=r(),n(Ua.$$.fragment),T=r(),x=t("div"),C=t("div"),S=l(Ra),N=r(),U=t("input"),V=r(),k=t("div"),H=t("div"),w=l(ja),M=t("span"),B=r(),X=t("textarea"),q=r(),J=t("div"),ta=t("div"),la=l(za),ra=r(),n(wa.$$.fragment),oa=r(),ia=t("div"),fa=t("div"),ua=l(Aa),$a=t("span"),pa=r(),da=t("textarea"),ma=r(),Ia=t("div"),va=t("div"),Ea=l(xa),ha=t("span"),ga=r(),Da=t("input"),La=r(),Ta=t("div"),n(Ma.$$.fragment),_a=r(),n(Ba.$$.fragment),this.h()},l(a){e=o(a,"DIV",{class:!0});var t=i(e);s=o(t,"DIV",{class:!0});var l=i(s);c=o(l,"DIV",{class:!0});var r=i(c);g=o(r,"DIV",{class:!0});var n=i(g);p(Sa.$$.fragment,n),n.forEach(u),D=$(r),p(Na.$$.fragment,r),L=$(r),p(Ua.$$.fragment,r),T=$(r),x=o(r,"DIV",{class:!0});var d=i(x);C=o(d,"DIV",{class:!0});var m=i(C);S=f(m,Ra),m.forEach(u),N=$(d),U=o(d,"INPUT",{type:!0,autocapitalize:!0,class:!0}),d.forEach(u),V=$(r),k=o(r,"DIV",{class:!0});var I=i(k);H=o(I,"DIV",{class:!0});var v=i(H);w=f(v,ja),M=o(v,"SPAN",{class:!0}),i(M).forEach(u),v.forEach(u),B=$(I),X=o(I,"TEXTAREA",{class:!0}),i(X).forEach(u),I.forEach(u),q=$(r),J=o(r,"DIV",{class:!0});var E=i(J);ta=o(E,"DIV",{class:!0});var h=i(ta);la=f(h,za),h.forEach(u),ra=$(E),p(wa.$$.fragment,E),E.forEach(u),oa=$(r),ia=o(r,"DIV",{class:!0});var _=i(ia);fa=o(_,"DIV",{class:!0});var O=i(fa);ua=f(O,Aa),$a=o(O,"SPAN",{class:!0}),i($a).forEach(u),O.forEach(u),pa=$(_),da=o(_,"TEXTAREA",{}),i(da).forEach(u),_.forEach(u),ma=$(r),Ia=o(r,"DIV",{class:!0});var P=i(Ia);va=o(P,"DIV",{class:!0});var b=i(va);Ea=f(b,xa),ha=o(b,"SPAN",{class:!0}),i(ha).forEach(u),b.forEach(u),ga=$(P),Da=o(P,"INPUT",{type:!0,autocapitalize:!0,class:!0}),P.forEach(u),r.forEach(u),La=$(l),Ta=o(l,"DIV",{class:!0});var R=i(Ta);p(Ma.$$.fragment,R),_a=$(R),p(Ba.$$.fragment,R),R.forEach(u),l.forEach(u),t.forEach(u),this.h()},h(){R(g,"class","actions topActions svelte-zjret0"),R(C,"class","label svelte-zjret0"),R(U,"type","text"),R(U,"autocapitalize","words"),R(U,"class","svelte-zjret0"),R(x,"class","field svelte-zjret0"),R(M,"class","tip svelte-zjret0"),R(H,"class","label svelte-zjret0"),R(X,"class","svelte-zjret0"),R(k,"class","field bioField svelte-zjret0"),R(ta,"class","label headerImageLabel svelte-zjret0"),R(J,"class","field headerImageField svelte-zjret0"),R($a,"class","tip svelte-zjret0"),R(fa,"class","label labelDetails svelte-zjret0"),R(ia,"class","field skillsField svelte-zjret0"),R(ha,"class","tip svelte-zjret0"),R(va,"class","label labelDetails svelte-zjret0"),R(Da,"type","text"),R(Da,"autocapitalize","sentences"),R(Da,"class","svelte-zjret0"),R(Ia,"class","field svelte-zjret0"),R(c,"class","mainProfileDetails svelte-zjret0"),R(Ta,"class","actions svelte-zjret0"),R(s,"class","panelContent svelte-zjret0"),R(e,"class","content svelte-zjret0")},m(t,l){m(t,e,l),d(e,s),d(s,c),d(c,g),I(Sa,g,null),d(c,D),I(Na,c,null),d(c,L),I(Ua,c,null),d(c,T),d(c,x),d(x,C),d(C,S),d(x,N),d(x,U),j(U,a[1]),d(c,V),d(c,k),d(k,H),d(H,w),d(H,M),M.innerHTML=ya,d(k,B),d(k,X),j(X,a[2]),a[26](X),d(c,q),d(c,J),d(J,ta),d(ta,la),d(J,ra),I(wa,J,null),d(c,oa),d(c,ia),d(ia,fa),d(fa,ua),d(fa,$a),$a.innerHTML=Fa,d(ia,pa),d(ia,da),j(da,a[4]),a[30](da),d(c,ma),d(c,Ia),d(Ia,va),d(va,Ea),d(va,ha),ha.innerHTML=Ca,d(Ia,ga),d(Ia,Da),j(Da,a[5]),a[33](Da),d(s,La),d(s,Ta),I(Ma,Ta,null),d(Ta,_a),I(Ba,Ta,null),Oa=!0,Pa||(ba=[y(U,"input",a[22]),y(U,"keypress",a[23]),y(U,"keyup",a[24]),y(X,"input",a[25]),y(X,"keypress",z),y(da,"input",a[29]),y(da,"keyup",a[31]),y(Da,"input",a[32]),y(Da,"keypress",z),y(Da,"keyup",a[34])],Pa=!0)},p(a,e){const s={};1024&e[0]&&(s.disabled=!a[10]),16&e[1]&&(s.$$scope={dirty:e,ctx:a}),Sa.$set(s);const t={};1&e[0]&&(t.user=a[0]),Na.$set(t);const l={};16&e[1]&&(l.$$scope={dirty:e,ctx:a}),Ua.$set(l),2&e[0]&&U.value!==a[1]&&j(U,a[1]),4&e[0]&&j(X,a[2]);const r={};2048&e[0]&&(r.itemId=a[11]),!na&&8&e[0]&&(na=!0,r.image=a[3],A(()=>na=!1)),!ca&&64&e[0]&&(ca=!0,r.fileIsUploading=a[6],A(()=>ca=!1)),wa.$set(r),16&e[0]&&j(da,a[4]),32&e[0]&&Da.value!==a[5]&&j(Da,a[5]);const n={};16&e[1]&&(n.$$scope={dirty:e,ctx:a}),Ma.$set(n);const c={};1024&e[0]&&(c.disabled=!a[10]),16&e[1]&&(c.$$scope={dirty:e,ctx:a}),Ba.$set(c)},i(a){Oa||(v(Sa.$$.fragment,a),v(Na.$$.fragment,a),v(Ua.$$.fragment,a),v(wa.$$.fragment,a),v(Ma.$$.fragment,a),v(Ba.$$.fragment,a),Oa=!0)},o(a){E(Sa.$$.fragment,a),E(Na.$$.fragment,a),E(Ua.$$.fragment,a),E(wa.$$.fragment,a),E(Ma.$$.fragment,a),E(Ba.$$.fragment,a),Oa=!1},d(s){s&&u(e),h(Sa),h(Na),h(Ua),a[26](null),h(wa),a[30](null),a[33](null),h(Ma),h(Ba),Pa=!1,F(ba)}}}function la(a){let e,s,g,D;const L=new X({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}});return{c(){e=t("style"),s=l("body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),g=r(),n(L.$$.fragment),this.h()},l(a){const t=c('[data-svelte="svelte-1ja50yt"]',document.head);e=o(t,"STYLE",{});var l=i(e);s=f(l,"body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),l.forEach(u),t.forEach(u),g=$(a),p(L.$$.fragment,a),this.h()},h(){document.title="Flock"},m(a,t){d(document.head,e),d(e,s),m(a,g,t),I(L,a,t),D=!0},p(a,e){const s={};4095&e[0]|16&e[1]&&(s.$$scope={dirty:e,ctx:a}),L.$set(s)},i(a){D||(v(L.$$.fragment,a),D=!0)},o(a){E(L.$$.fragment,a),D=!1},d(a){u(e),a&&u(g),h(L,a)}}}function ra(a,e,s){let t,l,r,n=x,c=()=>(n(),n=D(o,a=>s(19,l=a)),o);g(a,C,a=>s(17,t=a)),g(a,S,a=>s(11,r=a)),a.$$.on_destroy.push(()=>n());let o=N(null);c();let i,f,u,$,p,d=t&&t.name||"",m=t&&t.bio&&U(t.bio)||"",I=t&&t.coverImage||"",v=t&&t.skills||"",E=t&&t.location||"";function h(){k(o)}function _(){q.uploadImage({uploadType:"userProfile",itemId:r,imageSettings:{maxWidth:w.PROFILE_UPLOAD_MAX_WIDTH,maxHeight:w.PROFILE_UPLOAD_MAX_HEIGHT},thumbSettings:{maxWidth:w.PROFILE_UPLOAD_THUMB_MAX_WIDTH,maxHeight:w.PROFILE_UPLOAD_THUMB_MAX_HEIGHT},onUploading:()=>{M(o,l.avatarImageRawSrc=J,l),o.set(l),s(16,i=!0)},onImageLoaded:a=>{M(o,l.avatarImageRawSrc=URL.createObjectURL(a),l),o.set(l)},onComplete:a=>{M(o,l.avatarImageRawSrc=null,l),M(o,l.avatarImage=a,l),s(16,i=!1)},onError:a=>{M(o,l.avatarImageRawSrc=null,l),M(o,l.avatarImage=null,l),o.set(l),s(16,i=!1),console.error("Could not request profile image upload")}})}let O,b;return a.$$.update=(()=>{65602&a.$$.dirty[0]&&s(10,b=!(!L(d)||i||f))}),c(s(0,o=T(C))),O=void 0<w.PROFILE_DESCRIPTION_CHARS_LOW,[o,d,m,I,v,E,f,u,$,p,b,r,function(){if(b){const a={name:L(d),bio:L(m),avatarImage:l.avatarImage||null,coverImage:I,skills:v,location:E,style:l.style};V(a)}},function(){l.avatarImage?_():h()},function(){H("profile/"+r)},_,i,t,O,l,void 0,h,function(){d=this.value,s(1,d)},a=>z(a,{target:u}),a=>B(a,{capitalizeFirstKeypress:!0}),function(){m=this.value,s(2,m)},function(a){P[a?"unshift":"push"](()=>{s(7,u=a)})},function(a){s(3,I=a)},function(a){s(6,f=a)},function(){v=this.value,s(4,v)},function(a){P[a?"unshift":"push"](()=>{s(8,$=a)})},a=>B(a,{keepLowerCase:!0}),function(){E=this.value,s(5,E)},function(a){P[a?"unshift":"push"](()=>{s(9,p=a)})},a=>B(a,{capitalizeFirstKeypress:!0})]}export default class extends a{constructor(a){super(),e(this,a,ra,la,s,{},[-1,-1])}}
