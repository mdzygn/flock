import{S as a,i as s,s as e,q as t,R as l,z as r,C as n,H as o,r as c,u as i,T as f,d as u,A as $,D as p,x as d,b as I,E as m,t as v,c as E,F as h,J as g,Y as x,bl as L,ch as D,W as T,a1 as _,n as b,aL as O,v as P,aJ as R,l as y,aK as F,aM as A,ac as C,K as S,a4 as N,a3 as V,$ as k,c4 as H,ci as U,cj as w,N as M,ai as j,ar as B,bC as z,V as K}from"./client.d8a7aea0.js";import{S as W}from"./Proxy.1a60db9b.js";import"./Hotspot.7d4b9a0f.js";import"./SearchBar.61edfa8a.js";import"./LimitedTextfield.59f5ebf7.js";import{U as X,I as G,a as q,E as J}from"./ImageSelectionBox.21abe828.js";import{S as Y}from"./save.71e29683.js";import{C as Q}from"./cancel.feaa218b.js";function Z(a){let s,e=K.EDIT_PROFILE.CONFIRM+"";return{c(){s=l(e)},l(a){s=f(a,e)},m(a,e){I(a,s,e)},p:S,d(a){a&&u(s)}}}function aa(a){let s,e=K.EDIT_PROFILE.UPLOAD_PROFILE_IMAGE+"";return{c(){s=l(e)},l(a){s=f(a,e)},m(a,e){I(a,s,e)},p:S,d(a){a&&u(s)}}}function sa(a){let s,e=K.EDIT_PROFILE.CANCEL+"";return{c(){s=l(e)},l(a){s=f(a,e)},m(a,e){I(a,s,e)},p:S,d(a){a&&u(s)}}}function ea(a){let s,e=K.EDIT_PROFILE.CONFIRM+"";return{c(){s=l(e)},l(a){s=f(a,e)},m(a,e){I(a,s,e)},p:S,d(a){a&&u(s)}}}function ta(a){let s,e,o,g,x,L,D,S,N,V,k,H,U,w,M,j,B,z,W,q,J,ta,la,ra,na,oa,ca,ia,fa,ua,$a,pa,da,Ia,ma,va,Ea,ha,ga,xa,La,Da,Ta,_a,ba,Oa,Pa=K.EDIT_PROFILE.NAME+"",Ra=K.EDIT_PROFILE.BIO+"",ya=K.EDIT_PROFILE.BIO_TIP+"",Fa=K.EDIT_PROFILE.COVER_IMAGE+"",Aa=K.EDIT_PROFILE.SKILLS+"",Ca=K.EDIT_PROFILE.SKILLS_TIP+"",Sa=K.EDIT_PROFILE.LOCATION+"",Na=K.EDIT_PROFILE.LOCATION_TIP+"";const Va=new T({props:{className:"saveButton",onClick:a[12],icon:Y,disabled:!a[10],$$slots:{default:[Z]},$$scope:{ctx:a}}}),ka=new _({props:{user:a[0],onClick:a[13]}}),Ha=new T({props:{className:"uploadAvatarButton",onClick:a[15],icon:X,$$slots:{default:[aa]},$$scope:{ctx:a}}});function Ua(s){a[27].call(null,s)}function wa(s){a[28].call(null,s)}let Ma={uploadType:"userCover",itemId:a[11]};void 0!==a[3]&&(Ma.image=a[3]),void 0!==a[6]&&(Ma.fileIsUploading=a[6]);const ja=new G({props:Ma});b.push(()=>O(ja,"image",Ua)),b.push(()=>O(ja,"fileIsUploading",wa));const Ba=new T({props:{className:"cancelButton",onClick:a[14],icon:Q,$$slots:{default:[sa]},$$scope:{ctx:a}}}),za=new T({props:{className:"saveButton",onClick:a[12],icon:Y,disabled:!a[10],$$slots:{default:[ea]},$$scope:{ctx:a}}});return{c(){s=t("div"),e=t("div"),o=t("div"),g=t("div"),n(Va.$$.fragment),x=r(),n(ka.$$.fragment),L=r(),n(Ha.$$.fragment),D=r(),S=t("div"),N=t("div"),V=l(Pa),k=r(),H=t("input"),U=r(),w=t("div"),M=t("div"),j=l(Ra),B=t("span"),z=r(),W=t("textarea"),q=r(),J=t("div"),ta=t("div"),la=l(Fa),ra=r(),n(ja.$$.fragment),ca=r(),ia=t("div"),fa=t("div"),ua=l(Aa),$a=t("span"),pa=r(),da=t("textarea"),Ia=r(),ma=t("div"),va=t("div"),Ea=l(Sa),ha=t("span"),ga=r(),xa=t("input"),La=r(),Da=t("div"),n(Ba.$$.fragment),Ta=r(),n(za.$$.fragment),this.h()},l(a){s=c(a,"DIV",{class:!0});var t=i(s);e=c(t,"DIV",{class:!0});var l=i(e);o=c(l,"DIV",{class:!0});var r=i(o);g=c(r,"DIV",{class:!0});var n=i(g);p(Va.$$.fragment,n),n.forEach(u),x=$(r),p(ka.$$.fragment,r),L=$(r),p(Ha.$$.fragment,r),D=$(r),S=c(r,"DIV",{class:!0});var d=i(S);N=c(d,"DIV",{class:!0});var I=i(N);V=f(I,Pa),I.forEach(u),k=$(d),H=c(d,"INPUT",{type:!0,autocapitalize:!0,class:!0}),d.forEach(u),U=$(r),w=c(r,"DIV",{class:!0});var m=i(w);M=c(m,"DIV",{class:!0});var v=i(M);j=f(v,Ra),B=c(v,"SPAN",{class:!0}),i(B).forEach(u),v.forEach(u),z=$(m),W=c(m,"TEXTAREA",{class:!0}),i(W).forEach(u),m.forEach(u),q=$(r),J=c(r,"DIV",{class:!0});var E=i(J);ta=c(E,"DIV",{class:!0});var h=i(ta);la=f(h,Fa),h.forEach(u),ra=$(E),p(ja.$$.fragment,E),E.forEach(u),ca=$(r),ia=c(r,"DIV",{class:!0});var T=i(ia);fa=c(T,"DIV",{class:!0});var _=i(fa);ua=f(_,Aa),$a=c(_,"SPAN",{class:!0}),i($a).forEach(u),_.forEach(u),pa=$(T),da=c(T,"TEXTAREA",{}),i(da).forEach(u),T.forEach(u),Ia=$(r),ma=c(r,"DIV",{class:!0});var b=i(ma);va=c(b,"DIV",{class:!0});var O=i(va);Ea=f(O,Sa),ha=c(O,"SPAN",{class:!0}),i(ha).forEach(u),O.forEach(u),ga=$(b),xa=c(b,"INPUT",{type:!0,autocapitalize:!0,class:!0}),b.forEach(u),r.forEach(u),La=$(l),Da=c(l,"DIV",{class:!0});var P=i(Da);p(Ba.$$.fragment,P),Ta=$(P),p(za.$$.fragment,P),P.forEach(u),l.forEach(u),t.forEach(u),this.h()},h(){P(g,"class","actions topActions svelte-12rfx78"),P(N,"class","label svelte-12rfx78"),P(H,"type","text"),P(H,"autocapitalize","words"),P(H,"class","svelte-12rfx78"),P(S,"class","field svelte-12rfx78"),P(B,"class","tip svelte-12rfx78"),P(M,"class","label svelte-12rfx78"),P(W,"class","svelte-12rfx78"),P(w,"class","field bioField svelte-12rfx78"),P(ta,"class","label headerImageLabel svelte-12rfx78"),P(J,"class","field headerImageField svelte-12rfx78"),P($a,"class","tip svelte-12rfx78"),P(fa,"class","label labelDetails svelte-12rfx78"),P(ia,"class","field skillsField svelte-12rfx78"),P(ha,"class","tip svelte-12rfx78"),P(va,"class","label labelDetails svelte-12rfx78"),P(xa,"type","text"),P(xa,"autocapitalize","sentences"),P(xa,"class","svelte-12rfx78"),P(ma,"class","field svelte-12rfx78"),P(o,"class","mainProfileDetails svelte-12rfx78"),P(Da,"class","actions svelte-12rfx78"),P(e,"class","panelContent svelte-12rfx78"),P(s,"class","content svelte-12rfx78")},m(t,l){I(t,s,l),d(s,e),d(e,o),d(o,g),m(Va,g,null),d(o,x),m(ka,o,null),d(o,L),m(Ha,o,null),d(o,D),d(o,S),d(S,N),d(N,V),d(S,k),d(S,H),R(H,a[1]),d(o,U),d(o,w),d(w,M),d(M,j),d(M,B),B.innerHTML=ya,d(w,z),d(w,W),R(W,a[2]),a[26](W),d(o,q),d(o,J),d(J,ta),d(ta,la),d(J,ra),m(ja,J,null),d(o,ca),d(o,ia),d(ia,fa),d(fa,ua),d(fa,$a),$a.innerHTML=Ca,d(ia,pa),d(ia,da),R(da,a[4]),a[30](da),d(o,Ia),d(o,ma),d(ma,va),d(va,Ea),d(va,ha),ha.innerHTML=Na,d(ma,ga),d(ma,xa),R(xa,a[5]),a[33](xa),d(e,La),d(e,Da),m(Ba,Da,null),d(Da,Ta),m(za,Da,null),_a=!0,ba||(Oa=[y(H,"input",a[22]),y(H,"keypress",a[23]),y(H,"keyup",a[24]),y(W,"input",a[25]),y(W,"keypress",F),y(da,"input",a[29]),y(da,"keyup",a[31]),y(xa,"input",a[32]),y(xa,"keypress",F),y(xa,"keyup",a[34])],ba=!0)},p(a,s){const e={};1024&s[0]&&(e.disabled=!a[10]),16&s[1]&&(e.$$scope={dirty:s,ctx:a}),Va.$set(e);const t={};1&s[0]&&(t.user=a[0]),ka.$set(t);const l={};16&s[1]&&(l.$$scope={dirty:s,ctx:a}),Ha.$set(l),2&s[0]&&H.value!==a[1]&&R(H,a[1]),4&s[0]&&R(W,a[2]);const r={};2048&s[0]&&(r.itemId=a[11]),!na&&8&s[0]&&(na=!0,r.image=a[3],A(()=>na=!1)),!oa&&64&s[0]&&(oa=!0,r.fileIsUploading=a[6],A(()=>oa=!1)),ja.$set(r),16&s[0]&&R(da,a[4]),32&s[0]&&xa.value!==a[5]&&R(xa,a[5]);const n={};16&s[1]&&(n.$$scope={dirty:s,ctx:a}),Ba.$set(n);const o={};1024&s[0]&&(o.disabled=!a[10]),16&s[1]&&(o.$$scope={dirty:s,ctx:a}),za.$set(o)},i(a){_a||(v(Va.$$.fragment,a),v(ka.$$.fragment,a),v(Ha.$$.fragment,a),v(ja.$$.fragment,a),v(Ba.$$.fragment,a),v(za.$$.fragment,a),_a=!0)},o(a){E(Va.$$.fragment,a),E(ka.$$.fragment,a),E(Ha.$$.fragment,a),E(ja.$$.fragment,a),E(Ba.$$.fragment,a),E(za.$$.fragment,a),_a=!1},d(e){e&&u(s),h(Va),h(ka),h(Ha),a[26](null),h(ja),a[30](null),a[33](null),h(Ba),h(za),ba=!1,C(Oa)}}}function la(a){let s,e,g,x;const L=new W({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}});return{c(){s=t("style"),e=l("body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),g=r(),n(L.$$.fragment),this.h()},l(a){const t=o('[data-svelte="svelte-1ja50yt"]',document.head);s=c(t,"STYLE",{});var l=i(s);e=f(l,"body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),l.forEach(u),t.forEach(u),g=$(a),p(L.$$.fragment,a),this.h()},h(){document.title="Flock"},m(a,t){d(document.head,s),d(s,e),I(a,g,t),m(L,a,t),x=!0},p(a,s){const e={};4095&s[0]|16&s[1]&&(e.$$scope={dirty:s,ctx:a}),L.$set(e)},i(a){x||(v(L.$$.fragment,a),x=!0)},o(a){E(L.$$.fragment,a),x=!1},d(a){u(s),a&&u(g),h(L,a)}}}function ra(a,s,e){let t,l,r,n=S,o=()=>(n(),n=x(c,a=>e(19,l=a)),c);g(a,N,a=>e(17,t=a)),g(a,V,a=>e(11,r=a)),a.$$.on_destroy.push(()=>n());let c=k(null);o();let i,f,u,$,p,d=t&&t.name||"",I=t&&t.bio&&H(t.bio)||"",m=t&&t.coverImage||"",v=t&&t.skills||"",E=t&&t.location||"";function h(){w(c)}function T(){q.uploadImage({uploadType:"userProfile",itemId:r,imageSettings:{maxWidth:j.PROFILE_UPLOAD_MAX_WIDTH,maxHeight:j.PROFILE_UPLOAD_MAX_HEIGHT},thumbSettings:{maxWidth:j.PROFILE_UPLOAD_THUMB_MAX_WIDTH,maxHeight:j.PROFILE_UPLOAD_THUMB_MAX_HEIGHT},onUploading:()=>{B(c,l.avatarImageRawSrc=J,l),c.set(l),e(16,i=!0)},onImageLoaded:a=>{B(c,l.avatarImageRawSrc=URL.createObjectURL(a),l),c.set(l)},onComplete:a=>{B(c,l.avatarImageRawSrc=null,l),B(c,l.avatarImage=a,l),e(16,i=!1)},onError:a=>{B(c,l.avatarImageRawSrc=null,l),B(c,l.avatarImage=null,l),c.set(l),e(16,i=!1),console.error("Could not request profile image upload")}})}let _,O;return a.$$.update=(()=>{65602&a.$$.dirty[0]&&e(10,O=!(!L(d)||i||f))}),o(e(0,c=D(N))),_=void 0<j.PROFILE_DESCRIPTION_CHARS_LOW,[c,d,I,m,v,E,f,u,$,p,O,r,function(){if(O){const a={name:L(d),bio:L(I),avatarImage:l.avatarImage||null,coverImage:m,skills:v,location:E,style:l.style};U(a)}},function(){l.avatarImage?T():h()},function(){M("profile/"+r)},T,i,t,_,l,void 0,h,function(){d=this.value,e(1,d)},a=>F(a,{target:u}),a=>z(a,{capitalizeFirstKeypress:!0}),function(){I=this.value,e(2,I)},function(a){b[a?"unshift":"push"](()=>{e(7,u=a)})},function(a){e(3,m=a)},function(a){e(6,f=a)},function(){v=this.value,e(4,v)},function(a){b[a?"unshift":"push"](()=>{e(8,$=a)})},a=>z(a,{keepLowerCase:!0}),function(){E=this.value,e(5,E)},function(a){b[a?"unshift":"push"](()=>{e(9,p=a)})},a=>z(a,{capitalizeFirstKeypress:!0})]}export default class extends a{constructor(a){super(),s(this,a,ra,la,e,{},[-1,-1])}}
