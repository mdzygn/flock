import{S as a,i as e,s,q as t,R as l,z as r,C as o,H as c,r as n,u as i,T as f,d as p,A as u,D as I,x as $,b as d,E as m,t as v,c as E,F as h,J as g,Y as L,b4 as _,cG as D,W as P,a1 as T,n as O,aM as R,v as b,aw as A,l as j,aU as y,aL as z,ac as F,K as x,a4 as S,a3 as C,$ as N,bb as w,cH as U,cI as M,N as V,ai as H,as as k,c6 as G,U as B}from"./client.9f5af520.js";import{S as W}from"./Proxy.ba10d480.js";import"./Hotspot.9232cf5f.js";import{U as X,I as K,a as Y,E as J}from"./ImageSelectionBox.b6a2e2d1.js";import"./SearchBar.6bcadeac.js";import{S as q}from"./add_small.fcdad09e.js";import"./LimitedTextfield.699eb987.js";import{C as Z}from"./cancel.feaa218b.js";function Q(a){let e,s=B.EDIT_PROFILE.CONFIRM+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){d(a,e,s)},p:x,d(a){a&&p(e)}}}function aa(a){let e,s=B.EDIT_PROFILE.UPLOAD_PROFILE_IMAGE+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){d(a,e,s)},p:x,d(a){a&&p(e)}}}function ea(a){let e,s=B.EDIT_PROFILE.CANCEL+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){d(a,e,s)},p:x,d(a){a&&p(e)}}}function sa(a){let e,s=B.EDIT_PROFILE.CONFIRM+"";return{c(){e=l(s)},l(a){e=f(a,s)},m(a,s){d(a,e,s)},p:x,d(a){a&&p(e)}}}function ta(a){let e,s,c,g,L,_,D,x,S,C,N,w,U,M,V,H,k,G,W,Y,J,ta,la,ra,oa,ca,na,ia,fa,pa,ua,Ia,$a,da,ma,va,Ea,ha,ga,La,_a,Da,Pa,Ta,Oa,Ra,ba=B.EDIT_PROFILE.NAME+"",Aa=B.EDIT_PROFILE.BIO+"",ja=B.EDIT_PROFILE.BIO_TIP+"",ya=B.EDIT_PROFILE.COVER_IMAGE+"",za=B.EDIT_PROFILE.SKILLS+"",Fa=B.EDIT_PROFILE.SKILLS_TIP+"",xa=B.EDIT_PROFILE.LOCATION+"",Sa=B.EDIT_PROFILE.LOCATION_TIP+"";const Ca=new P({props:{className:"saveButton",onClick:a[12],icon:q,disabled:!a[10],$$slots:{default:[Q]},$$scope:{ctx:a}}}),Na=new T({props:{user:a[0],onClick:a[13]}}),wa=new P({props:{className:"uploadAvatarButton",onClick:a[15],icon:X,$$slots:{default:[aa]},$$scope:{ctx:a}}});function Ua(e){a[27].call(null,e)}function Ma(e){a[28].call(null,e)}let Va={uploadType:"userCover",itemId:a[11]};void 0!==a[3]&&(Va.image=a[3]),void 0!==a[6]&&(Va.fileIsUploading=a[6]);const Ha=new K({props:Va});O.push(()=>R(Ha,"image",Ua)),O.push(()=>R(Ha,"fileIsUploading",Ma));const ka=new P({props:{className:"cancelButton",onClick:a[14],icon:Z,$$slots:{default:[ea]},$$scope:{ctx:a}}}),Ga=new P({props:{className:"saveButton",onClick:a[12],icon:q,disabled:!a[10],$$slots:{default:[sa]},$$scope:{ctx:a}}});return{c(){e=t("div"),s=t("div"),c=t("div"),g=t("div"),o(Ca.$$.fragment),L=r(),o(Na.$$.fragment),_=r(),o(wa.$$.fragment),D=r(),x=t("div"),S=t("div"),C=l(ba),N=r(),w=t("input"),U=r(),M=t("div"),V=t("div"),H=l(Aa),k=t("span"),G=r(),W=t("textarea"),Y=r(),J=t("div"),ta=t("div"),la=l(ya),ra=r(),o(Ha.$$.fragment),na=r(),ia=t("div"),fa=t("div"),pa=l(za),ua=t("span"),Ia=r(),$a=t("textarea"),da=r(),ma=t("div"),va=t("div"),Ea=l(xa),ha=t("span"),ga=r(),La=t("input"),_a=r(),Da=t("div"),o(ka.$$.fragment),Pa=r(),o(Ga.$$.fragment),this.h()},l(a){e=n(a,"DIV",{class:!0});var t=i(e);s=n(t,"DIV",{class:!0});var l=i(s);c=n(l,"DIV",{class:!0});var r=i(c);g=n(r,"DIV",{class:!0});var o=i(g);I(Ca.$$.fragment,o),o.forEach(p),L=u(r),I(Na.$$.fragment,r),_=u(r),I(wa.$$.fragment,r),D=u(r),x=n(r,"DIV",{class:!0});var $=i(x);S=n($,"DIV",{class:!0});var d=i(S);C=f(d,ba),d.forEach(p),N=u($),w=n($,"INPUT",{type:!0,autocapitalize:!0,class:!0}),$.forEach(p),U=u(r),M=n(r,"DIV",{class:!0});var m=i(M);V=n(m,"DIV",{class:!0});var v=i(V);H=f(v,Aa),k=n(v,"SPAN",{class:!0}),i(k).forEach(p),v.forEach(p),G=u(m),W=n(m,"TEXTAREA",{class:!0}),i(W).forEach(p),m.forEach(p),Y=u(r),J=n(r,"DIV",{class:!0});var E=i(J);ta=n(E,"DIV",{class:!0});var h=i(ta);la=f(h,ya),h.forEach(p),ra=u(E),I(Ha.$$.fragment,E),E.forEach(p),na=u(r),ia=n(r,"DIV",{class:!0});var P=i(ia);fa=n(P,"DIV",{class:!0});var T=i(fa);pa=f(T,za),ua=n(T,"SPAN",{class:!0}),i(ua).forEach(p),T.forEach(p),Ia=u(P),$a=n(P,"TEXTAREA",{}),i($a).forEach(p),P.forEach(p),da=u(r),ma=n(r,"DIV",{class:!0});var O=i(ma);va=n(O,"DIV",{class:!0});var R=i(va);Ea=f(R,xa),ha=n(R,"SPAN",{class:!0}),i(ha).forEach(p),R.forEach(p),ga=u(O),La=n(O,"INPUT",{type:!0,autocapitalize:!0,class:!0}),O.forEach(p),r.forEach(p),_a=u(l),Da=n(l,"DIV",{class:!0});var b=i(Da);I(ka.$$.fragment,b),Pa=u(b),I(Ga.$$.fragment,b),b.forEach(p),l.forEach(p),t.forEach(p),this.h()},h(){b(g,"class","actions topActions svelte-zjret0"),b(S,"class","label svelte-zjret0"),b(w,"type","text"),b(w,"autocapitalize","words"),b(w,"class","svelte-zjret0"),b(x,"class","field svelte-zjret0"),b(k,"class","tip svelte-zjret0"),b(V,"class","label svelte-zjret0"),b(W,"class","svelte-zjret0"),b(M,"class","field bioField svelte-zjret0"),b(ta,"class","label headerImageLabel svelte-zjret0"),b(J,"class","field headerImageField svelte-zjret0"),b(ua,"class","tip svelte-zjret0"),b(fa,"class","label labelDetails svelte-zjret0"),b(ia,"class","field skillsField svelte-zjret0"),b(ha,"class","tip svelte-zjret0"),b(va,"class","label labelDetails svelte-zjret0"),b(La,"type","text"),b(La,"autocapitalize","sentences"),b(La,"class","svelte-zjret0"),b(ma,"class","field svelte-zjret0"),b(c,"class","mainProfileDetails svelte-zjret0"),b(Da,"class","actions svelte-zjret0"),b(s,"class","panelContent svelte-zjret0"),b(e,"class","content svelte-zjret0")},m(t,l){d(t,e,l),$(e,s),$(s,c),$(c,g),m(Ca,g,null),$(c,L),m(Na,c,null),$(c,_),m(wa,c,null),$(c,D),$(c,x),$(x,S),$(S,C),$(x,N),$(x,w),A(w,a[1]),$(c,U),$(c,M),$(M,V),$(V,H),$(V,k),k.innerHTML=ja,$(M,G),$(M,W),A(W,a[2]),a[26](W),$(c,Y),$(c,J),$(J,ta),$(ta,la),$(J,ra),m(Ha,J,null),$(c,na),$(c,ia),$(ia,fa),$(fa,pa),$(fa,ua),ua.innerHTML=Fa,$(ia,Ia),$(ia,$a),A($a,a[4]),a[30]($a),$(c,da),$(c,ma),$(ma,va),$(va,Ea),$(va,ha),ha.innerHTML=Sa,$(ma,ga),$(ma,La),A(La,a[5]),a[33](La),$(s,_a),$(s,Da),m(ka,Da,null),$(Da,Pa),m(Ga,Da,null),Ta=!0,Oa||(Ra=[j(w,"input",a[22]),j(w,"keypress",a[23]),j(w,"keyup",a[24]),j(W,"input",a[25]),j(W,"keypress",y),j($a,"input",a[29]),j($a,"keyup",a[31]),j(La,"input",a[32]),j(La,"keypress",y),j(La,"keyup",a[34])],Oa=!0)},p(a,e){const s={};1024&e[0]&&(s.disabled=!a[10]),16&e[1]&&(s.$$scope={dirty:e,ctx:a}),Ca.$set(s);const t={};1&e[0]&&(t.user=a[0]),Na.$set(t);const l={};16&e[1]&&(l.$$scope={dirty:e,ctx:a}),wa.$set(l),2&e[0]&&w.value!==a[1]&&A(w,a[1]),4&e[0]&&A(W,a[2]);const r={};2048&e[0]&&(r.itemId=a[11]),!oa&&8&e[0]&&(oa=!0,r.image=a[3],z(()=>oa=!1)),!ca&&64&e[0]&&(ca=!0,r.fileIsUploading=a[6],z(()=>ca=!1)),Ha.$set(r),16&e[0]&&A($a,a[4]),32&e[0]&&La.value!==a[5]&&A(La,a[5]);const o={};16&e[1]&&(o.$$scope={dirty:e,ctx:a}),ka.$set(o);const c={};1024&e[0]&&(c.disabled=!a[10]),16&e[1]&&(c.$$scope={dirty:e,ctx:a}),Ga.$set(c)},i(a){Ta||(v(Ca.$$.fragment,a),v(Na.$$.fragment,a),v(wa.$$.fragment,a),v(Ha.$$.fragment,a),v(ka.$$.fragment,a),v(Ga.$$.fragment,a),Ta=!0)},o(a){E(Ca.$$.fragment,a),E(Na.$$.fragment,a),E(wa.$$.fragment,a),E(Ha.$$.fragment,a),E(ka.$$.fragment,a),E(Ga.$$.fragment,a),Ta=!1},d(s){s&&p(e),h(Ca),h(Na),h(wa),a[26](null),h(Ha),a[30](null),a[33](null),h(ka),h(Ga),Oa=!1,F(Ra)}}}function la(a){let e,s,g,L;const _=new W({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}});return{c(){e=t("style"),s=l("body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),g=r(),o(_.$$.fragment),this.h()},l(a){const t=c('[data-svelte="svelte-1ja50yt"]',document.head);e=n(t,"STYLE",{});var l=i(e);s=f(l,"body {\r\n\t\t\toverscroll-behavior-y: contain; /* Disables pull-to-refresh but allows overscroll effects. */\r\n\t\t}"),l.forEach(p),t.forEach(p),g=u(a),I(_.$$.fragment,a),this.h()},h(){document.title="Flock"},m(a,t){$(document.head,e),$(e,s),d(a,g,t),m(_,a,t),L=!0},p(a,e){const s={};4095&e[0]|16&e[1]&&(s.$$scope={dirty:e,ctx:a}),_.$set(s)},i(a){L||(v(_.$$.fragment,a),L=!0)},o(a){E(_.$$.fragment,a),L=!1},d(a){p(e),a&&p(g),h(_,a)}}}function ra(a,e,s){let t,l,r,o=x,c=()=>(o(),o=L(n,a=>s(19,l=a)),n);g(a,S,a=>s(17,t=a)),g(a,C,a=>s(11,r=a)),a.$$.on_destroy.push(()=>o());let n=N(null);c();let i,f,p,u,I,$=t&&t.name||"",d=t&&t.bio&&w(t.bio)||"",m=t&&t.coverImage||"",v=t&&t.skills||"",E=t&&t.location||"";function h(){M(n)}function P(){Y.uploadImage({uploadType:"userProfile",itemId:r,imageSettings:{maxWidth:H.PROFILE_UPLOAD_MAX_WIDTH,maxHeight:H.PROFILE_UPLOAD_MAX_HEIGHT},thumbSettings:{maxWidth:H.PROFILE_UPLOAD_THUMB_MAX_WIDTH,maxHeight:H.PROFILE_UPLOAD_THUMB_MAX_HEIGHT},onUploading:()=>{k(n,l.avatarImageRawSrc=J,l),n.set(l),s(16,i=!0)},onImageLoaded:a=>{k(n,l.avatarImageRawSrc=URL.createObjectURL(a),l),n.set(l)},onComplete:a=>{k(n,l.avatarImageRawSrc=null,l),k(n,l.avatarImage=a,l),s(16,i=!1)},onError:a=>{k(n,l.avatarImageRawSrc=null,l),k(n,l.avatarImage=null,l),n.set(l),s(16,i=!1),a&&a.invalidType?showPrompt(promptIds.INVALID_IMAGE_TYPE_JPG_PNG):a&&a.imageFileSizeTooLarge?showPrompt(promptIds.INVALID_IMAGE_FILESIZE_TOO_LARGE):showPrompt(promptIds.IMAGE_UPLOAD_ERROR)}})}let T,R;return a.$$.update=(()=>{65602&a.$$.dirty[0]&&s(10,R=!(!_($)||i||f))}),c(s(0,n=D(S))),T=void 0<H.PROFILE_DESCRIPTION_CHARS_LOW,[n,$,d,m,v,E,f,p,u,I,R,r,function(){if(R){const a={name:_($),bio:_(d),avatarImage:l.avatarImage||null,coverImage:m,skills:v,location:E,style:l.style};U(a)}},function(){l.avatarImage?P():h()},function(){V("profile/"+r)},P,i,t,T,l,void 0,h,function(){$=this.value,s(1,$)},a=>y(a,{target:p}),a=>G(a,{capitalizeFirstKeypress:!0}),function(){d=this.value,s(2,d)},function(a){O[a?"unshift":"push"](()=>{s(7,p=a)})},function(a){s(3,m=a)},function(a){s(6,f=a)},function(){v=this.value,s(4,v)},function(a){O[a?"unshift":"push"](()=>{s(8,u=a)})},a=>G(a,{keepLowerCase:!0}),function(){E=this.value,s(5,E)},function(a){O[a?"unshift":"push"](()=>{s(9,I=a)})},a=>G(a,{capitalizeFirstKeypress:!0})]}export default class extends a{constructor(a){super(),e(this,a,ra,la,s,{},[-1,-1])}}
