import{S as t,i as e,s as n,q as s,z as a,R as l,r as c,u as i,A as o,T as r,d,v as m,B as u,b as $,x as p,aJ as f,l as h,t as E,C as I,D as A,E as g,K as T,c as v,F as D,L as N,I as R,U as y,ac as b,e as M,J as k,cs as C,ct as G,cu as w,cv as P,aA as V,bW as j,cw as W,az as U,bA as Y,cx as B,aw as F,o as O,m as x,bl as H,V as Q,cy as _,cz as L,W as S,aI as Z,n as J,aL as z,aM as X,cA as K,cB as q,aK as tt,cc as et,cC as nt,cD as st,b7 as at}from"./client.618c796c.js";import"./Proxy.0987b6ed.js";import{N as lt}from"./next_arrow.b1598f96.js";import{S as ct}from"./send.53c7ac4a.js";import{I as it,U as ot}from"./ImageSelectionBox.5a9a4131.js";import{A as rt,S as dt}from"./save.71e29683.js";const mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNERjRBRTA5OEVBQTExRUFBQkU4QzE5ODQ3NjQwQjQxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNERjRBRTBBOEVBQTExRUFBQkU4QzE5ODQ3NjQwQjQxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0RGNEFFMDc4RUFBMTFFQUFCRThDMTk4NDc2NDBCNDEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0RGNEFFMDg4RUFBMTFFQUFCRThDMTk4NDc2NDBCNDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz64QYgYAAABhUlEQVR42uzY7VHDMAwG4NjJAFkgIRvQEWADNmhXYIJ2hI4AIzABGQE2yGWCDJAP5F7K8aMUKZbKUV796eWSi/q0tmzZTdOUXGP45EoDMMAAAwwwwAADDDDAAAMMsN+JjPugc+7wWVGM47ij64q679p7v2+aptP8UpRiNefIQ462bXfHe9yO37EfJNic8JUu8y+J3tM0vdPCncpB8Uy4jQTmIxMG8O0wDDXdz41QIdZlWT6ZzDH6pbYnEqrhzqA+cUVRbCxgDz8M1cU4BuqYo7KA1Yx5KMZxUXN06jAqEI+cF0twElQoUlRA9uowqnpvVNrvtXBSVKi8Zgu0Fm4JSrqciHcesbhLoMQLtMJQqmJRJjuP2CFF77iJ/acuAltQrpPY4ae+pdKYc5ZzyqRt0cBpb6bV+rEYnDZKvdFcgrNAmXTQEpwVyuxogIOzRJmeeZzDWaPMD3O+wb1Yo1QWaGbPlfd9v8qyrAvYyLVOF/bXAgemgAEGGGCAAQYYYID9O9iHAAMA43prfgVstXUAAAAASUVORK5CYII=";function ut(t){let e,n,I,A,g,T,D,M,k,C,G,w,P,V,j,W,U,Y,B,F,O,x=Q.NEW_THREAD.MESSAGE+"",H=t[1]&&$t(t),_=t[14]&&pt(t),L=t[18]&&ht(t);function S(t,e){return t[9]?Rt:yt}let Z=S(t),J=Z(t);const z=[kt,Mt],X=[];function K(t,e){return t[9]?1:0}return U=K(t),Y=X[U]=z[U](t),{c(){e=s("div"),n=s("div"),H&&H.c(),I=a(),A=s("div"),g=l(t[19]),T=a(),_&&_.c(),D=a(),M=s("div"),k=s("div"),C=l(x),G=a(),w=s("textarea"),P=a(),L&&L.c(),V=a(),J.c(),j=a(),W=s("div"),Y.c(),this.h()},l(s){e=c(s,"DIV",{class:!0});var a=i(e);n=c(a,"DIV",{class:!0});var l=i(n);H&&H.l(l),I=o(l),A=c(l,"DIV",{class:!0});var m=i(A);g=r(m,t[19]),m.forEach(d),T=o(l),_&&_.l(l),D=o(l),M=c(l,"DIV",{class:!0});var u=i(M);k=c(u,"DIV",{class:!0});var $=i(k);C=r($,x),$.forEach(d),G=o(u),w=c(u,"TEXTAREA",{class:!0}),i(w).forEach(d),u.forEach(d),P=o(l),L&&L.l(l),V=o(l),J.l(l),j=o(l),W=c(l,"DIV",{class:!0});var p=i(W);Y.l(p),p.forEach(d),l.forEach(d),a.forEach(d),this.h()},h(){m(A,"class","pageTitle svelte-1hk58im"),m(k,"class","label svelte-1hk58im"),m(w,"class","svelte-1hk58im"),m(M,"class","field messageField svelte-1hk58im"),m(W,"class","actions svelte-1hk58im"),m(n,"class","panelContent svelte-1hk58im"),u(n,"showImage",t[20]),m(e,"class","editPostContent svelte-1hk58im"),u(e,"isProjectPost",t[17]),u(e,"inlineComponent",t[1])},m(s,a){$(s,e,a),p(e,n),H&&H.m(n,null),p(n,I),p(n,A),p(A,g),p(n,T),_&&_.m(n,null),p(n,D),p(n,M),p(M,k),p(k,C),p(M,G),p(M,w),f(w,t[3]),t[52](w),p(n,P),L&&L.m(n,null),p(n,V),J.m(n,null),p(n,j),p(n,W),X[U].m(W,null),t[58](e),B=!0,F||(O=[h(w,"input",t[51]),h(w,"keypress",t[53])],F=!0)},p(t,s){t[1]?H?(H.p(t,s),2&s[0]&&E(H,1)):((H=$t(t)).c(),E(H,1),H.m(n,I)):H&&(N(),v(H,1,1,()=>{H=null}),R()),(!B||524288&s[0])&&y(g,t[19]),t[14]?_?_.p(t,s):((_=pt(t)).c(),_.m(n,D)):_&&(_.d(1),_=null),8&s[0]&&f(w,t[3]),t[18]?L?(L.p(t,s),262144&s[0]&&E(L,1)):((L=ht(t)).c(),E(L,1),L.m(n,V)):L&&(N(),v(L,1,1,()=>{L=null}),R()),Z===(Z=S(t))&&J?J.p(t,s):(J.d(1),(J=Z(t))&&(J.c(),J.m(n,j)));let a=U;(U=K(t))===a?X[U].p(t,s):(N(),v(X[a],1,1,()=>{X[a]=null}),R(),(Y=X[U])||(Y=X[U]=z[U](t)).c(),E(Y,1),Y.m(W,null)),1048576&s[0]&&u(n,"showImage",t[20]),131072&s[0]&&u(e,"isProjectPost",t[17]),2&s[0]&&u(e,"inlineComponent",t[1])},i(t){B||(E(H),E(L),E(Y),B=!0)},o(t){v(H),v(L),v(Y),B=!1},d(n){n&&d(e),H&&H.d(),_&&_.d(),t[52](null),L&&L.d(),J.d(),X[U].d(),t[58](null),F=!1,b(O)}}}function $t(t){let e;const n=new S({props:{className:"collapsePanel",icon:mt,onClick:t[27]}});return{c(){I(n.$$.fragment)},l(t){A(n.$$.fragment,t)},m(t,s){g(n,t,s),e=!0},p:T,i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){v(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function pt(t){let e,n,u,E,I,A,g,T=Q.NEW_THREAD.TITLE+"",v=!t[9]&&ft();return{c(){e=s("div"),n=s("div"),u=l(T),v&&v.c(),E=a(),I=s("textarea"),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=i(e);n=c(s,"DIV",{class:!0});var a=i(n);u=r(a,T),v&&v.l(a),a.forEach(d),E=o(s),I=c(s,"TEXTAREA",{class:!0}),i(I).forEach(d),s.forEach(d),this.h()},h(){m(n,"class","label svelte-1hk58im"),m(I,"class","titleField svelte-1hk58im"),m(e,"class","field svelte-1hk58im")},m(s,a){$(s,e,a),p(e,n),p(n,u),v&&v.m(n,null),p(e,E),p(e,I),f(I,t[2]),t[49](I),A||(g=[h(I,"input",t[48]),h(I,"keypress",t[50])],A=!0)},p(t,e){t[9]?v&&(v.d(1),v=null):v?v.p(t,e):((v=ft()).c(),v.m(n,null)),4&e[0]&&f(I,t[2])},d(n){n&&d(e),v&&v.d(),t[49](null),A=!1,b(g)}}}function ft(t){let e,n=Q.NEW_THREAD.TITLE_TIP+"";return{c(){e=s("span"),this.h()},l(t){e=c(t,"SPAN",{class:!0}),i(e).forEach(d),this.h()},h(){m(e,"class","tip svelte-1hk58im")},m(t,s){$(t,e,s),e.innerHTML=n},p:T,d(t){t&&d(e)}}}function ht(t){let e,n,s,a;const l=[At,It,Et],c=[];function i(t,e){return t[1]?0:t[4]||t[7]?1:2}return e=i(t),n=c[e]=l[e](t),{c(){n.c(),s=M()},l(t){n.l(t),s=M()},m(t,n){c[e].m(t,n),$(t,s,n),a=!0},p(t,a){let o=e;(e=i(t))===o?c[e].p(t,a):(N(),v(c[o],1,1,()=>{c[o]=null}),R(),(n=c[e])||(n=c[e]=l[e](t)).c(),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){v(n),a=!1},d(t){c[e].d(t),t&&d(s)}}}function Et(t){let e,n;const a=new S({props:{className:"addImage",icon:rt,onClick:t[25],$$slots:{default:[gt]},$$scope:{ctx:t}}});return{c(){e=s("div"),I(a.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);A(a.$$.fragment,n),n.forEach(d),this.h()},h(){m(e,"class","imageField svelte-1hk58im")},m(t,s){$(t,e,s),g(a,e,null),n=!0},p(t,e){const n={};268435456&e[1]&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){n||(E(a.$$.fragment,t),n=!0)},o(t){v(a.$$.fragment,t),n=!1},d(t){t&&d(e),D(a)}}}function It(t){let e,n,l,r,u,p;const f=new S({props:{className:"addImage removeImage",icon:Z,onClick:t[26],$$slots:{default:[Tt]},$$scope:{ctx:t}}});function h(e){t[56].call(null,e)}function T(e){t[57].call(null,e)}let N={containMode:!0,imageType:t[15],useLibrary:t[16],uploadType:"post",itemId:t[11]};void 0!==t[4]&&(N.image=t[4]),void 0!==t[8]&&(N.fileIsUploading=t[8]);const R=new it({props:N});return J.push(()=>z(R,"image",h)),J.push(()=>z(R,"fileIsUploading",T)),{c(){e=s("div"),I(f.$$.fragment),n=a(),l=s("div"),I(R.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var s=i(e);A(f.$$.fragment,s),s.forEach(d),n=o(t),l=c(t,"DIV",{class:!0});var a=i(l);A(R.$$.fragment,a),a.forEach(d),this.h()},h(){m(e,"class","imageField svelte-1hk58im"),m(l,"class","field headerImageField svelte-1hk58im")},m(t,s){$(t,e,s),g(f,e,null),$(t,n,s),$(t,l,s),g(R,l,null),p=!0},p(t,e){const n={};268435456&e[1]&&(n.$$scope={dirty:e,ctx:t}),f.$set(n);const s={};32768&e[0]&&(s.imageType=t[15]),65536&e[0]&&(s.useLibrary=t[16]),2048&e[0]&&(s.itemId=t[11]),!r&&16&e[0]&&(r=!0,s.image=t[4],X(()=>r=!1)),!u&&256&e[0]&&(u=!0,s.fileIsUploading=t[8],X(()=>u=!1)),R.$set(s)},i(t){p||(E(f.$$.fragment,t),E(R.$$.fragment,t),p=!0)},o(t){v(f.$$.fragment,t),v(R.$$.fragment,t),p=!1},d(t){t&&d(e),D(f),t&&d(n),t&&d(l),D(R)}}}function At(t){let e,n,s,a;const l=[Dt,vt],c=[];function i(t,e){return t[4]||t[7]?0:1}return e=i(t),n=c[e]=l[e](t),{c(){n.c(),s=M()},l(t){n.l(t),s=M()},m(t,n){c[e].m(t,n),$(t,s,n),a=!0},p(t,a){let o=e;(e=i(t))===o?c[e].p(t,a):(N(),v(c[o],1,1,()=>{c[o]=null}),R(),(n=c[e])||(n=c[e]=l[e](t)).c(),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){v(n),a=!1},d(t){c[e].d(t),t&&d(s)}}}function gt(t){let e,n=Q.NEW_THREAD.ADD_IMAGE+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){$(t,e,n)},p:T,d(t){t&&d(e)}}}function Tt(t){let e,n=Q.NEW_THREAD.REMOVE_IMAGE+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){$(t,e,n)},p:T,d(t){t&&d(e)}}}function vt(t){let e,n;const a=new S({props:{className:"addImage",icon:ot,onClick:t[25]}});return{c(){e=s("div"),I(a.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);A(a.$$.fragment,n),n.forEach(d),this.h()},h(){m(e,"class","imageField svelte-1hk58im")},m(t,s){$(t,e,s),g(a,e,null),n=!0},p:T,i(t){n||(E(a.$$.fragment,t),n=!0)},o(t){v(a.$$.fragment,t),n=!1},d(t){t&&d(e),D(a)}}}function Dt(t){let e,n,l,r,u,p;function f(e){t[54].call(null,e)}function h(e){t[55].call(null,e)}let T={containMode:!0,imageType:t[15],useLibrary:t[16],uploadType:"post",itemId:t[11]};void 0!==t[4]&&(T.image=t[4]),void 0!==t[8]&&(T.fileIsUploading=t[8]);const N=new it({props:T});J.push(()=>z(N,"image",f)),J.push(()=>z(N,"fileIsUploading",h));const R=new S({props:{className:"addImage removeImage",icon:Z,onClick:t[26],$$slots:{default:[Nt]},$$scope:{ctx:t}}});return{c(){e=s("div"),I(N.$$.fragment),r=a(),u=s("div"),I(R.$$.fragment),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);A(N.$$.fragment,n),n.forEach(d),r=o(t),u=c(t,"DIV",{class:!0});var s=i(u);A(R.$$.fragment,s),s.forEach(d),this.h()},h(){m(e,"class","field headerImageField svelte-1hk58im"),m(u,"class","imageField removeImageField svelte-1hk58im")},m(t,n){$(t,e,n),g(N,e,null),$(t,r,n),$(t,u,n),g(R,u,null),p=!0},p(t,e){const s={};32768&e[0]&&(s.imageType=t[15]),65536&e[0]&&(s.useLibrary=t[16]),2048&e[0]&&(s.itemId=t[11]),!n&&16&e[0]&&(n=!0,s.image=t[4],X(()=>n=!1)),!l&&256&e[0]&&(l=!0,s.fileIsUploading=t[8],X(()=>l=!1)),N.$set(s);const a={};268435456&e[1]&&(a.$$scope={dirty:e,ctx:t}),R.$set(a)},i(t){p||(E(N.$$.fragment,t),E(R.$$.fragment,t),p=!0)},o(t){v(N.$$.fragment,t),v(R.$$.fragment,t),p=!1},d(t){t&&d(e),D(N),t&&d(r),t&&d(u),D(R)}}}function Nt(t){let e,n=Q.NEW_THREAD.REMOVE_IMAGE+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){$(t,e,n)},p:T,d(t){t&&d(e)}}}function Rt(t){let e,n,l,r=Q.NEW_THREAD.EDITING_NOTE+"",u=t[10]&&bt(t);return{c(){e=s("div"),l=a(),u&&u.c(),this.h()},l(t){e=c(t,"DIV",{class:!0});var n=i(e);l=o(n),u&&u.l(n),n.forEach(d),this.h()},h(){n=new at(l),m(e,"class","fieldNote svelte-1hk58im")},m(t,s){$(t,e,s),n.m(r,e),p(e,l),u&&u.m(e,null)},p(t,n){t[10]?u?u.p(t,n):((u=bt(t)).c(),u.m(e,null)):u&&(u.d(1),u=null)},d(t){t&&d(e),u&&u.d()}}}function yt(t){let e,n=Q.NEW_THREAD.EDIT_NOTE+"";return{c(){e=s("div"),this.h()},l(t){e=c(t,"DIV",{class:!0}),i(e).forEach(d),this.h()},h(){m(e,"class","fieldNote svelte-1hk58im")},m(t,s){$(t,e,s),e.innerHTML=n},p:T,d(t){t&&d(e)}}}function bt(t){let e,n,a,o,u,f,E,I=Q.NEW_THREAD.REST_ACTION+"",A=Q.NEW_THREAD.REST_NOTE+"";return{c(){e=s("div"),n=s("a"),a=l(I),u=l(A),this.h()},l(t){e=c(t,"DIV",{});var s=i(e);n=c(s,"A",{href:!0});var l=i(n);a=r(l,I),l.forEach(d),u=r(s,A),s.forEach(d),this.h()},h(){m(n,"href",o=location.href)},m(s,l){$(s,e,l),p(e,n),p(n,a),p(e,u),f||(E=h(n,"click",t[23]),f=!0)},p:T,d(t){t&&d(e),f=!1,E()}}}function Mt(t){let e;const n=new S({props:{className:"nextButton",disabled:!t[12],onClick:t[22],icon:dt,$$slots:{default:[Ct]},$$scope:{ctx:t}}});return{c(){I(n.$$.fragment)},l(t){A(n.$$.fragment,t)},m(t,s){g(n,t,s),e=!0},p(t,e){const s={};4096&e[0]&&(s.disabled=!t[12]),268435456&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){v(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function kt(t){let e,n,s,a;const l=[wt,Gt],c=[];function i(t,e){return t[1]?0:1}return e=i(t),n=c[e]=l[e](t),{c(){n.c(),s=M()},l(t){n.l(t),s=M()},m(t,n){c[e].m(t,n),$(t,s,n),a=!0},p(t,a){let o=e;(e=i(t))===o?c[e].p(t,a):(N(),v(c[o],1,1,()=>{c[o]=null}),R(),(n=c[e])||(n=c[e]=l[e](t)).c(),E(n,1),n.m(s.parentNode,s))},i(t){a||(E(n),a=!0)},o(t){v(n),a=!1},d(t){c[e].d(t),t&&d(s)}}}function Ct(t){let e,n=Q.EDIT_THREAD.CONFIRM+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){$(t,e,n)},p:T,d(t){t&&d(e)}}}function Gt(t){let e;const n=new S({props:{className:"nextButton",disabled:!t[12],onClick:t[21],icon:lt,$$slots:{default:[Pt]},$$scope:{ctx:t}}});return{c(){I(n.$$.fragment)},l(t){A(n.$$.fragment,t)},m(t,s){g(n,t,s),e=!0},p(t,e){const s={};4096&e[0]&&(s.disabled=!t[12]),268435456&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){v(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function wt(t){let e;const n=new S({props:{className:"nextButton",disabled:!t[12],onClick:t[21],icon:ct,$$slots:{default:[Vt]},$$scope:{ctx:t}}});return{c(){I(n.$$.fragment)},l(t){A(n.$$.fragment,t)},m(t,s){g(n,t,s),e=!0},p(t,e){const s={};4096&e[0]&&(s.disabled=!t[12]),268435456&e[1]&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){e||(E(n.$$.fragment,t),e=!0)},o(t){v(n.$$.fragment,t),e=!1},d(t){D(n,t)}}}function Pt(t){let e,n=Q.NEW_THREAD.CONFIRM+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){$(t,e,n)},p:T,d(t){t&&d(e)}}}function Vt(t){let e,n=Q.REPLY_THREAD.CONFIRM+"";return{c(){e=l(n)},l(t){e=r(t,n)},m(t,n){$(t,e,n)},p:T,d(t){t&&d(e)}}}function jt(t){let e,n,s=(!t[9]||t[13])&&ut(t);return{c(){s&&s.c(),e=M()},l(t){s&&s.l(t),e=M()},m(t,a){s&&s.m(t,a),$(t,e,a),n=!0},p(t,n){!t[9]||t[13]?s?(s.p(t,n),8704&n[0]&&E(s,1)):((s=ut(t)).c(),E(s,1),s.m(e.parentNode,e)):s&&(N(),v(s,1,1,()=>{s=null}),R())},i(t){n||(E(s),n=!0)},o(t){v(s),n=!1},d(t){s&&s.d(t),t&&d(e)}}}function Wt(t,e,n){let s,a,l,c,i,o,r,d;k(t,C,t=>n(35,s=t)),k(t,G,t=>n(36,a=t)),k(t,w,t=>n(13,l=t)),k(t,P,t=>n(38,c=t)),k(t,V,t=>n(40,i=t)),k(t,j,t=>n(41,o=t)),k(t,W,t=>n(42,r=t)),k(t,U,t=>n(43,d=t));const m=Y();let u,$,{inlineComponent:p=!1}=e,{element:f=null}=e,h="",E="",I=null,A="",g="",T=null,v=!1,D=!1,N=B();F();let R=!1,y=!1,b=!1;function M(){b||(n(33,b=!0),n(9,y=s&&!!s.match(/posts\/.+\/edit/)||!1),n(34,S=!1))}let S=!1;async function Z(){if(mt&&!r){const t=_(dt,mt,y);t&&(await x(),ut&&n(2,h=t.title||""),n(3,E=t.message||""),n(4,I=t.image||null),t.itemId&&n(31,N=t.itemId))}return null}function z(){if(!y&&c){const t={id:N,message:H(E),image:I,type:c};switch(c){case"thread":t.title=H(h),t.channelId=d&&d.id,t.projectId=d&&d.projectId||o;break;case"threadPost":t.threadId=a,t.channelId=d&&d.id,t.projectId=d&&d.projectId||o;break;case"projectPost":t.projectId=o}let e=K(t);e&&e.then(t=>{t&&(t.success||t.addedPost||t.duplicateKey)&&L(dt,mt,y)}),ct()}}function X(){if(y){const t={message:H(E)};switch(l.type){case"thread":t.title=H(h)}I!==T&&(t.image=I);const e=q(t);e&&e.then(t=>{t&&(t.success||t.addedPost||t.duplicateKey)&&L(dt,mt,y)}),ct()}}O(async()=>{n(32,R=!0),await x(),ut?u&&u.focus():$&&$.focus(),C.subscribe(M)});let at=!1;function lt(){rt&&(y?X():z())}function ct(){p&&m("hide")}function it(){p&&m("resize")}let ot,rt,dt,mt,ut,$t,pt,ft,ht,Et,It;return t.$set=(t=>{"inlineComponent"in t&&n(1,p=t.inlineComponent),"element"in t&&n(0,f=t.element)}),t.$$.update=(()=>{if(512&t.$$.dirty[0]|33&t.$$.dirty[1]&&n(11,ot=y?a:N),8704&t.$$.dirty[0]|128&t.$$.dirty[1]&&n(37,dt=y&&l?l.type:c),8704&t.$$.dirty[0]|1632&t.$$.dirty[1]&&n(39,mt=(y?l&&l.id:"thread"===dt?i:"projectPost"===dt?o:a)||null),8732&t.$$.dirty[0]|270&t.$$.dirty[1]&&!S&&b&&R&&(y?l&&(n(2,h=l&&l.title||""),n(3,E=l&&l.message||""),n(4,I=l&&l.image||""),n(3,E=et(E)),n(28,A=h),n(29,g=E),n(30,T=I),Z(),n(34,S=!0)):mt&&(Z(),n(34,S=!0))),284&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(12,rt=(H(h)||H(E)||I&&"thread"!==dt)&&!D),64&t.$$.dirty[1]&&n(14,ut="thread"===dt),64&t.$$.dirty[1]&&n(15,$t="thread"===dt?"image/jpeg":null),128&t.$$.dirty[1]&&n(17,ht="projectPost"===c),131072&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(16,pt=!("thread"!==dt&&!ht)),514&t.$$.dirty[0]|64&t.$$.dirty[1]&&n(19,Et="projectPost"===dt?y?Q.EDIT_PROJECT_POST.PAGE_TITLE:Q.NEW_PROJECT_POST.PAGE_TITLE:"thread"===dt?y?Q.EDIT_THREAD.PAGE_TITLE:Q.NEW_THREAD.PAGE_TITLE:p?Q.REPLY_THREAD.PAGE_TITLE:y?Q.EDIT_THREAD_POST.PAGE_TITLE:Q.NEW_THREAD_POST.PAGE_TITLE),262288&t.$$.dirty[0]&&n(20,It=ft&&(I||v)),1048576&t.$$.dirty[0]&&it(),1879056924&t.$$.dirty[0]|327&t.$$.dirty[1]&&mt&&b&&R){const t={title:h,message:E,image:I};y||(t.itemId=N);const e=_(dt,mt,y);y?l&&(!e&&nt(h,A)&&nt(E,g)&&I===T||(nt(h,A)&&nt(E,g)&&I===T?L(dt,mt,y):st(dt,mt,y,t))):(e||h||E||I)&&(h||E||I?st(dt,mt,y,t):L(dt,mt,y))}if(1879056924&t.$$.dirty[0]|326&t.$$.dirty[1]&&y&&mt&&b&&R){const t=_(dt,mt,y);n(10,at=!(!t||!l)&&(!nt(h,A)||!nt(E,g)||I!==T))}}),n(18,ft=!0),[f,p,h,E,I,u,$,v,D,y,at,ot,rt,l,ut,$t,pt,ht,ft,Et,It,z,X,function(){y&&at&&mt&&(n(2,h=A),n(3,E=g),n(4,I=T),L(dt,mt,y))},lt,function(){n(7,v=!0)},function(){n(7,v=!1),n(4,I=null)},ct,A,g,T,N,R,b,S,s,a,dt,c,mt,i,o,r,d,m,M,Z,it,function(){h=this.value,n(2,h),n(34,S),n(33,b),n(32,R),n(9,y),n(13,l),n(3,E),n(4,I),n(39,mt),n(37,dt),n(40,i),n(41,o),n(36,a),n(38,c)},function(t){J[t?"unshift":"push"](()=>{n(5,u=t)})},t=>tt(t,{target:$,action:lt,actionOnCtrl:!0}),function(){E=this.value,n(3,E),n(34,S),n(33,b),n(32,R),n(9,y),n(13,l),n(2,h),n(4,I),n(39,mt),n(37,dt),n(40,i),n(41,o),n(36,a),n(38,c)},function(t){J[t?"unshift":"push"](()=>{n(6,$=t)})},t=>tt(t,{action:lt,actionOnCtrl:!0}),function(t){n(4,I=t),n(34,S),n(33,b),n(32,R),n(9,y),n(13,l),n(3,E),n(2,h),n(39,mt),n(37,dt),n(40,i),n(41,o),n(36,a),n(38,c)},function(t){n(8,D=t)},function(t){n(4,I=t),n(34,S),n(33,b),n(32,R),n(9,y),n(13,l),n(3,E),n(2,h),n(39,mt),n(37,dt),n(40,i),n(41,o),n(36,a),n(38,c)},function(t){n(8,D=t)},function(t){J[t?"unshift":"push"](()=>{n(0,f=t)})}]}class Ut extends t{constructor(t){super(),e(this,t,Wt,jt,n,{inlineComponent:1,element:0},[-1,-1])}}export{Ut as E};
